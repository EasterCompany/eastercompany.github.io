{
  "version": 3,
  "sources": ["source/dex/styler.js", "source/dex/Window.js", "source/dex/main.js"],
  "sourcesContent": ["// styler.js - Placeholder for dynamic styles and elements.\n\nexport function applyBaseStyles() {\n    console.log(\"Applying base styles dynamically (e.g., for background animation or theme toggles).\");\n}\n\nfunction getCleanHostname() {\n    let hostname = window.location.hostname;\n\n    // Remove port if present (e.g., localhost:8000 -> localhost)\n    if (hostname.includes(':')) {\n        hostname = hostname.split(':')[0];\n    }\n\n    const parts = hostname.split('.');\n    const tlds = ['com', 'org', 'net', 'info', 'biz', 'co', 'io', 'company', 'xyz', 'app']; // Add more TLDs as needed\n\n    // Handle localhost and IP addresses\n    if (hostname === 'localhost' || hostname.match(/^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/)) {\n        return hostname;\n    }\n\n    // Iterate from the end to find the significant part\n    // Example: test.dev.easter.company\n    // parts = [\"test\", \"dev\", \"easter\", \"company\"]\n    // i=3: \"company\" is a TLD\n    // i=2: \"easter\" is not a TLD, so current = \"easter\"\n    // i=1: \"dev\" is not a TLD, so current = \"dev\"\n    // i=0: \"test\" is not a TLD, so current = \"test\"\n    // The logic needs to find the *effective* domain and then the subdomain part.\n\n    // A simpler approach: find the last part that's not a TLD or common secondary domain,\n    // and if there's a part before it, use that as the subdomain.\n    let cleanName = hostname;\n    for (let i = parts.length - 1; i >= 0; i--) {\n        const part = parts[i];\n        if (tlds.includes(part)) {\n            // This is a TLD, continue to the next part\n            cleanName = parts.slice(0, i).join('.'); // Reconstruct hostname without TLDs\n        } else {\n            // Found a non-TLD part. This is likely the main domain or a subdomain.\n            // If there's only one part left (e.g., \"easter\"), or it's an IP/localhost after stripping TLDs, use it.\n            // If there are multiple parts (e.g., \"dev.easter\"), the last one is the domain, the one before is the subdomain.\n            const remainingParts = cleanName.split('.');\n            if (remainingParts.length > 1 && remainingParts[remainingParts.length - 1] !== 'www') {\n                return remainingParts[0]; // Return the deepest subdomain\n            } else if (remainingParts.length === 1 && remainingParts[0] === 'www') {\n                // If only \"www\", try to get the next part if it's there\n                if (i > 0 && !tlds.includes(parts[i-1])) {\n                    return parts[i-1];\n                }\n            }\n            return remainingParts[remainingParts.length -1]; // Default to main domain if no deep subdomain\n        }\n    }\n    \n    // Fallback for cases like \"www.google.com\" -> \"www\", or single word domains\n    // Let's refine the logic to always get the effective domain or the most specific subdomain.\n    const effectiveDomainParts = [];\n    let foundNonTld = false;\n    for (let i = parts.length - 1; i >= 0; i--) {\n        const part = parts[i];\n        if (tlds.includes(part) && !foundNonTld) {\n            // Skip TLDs from the right\n            continue;\n        } else {\n            foundNonTld = true;\n            effectiveDomainParts.unshift(part); // Add to the beginning\n        }\n    }\n\n    if (effectiveDomainParts.length === 0) {\n        return hostname; // Fallback if nothing found (e.g., just TLDs or malformed)\n    }\n\n    // Now effectiveDomainParts could be [\"easter\", \"company\"] or [\"dev\", \"easter\", \"company\"]\n    // If it's [\"www\", \"easter\"], we want \"easter\"\n    if (effectiveDomainParts[0] === 'www' && effectiveDomainParts.length > 1) {\n        return effectiveDomainParts[1];\n    }\n    \n    // If there's more than one part, return the first (deepest subdomain)\n    if (effectiveDomainParts.length > 1) {\n        return effectiveDomainParts[0];\n    }\n    \n    return effectiveDomainParts[0]; // Otherwise, return the single part (e.g., \"localhost\", \"easter\")\n}\n\n\nexport function injectNavbar() {\n    const navbarHTML = `\n        <div class=\"nav-left\">\n            <h1>${getCleanHostname()}</h1>\n        </div>\n        <div class=\"nav-right\">\n            <i id=\"message-icon\" class='bx bxs-message-dots'></i>\n            <i class='bx bx-microphone'></i>\n            <i id=\"user-icon\" class='bx bx-user'></i>\n        </div>\n    `;\n\n    const navbar = document.createElement('nav');\n    navbar.innerHTML = navbarHTML;\n    document.body.prepend(navbar);\n}\n\nexport function injectFooter() {\n    const footerHTML = `\n        <div class=\"socials-section\">\n            <a href=\"https://facebook.com/eastercompany\" aria-label=\"Facebook\" target=\"_blank\" rel=\"noopener noreferrer\"><i class=\"bx bxl-facebook-square\"></i></a>\n            <a href=\"https://linkedin.com/company/72223947\" aria-label=\"LinkedIn\" target=\"_blank\" rel=\"noopener noreferrer\"><i class=\"bx bxl-linkedin\"></i></a>\n            <a href=\"https://instagram.com/eastercompany\" aria-label=\"Instagram\" target=\"_blank\" rel=\"noopener noreferrer\"><i class=\"bx bxl-instagram-alt\"></i></a>\n            <a href=\"https://x.com/eastercompany\" aria-label=\"X\" target=\"_blank\" rel=\"noopener noreferrer\"><i class=\"bx bxl-twitter\"></i></a>\n            <a href=\"https://github.com/eastercompany\" aria-label=\"GitHub\" target=\"_blank\" rel=\"noopener noreferrer\"><i class=\"bx bxl-github\"></i></a>\n            <a href=\"https://youtube.com/@eastercompany\" aria-label=\"YouTube\" target=\"_blank\" rel=\"noopener noreferrer\"><i class=\"bx bxl-youtube\"></i></a>\n        </div>\n    `;\n    \n    const footer = document.createElement('footer');\n    footer.innerHTML = footerHTML;\n    document.body.appendChild(footer);\n}", "// source/dex/Window.js\n\n/**\n * Creates and manages a single window instance.\n * @param {object} options - Configuration for the window.\n * @param {string} options.id - A unique ID for the window.\n * @param {string} options.content - The initial HTML content for the window.\n */\nexport function createWindow(options) {\n    let windowEl = null;\n\n    function open() {\n        if (windowEl) {\n            // If window already exists, just ensure it's open\n            windowEl.classList.add('open');\n            return;\n        }\n\n        // 1. Get or create the main container\n        let container = document.getElementById('windows-container');\n        if (!container) {\n            container = document.createElement('div');\n            container.id = 'windows-container';\n            container.className = 'windows-container';\n            document.body.appendChild(container);\n        }\n\n        // 2. Create the window element\n        windowEl = document.createElement('div');\n        windowEl.id = options.id;\n        windowEl.className = 'window';\n        windowEl.innerHTML = `<div class=\"window-content\">${options.content}</div>`;\n        \n        container.appendChild(windowEl);\n\n        // 3. Trigger the animation\n        // We need a short delay to allow the element to be added to the DOM before adding the 'open' class\n        setTimeout(() => {\n            windowEl.classList.add('open');\n        }, 10);\n    }\n\n    function close() {\n        if (!windowEl) return;\n        \n        windowEl.classList.remove('open');\n        \n        // Remove the element from the DOM after the animation completes\n        setTimeout(() => {\n            if (windowEl && windowEl.parentNode) {\n                windowEl.parentNode.removeChild(windowEl);\n            }\n            windowEl = null; // Clean up reference\n        }, 400); // Must match the transition duration in CSS\n    }\n\n    function setContent(content) {\n        if (windowEl) {\n            windowEl.innerHTML = content;\n        }\n    }\n    \n    function isOpen() {\n        return windowEl && windowEl.classList.contains('open');\n    }\n\n    return {\n        open,\n        close,\n        setContent,\n        isOpen,\n        id: options.id,\n    };\n}\n", "// Easter Company - Universal JS Entrypoint\nimport { applyBaseStyles, injectNavbar, injectFooter } from './styler.js';\nimport { createWindow } from './Window.js';\n\nfunction onReady() {\n    console.log(\"Welcome to Easter Company.\");\n    applyBaseStyles();\n    injectNavbar();\n    injectFooter();\n\n    // --- Window Management ---\n    const footer = document.querySelector('footer');\n    let openWindow = null;\n\n    const userWindow = createWindow({\n        id: 'user-window',\n        content: '<h1>User Profile</h1><p>This is the user profile window.</p>',\n    });\n\n    const messageWindow = createWindow({\n        id: 'message-window',\n        content: '<h1>Messages</h1><p>This is the message window.</p>',\n    });\n\n    function handleWindow(windowInstance) {\n        if (openWindow && openWindow.id === windowInstance.id) {\n            // If the clicked window is already open, close it.\n            windowInstance.close();\n            openWindow = null;\n        } else {\n            // If another window is open, close it first (but don't hide footer yet).\n            if (openWindow) {\n                openWindow.close();\n            }\n            // Open the new window.\n            windowInstance.open();\n            openWindow = windowInstance;\n        }\n\n        // Update footer visibility based on whether any window is open.\n        if (openWindow) {\n            footer?.classList.add('hide');\n        } else {\n            footer?.classList.remove('hide');\n        }\n    }\n\n    const userIcon = document.getElementById('user-icon');\n    const messageIcon = document.getElementById('message-icon');\n\n    if (userIcon) {\n        userIcon.addEventListener('click', () => handleWindow(userWindow));\n    }\n\n    if (messageIcon) {\n        messageIcon.addEventListener('click', () => handleWindow(messageWindow));\n    }\n}\n\n// Run when the DOM is ready\nif (document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", onReady);\n} else {\n    onReady();\n}\n"],
  "mappings": "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",
  "names": ["applyBaseStyles", "getCleanHostname", "hostname", "parts", "tlds", "cleanName", "i", "part", "remainingParts", "effectiveDomainParts", "foundNonTld", "injectNavbar", "navbarHTML", "navbar", "injectFooter", "footerHTML", "footer", "createWindow", "options", "windowEl", "open", "container", "close", "setContent", "content", "isOpen", "onReady", "applyBaseStyles", "injectNavbar", "injectFooter", "footer", "openWindow", "userWindow", "createWindow", "messageWindow", "handleWindow", "windowInstance", "userIcon", "messageIcon"]
}
