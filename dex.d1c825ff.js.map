{
  "version": 3,
  "sources": ["source/dex/styler.js", "source/dex/Window.js", "source/dex/auth.js", "source/dex/theme.js", "source/dex/utils.js", "source/dex/notifications.js", "source/dex/roadmap.js", "source/dex/blueprints.js", "source/dex/ideas.js", "source/dex/contacts.js", "source/dex/templates.js", "source/dex/events.js", "source/dex/logs.js", "source/dex/monitor.js", "source/dex/settings.js", "source/dex/ErrorView.js", "source/dex/SocialsBar.js", "source/dex/cli.js", "source/dex/main.js"],
  "sourcesContent": ["// styler.js - Placeholder for dynamic styles and elements.\n\nexport function applyBaseStyles() {\n    console.log(\"Applying base styles dynamically (e.g., for background animation or theme toggles).\");\n}\n\nfunction getCleanHostname() {\n    let hostname = window.location.hostname;\n\n    // Remove port if present (e.g., localhost:8000 -> localhost)\n    if (hostname.includes(':')) {\n        hostname = hostname.split(':')[0];\n    }\n\n    const parts = hostname.split('.');\n    const tlds = ['com', 'org', 'net', 'info', 'biz', 'co', 'io', 'company', 'xyz', 'app']; // Add more TLDs as needed\n\n    // Handle localhost and IP addresses\n    if (hostname === 'localhost' || hostname.match(/^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/)) {\n        return hostname;\n    }\n\n    // Iterate from the end to find the significant part\n    let cleanName = hostname;\n    for (let i = parts.length - 1; i >= 0; i--) {\n        const part = parts[i];\n        if (tlds.includes(part)) {\n            // This is a TLD, continue to the next part\n            cleanName = parts.slice(0, i).join('.'); // Reconstruct hostname without TLDs\n        } else {\n            // Found a non-TLD part. This is likely the main domain or a subdomain.\n            const remainingParts = cleanName.split('.');\n            if (remainingParts.length > 1 && remainingParts[remainingParts.length - 1] !== 'www') {\n                return remainingParts[0]; // Return the deepest subdomain\n            } else if (remainingParts.length === 1 && remainingParts[0] === 'www') {\n                // If only \"www\", try to get the next part if it's there\n                if (i > 0 && !tlds.includes(parts[i-1])) {\n                    return parts[i-1];\n                }\n            }\n            return remainingParts[remainingParts.length -1]; // Default to main domain if no deep subdomain\n        }\n    }\n    \n    const effectiveDomainParts = [];\n    let foundNonTld = false;\n    for (let i = parts.length - 1; i >= 0; i--) {\n        const part = parts[i];\n        if (tlds.includes(part) && !foundNonTld) {\n            continue;\n        } else {\n            foundNonTld = true;\n            effectiveDomainParts.unshift(part);\n        }\n    }\n\n    if (effectiveDomainParts.length === 0) {\n        return hostname;\n    }\n\n    if (effectiveDomainParts[0] === 'www' && effectiveDomainParts.length > 1) {\n        return effectiveDomainParts[1];\n    }\n    \n    if (effectiveDomainParts.length > 1) {\n        return effectiveDomainParts[0];\n    }\n    \n    return effectiveDomainParts[0];\n}\n\n\n/**\n * Injects the navbar with conditional content based on login state\n * @param {boolean} isLoggedIn - Whether the user is logged in\n */\nexport function injectNavbar(isLoggedIn = false) {\n    const isDexPath = window.location.pathname.includes('/dex');\n    \n    const leftButtonHTML = isDexPath ? `\n        <div class=\"nav-brand-container\" id=\"nav-root-link\" title=\"Back to Home\">\n            <i class='bx bx-microphone' id=\"navbar-microphone\"></i>\n        </div>` : `\n        <div class=\"nav-brand-container\" id=\"nav-root-link\" title=\"Back to Home\">\n            <img src=\"/static/meta/favicon.svg\" alt=\"Easter Company\" class=\"navbar-favicon\">\n        </div>`;\n\n    const authIcons = isLoggedIn ? `\n        <div class=\"nav-right\">\n            <div class=\"nav-tab\" id=\"notif-icon\" data-tab-index=\"0\">\n                <i class='bx bx-bell'></i>\n                <span class=\"nav-tab-title\">Notifications</span>\n                <div class=\"nav-dot\" id=\"notif-dot\"></div>\n            </div>\n            <div class=\"nav-tab\" id=\"events-icon\" data-tab-index=\"1\">\n                <i class='bx bx-calendar-event'></i>\n                <span class=\"nav-tab-title\">Events</span>\n                <div class=\"nav-dot\" id=\"events-dot\"></div>\n            </div>\n            <div class=\"nav-tab\" id=\"ideas-icon\" data-tab-index=\"2\">\n                <i class='bx bx-bulb'></i>\n                <span class=\"nav-tab-title\">Ideas</span>\n                <div class=\"nav-dot\" id=\"ideas-dot\"></div>\n            </div>\n            <div class=\"nav-tab\" id=\"system-icon\" data-tab-index=\"3\">\n                <i class='bx bx-server'></i>\n                <span class=\"nav-tab-title\">System</span>\n                <div class=\"nav-dot\" id=\"system-dot\"></div>\n            </div>\n            <div class=\"nav-tab\" id=\"contacts-icon\" data-tab-index=\"4\">\n                <i class='bx bx-book-content'></i>\n                <span class=\"nav-tab-title\">Contacts</span>\n                <div class=\"nav-dot\" id=\"contacts-dot\"></div>\n            </div>\n            <div class=\"nav-tab\" id=\"settings-icon\" data-tab-index=\"5\">\n                <i class='bx bx-cog'></i>\n                <span class=\"nav-tab-title\">Settings</span>\n            </div>\n        </div>` : `<button id=\"login-btn\" class=\"login-btn\">Login</button>`;\n\n    const navbarHTML = `\n        <div class=\"nav-left\">\n            ${leftButtonHTML}\n        </div>\n        ${authIcons}\n        <div class=\"nav-close-container\" id=\"nav-window-close\" title=\"Close Window\">\n            <i class='bx bx-x'></i>\n        </div>\n    `;\n\n    const navbar = document.createElement('nav');\n    navbar.id = 'main-navbar';\n    navbar.innerHTML = navbarHTML;\n    document.body.prepend(navbar);\n\n    // Add click listener for root link\n    document.getElementById('nav-root-link')?.addEventListener('click', () => {\n        window.location.href = '/';\n    });\n}\n", "// source/dex/Window.js\n\n/**\n * Creates and manages a high-fidelity window instance.\n */\nexport function createWindow(options) {\n    let windowEl = null;\n    let currentContent = options.content || '';\n    let closeCallback = options.onClose || null;\n    let openCallback = options.onOpen || null;\n    let isTransitioning = false;\n\n    function open() {\n        if (isTransitioning) return;\n        \n        if (windowEl) {\n            windowEl.classList.remove('switching');\n            windowEl.classList.add('open');\n            if (openCallback) setTimeout(openCallback, 10);\n            return;\n        }\n\n        let container = document.getElementById('windows-container');\n        if (!container) {\n            container = document.createElement('div');\n            container.id = 'windows-container';\n            container.className = 'windows-container';\n            document.body.appendChild(container);\n        }\n\n        windowEl = document.createElement('div');\n        windowEl.id = options.id;\n        windowEl.className = 'window';\n        windowEl.innerHTML = `<div class=\"window-content\">${currentContent}</div>`;\n        container.appendChild(windowEl);\n\n        // Natural browser repaint before adding 'open' class\n        requestAnimationFrame(() => {\n            requestAnimationFrame(() => {\n                if (windowEl) {\n                    windowEl.classList.add('open');\n                    if (openCallback) openCallback();\n                }\n            });\n        });\n    }\n\n    function close(immediate = false) {\n        if (!windowEl || isTransitioning) return;\n        isTransitioning = true;\n\n        if (immediate) {\n            windowEl.classList.add('switching');\n            windowEl.classList.remove('open');\n            setTimeout(() => {\n                destroy();\n                isTransitioning = false;\n            }, 300);\n        } else {\n            windowEl.classList.remove('open');\n            if (closeCallback) closeCallback();\n            setTimeout(() => {\n                destroy();\n                isTransitioning = false;\n            }, 500);\n        }\n    }\n\n    function destroy() {\n        if (windowEl && windowEl.parentNode) {\n            windowEl.parentNode.removeChild(windowEl);\n        }\n        windowEl = null;\n    }\n\n    function setContent(content) {\n        currentContent = content;\n        if (windowEl) {\n            const contentDiv = windowEl.querySelector('.window-content');\n            if (contentDiv) contentDiv.innerHTML = content;\n        }\n    }\n    \n    function isOpen() {\n        return windowEl && windowEl.classList.contains('open');\n    }\n\n    return {\n        open,\n        close,\n        setContent,\n        isOpen,\n        id: options.id,\n    };\n}\n", "// auth.js - Zero-friction authentication\n\n/**\n * Check if user is logged in\n * @returns {boolean}\n */\nexport function isLoggedIn() {\n    return true; // Always available\n}\n\n/**\n * Get the logged in user's email\n * @returns {string|null}\n */\nexport function getUserEmail() {\n    return localStorage.getItem('easter_user_email') || 'master@easter.company';\n}\n\n/**\n * Login with email (stored locally for profile display)\n * @param {string} email\n */\nexport function login(email) {\n    localStorage.setItem('easter_user_email', email.trim());\n}\n\n/**\n * Logout user\n */\nexport function logout() {\n    localStorage.removeItem('easter_user_email');\n}", "// theme.js - Theme management system\n\nconst THEME_KEY = 'easter_theme';\n\nexport const THEMES = {\n    AUTO: 'auto',\n    DEFAULT: 'default',\n    ANIMATED: 'animated'\n};\n\n/**\n * Get the current theme preference\n * @returns {string}\n */\nexport function getCurrentTheme() {\n    return localStorage.getItem(THEME_KEY) || THEMES.AUTO;\n}\n\n/**\n * Determine which theme to apply based on Auto rules\n * @returns {string} Either THEMES.DEFAULT or THEMES.ANIMATED\n */\nfunction resolveAutoTheme() {\n    const width = window.innerWidth;\n    const height = window.innerHeight;\n    const isFullscreen = window.innerHeight === window.screen.height && window.innerWidth === window.screen.width;\n\n    // Use Legacy if window is above 1920x1080\n    if (width > 1920 && height > 1080) {\n        return THEMES.ANIMATED;\n    }\n\n    // Use Default if equal to 1920x1080 AND fullscreen, OR below 1920x1080\n    if ((width === 1920 && height === 1080 && isFullscreen) || width <= 1920 || height <= 1080) {\n        return THEMES.DEFAULT;\n    }\n\n    return THEMES.DEFAULT;\n}\n\n/**\n * Set the theme\n * @param {string} theme\n */\nexport function setTheme(theme) {\n    if (!Object.values(THEMES).includes(theme)) {\n        throw new Error('Invalid theme');\n    }\n    localStorage.setItem(THEME_KEY, theme);\n    applyTheme(theme);\n}\n\n/**\n * Apply the theme to the document\n * @param {string} theme - The theme preference (can be AUTO, DEFAULT, or ANIMATED)\n * @param {boolean} skipTransition - Whether to skip the transition animation\n */\nexport function applyTheme(theme, skipTransition = false) {\n    const body = document.body;\n\n    // Resolve AUTO theme to actual theme\n    const resolvedTheme = theme === THEMES.AUTO ? resolveAutoTheme() : theme;\n\n    if (!skipTransition) {\n        // Add transition class for fade effect\n        body.classList.add('theme-transitioning');\n\n        // Remove transition class after animation\n        setTimeout(() => {\n            body.classList.remove('theme-transitioning');\n        }, 300);\n    }\n\n    // Remove all theme classes\n    Object.values(THEMES).forEach(t => {\n        body.classList.remove(`theme-${t}`);\n    });\n\n    // Add current theme class\n    body.classList.add(`theme-${theme}`);\n\n    // Handle background element with smooth transition\n    if (resolvedTheme === THEMES.ANIMATED) {\n        // Create background element if it doesn't exist\n        if (!document.querySelector('.background')) {\n            const bg = document.createElement('div');\n            bg.className = 'background';\n            document.body.prepend(bg);\n        }\n    } else {\n        // Remove background element with fade out\n        const bg = document.querySelector('.background');\n        if (bg) {\n            if (skipTransition) {\n                bg.remove();\n            } else {\n                bg.style.animation = 'fadeOutBackground 0.4s ease forwards';\n                setTimeout(() => {\n                    bg.remove();\n                }, 400);\n            }\n        }\n    }\n}\n\n/**\n * Initialize theme on page load\n */\nexport function initTheme() {\n    const currentTheme = getCurrentTheme();\n    applyTheme(currentTheme, true); // Skip transition on initial load\n\n    // Add resize listener for auto theme\n    if (currentTheme === THEMES.AUTO) {\n        let resizeTimeout;\n        window.addEventListener('resize', () => {\n            clearTimeout(resizeTimeout);\n            resizeTimeout = setTimeout(() => {\n                applyTheme(THEMES.AUTO);\n            }, 300); // Debounce resize events\n        });\n    }\n}\n", "// Shared Utility Functions\n\n/**\n * Returns a high-fidelity glassy abstract loader HTML.\n */\nexport function getGlassyLoader() {\n    return `\n        <div class=\"glassy-loader-container\">\n            <div class=\"glassy-loader\">\n                <div class=\"glassy-orbit\"></div>\n                <div class=\"glassy-core\"></div>\n                <div class=\"glassy-pulse\"></div>\n            </div>\n            <p class=\"loader-text\">DEXTER IS THINKING</p>\n        </div>\n    `;\n}\n\nexport function createPlaceholderMessage(type, message, actionText = null) {\n    const iconMap = { config: 'bx-cog', error: 'bx-error-circle', empty: 'bx-info-circle', offline: 'bx-wifi-off' };\n    const icon = iconMap[type] || 'bx-info-circle';\n    const actionHtml = actionText ? `<p class=\"placeholder-action\">${actionText}</p>` : '';\n    return `<div class=\"tab-placeholder\"><i class='bx ${icon} placeholder-icon'></i><p class=\"placeholder-message\">${message}</p>${actionHtml}</div>`;\n}\n\nexport function escapeHtml(text) {\n    if (!text) return text;\n    return text\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n        .replace(/\"/g, \"&quot;\")\n        .replace(/'/g, \"&#039;\");\n}\n\n/**\n * Updates a notification dot on the navbar.\n * @param {string} dotId - The ID of the dot element (e.g., \"notif-dot\")\n * @param {boolean} show - Whether to show the dot\n */\nexport function updateNavDot(dotId, show) {\n    const dot = document.getElementById(dotId);\n    if (dot) {\n        dot.style.display = show ? 'block' : 'none';\n    }\n}\n\nexport function updateUnreadNotificationCount() {\n    const notificationsList = document.getElementById('notifications-list');\n    if (!notificationsList) return;\n    \n    const unreadCount = notificationsList.querySelectorAll('.notification-unread').length;\n    updateNavDot('notif-dot', unreadCount > 0);\n}\n\n/**\n * Resolves the primary production URL or the local fallback.\n */\nexport function getEventServiceUrl() {\n    return 'https://event.easter.company';\n}\n\nexport const LOCAL_EVENT_SERVICE = 'http://127.0.0.1:8100';\n\n/**\n * Resolves the primary production URL or the local fallback for Discord service.\n */\nexport function getDiscordServiceUrl() {\n    return 'https://discord.easter.company';\n}\n\nexport const LOCAL_DISCORD_SERVICE = 'http://127.0.0.1:8300';\n\nconst ANSI_MAP = {\n    '31': 'ansi-red',\n    '91': 'ansi-bright-red',\n    '32': 'ansi-green',\n    '33': 'ansi-yellow',\n    '34': 'ansi-blue',\n    '35': 'ansi-purple',\n    '36': 'ansi-cyan',\n    '37': 'ansi-white',\n    '90': 'ansi-dark-gray'\n};\n\n/**\n * Converts ANSI escape sequences to HTML spans with color classes.\n */\nexport function ansiToHtml(text) {\n    let escaped = escapeHtml(text);\n    \n    // Handle Reset\n    escaped = escaped.replace(/\\x1b\\[0m/g, '</span>');\n\n    // Handle Colors\n    escaped = escaped.replace(/\\x1b\\[(\\d+)m/g, (match, code) => {\n        const className = ANSI_MAP[code];\n        return className ? `<span class=\"${className}\">` : '';\n    });\n\n    // Cleanup unclosed spans\n    const openCount = (escaped.match(/<span/g) || []).length;\n    const closeCount = (escaped.match(/<\\/span/g) || []).length;\n    if (openCount > closeCount) {\n        escaped += '</span>'.repeat(openCount - closeCount);\n    }\n\n    return escaped;\n}\n\nlet resolvedBaseUrl = null;\nlet resolvedDiscordBaseUrl = null;\nlet isFallingBack = false;\nlet isDiscordFallingBack = false;\n\n/**\n * Executes a fetch against the primary domain, falling back to local on failure.\n * Remembers the working endpoint to prevent console spam.\n */\nexport async function smartFetch(endpoint, options = {}) {\n    if (resolvedBaseUrl) {\n        try {\n            const response = await fetch(resolvedBaseUrl + endpoint, options);\n            if (response.ok) return response;\n            resolvedBaseUrl = null;\n        } catch (e) {\n            resolvedBaseUrl = null;\n        }\n    }\n\n    const primary = getEventServiceUrl();\n    const fallback = LOCAL_EVENT_SERVICE;\n\n    try {\n        const response = await fetch(primary + endpoint, options);\n        if (response.ok) {\n            resolvedBaseUrl = primary;\n            if (isFallingBack) {\n                console.log('\u2728 Production event service restored.');\n                isFallingBack = false;\n            }\n            return response;\n        }\n        throw new Error('Primary failed');\n    } catch (e) {\n        if (!isFallingBack) {\n            console.warn(`\uD83C\uDF10 Production service unreachable. Falling back to local: ${fallback}`);\n            isFallingBack = true;\n        }\n        \n        try {\n            const response = await fetch(fallback + endpoint, options);\n            if (response.ok) {\n                resolvedBaseUrl = fallback;\n                return response;\n            }\n            throw new Error('Fallback failed');\n        } catch (e2) {\n            throw e2;\n        }\n    }\n}\n\n/**\n * Executes a fetch against the primary Discord domain, falling back to local on failure.\n */\nexport async function smartDiscordFetch(endpoint, options = {}) {\n    if (resolvedDiscordBaseUrl) {\n        try {\n            const response = await fetch(resolvedDiscordBaseUrl + endpoint, options);\n            if (response.ok) return response;\n            resolvedDiscordBaseUrl = null;\n        } catch (e) {\n            resolvedDiscordBaseUrl = null;\n        }\n    }\n\n    const primary = getDiscordServiceUrl();\n    const fallback = LOCAL_DISCORD_SERVICE;\n\n    try {\n        const response = await fetch(primary + endpoint, options);\n        if (response.ok) {\n            resolvedDiscordBaseUrl = primary;\n            if (isDiscordFallingBack) {\n                console.log('\u2728 Production discord service restored.');\n                isDiscordFallingBack = false;\n            }\n            return response;\n        }\n        throw new Error('Primary failed');\n    } catch (e) {\n        if (!isDiscordFallingBack) {\n            console.warn(`\uD83C\uDF10 Production discord service unreachable. Falling back to local: ${fallback}`);\n            isDiscordFallingBack = true;\n        }\n        \n        try {\n            const response = await fetch(fallback + endpoint, options);\n            if (response.ok) {\n                resolvedDiscordBaseUrl = fallback;\n                return response;\n            }\n            throw new Error('Fallback failed');\n        } catch (e2) {\n            throw e2;\n        }\n    }\n}", "// Notifications Tab Logic\nimport { createPlaceholderMessage, updateUnreadNotificationCount, escapeHtml, smartFetch, getGlassyLoader } from './utils.js';\n\nexport const getNotificationsContent = () => `\n    <div class=\"notifications-actions\">\n        <button id=\"notif-read-all\" class=\"notif-action-btn\"><i class='bx bx-check-double'></i> Read All</button>\n        <button id=\"notif-expand-all\" class=\"notif-action-btn\"><i class='bx bx-expand'></i> Expand All</button>\n        <button id=\"notif-close-all\" class=\"notif-action-btn\"><i class='bx bx-collapse'></i> Close All</button>\n        <button id=\"notif-clear\" class=\"notif-action-btn danger\"><i class='bx bx-trash'></i> Clear</button>\n    </div>\n    <div id=\"notifications-list\" class=\"notifications-list events-timeline\" style=\"display: flex; flex-direction: column; gap: 15px;\">\n        ${getGlassyLoader()}\n    </div>\n`;\n\n// Export this to track updates in main.js if needed, or manage it internally\nexport let lastNotificationsUpdate = null;\n\n// Track expanded state globally within the module\nlet activeExpandedIds = new Set();\nlet currentFilteredNotifications = [];\n\nexport async function updateNotificationsTab(forceReRender = false) {\n  const notificationsContainer = document.getElementById('notifications-list');\n  if (!notificationsContainer) return;\n\n  // Attach button listeners if not already attached\n  attachActionListeners();\n\n  if (forceReRender) {\n    notificationsContainer.innerHTML = '<p>Updating...</p>';\n  }\n\n  // Fetch only notifications\n  const url = `/events?ml=1000&format=json&event.type=system.notification.generated`;\n\n  try {\n    const response = await smartFetch(url);\n    if (!response.ok) throw new Error('Service is offline or unreachable.');\n\n    const data = await response.json();\n    const allNotifications = data.events || [];\n\n    lastNotificationsUpdate = Date.now();\n\n    // Persistence Logic Filter:\n    // 1. Always keep UNREAD notifications.\n    // 2. Keep READ notifications for 24 hours after they were marked as read.\n    const now = Date.now();\n    const persistenceThreshold = 24 * 60 * 60 * 1000; // 24 hours\n\n    const filteredNotifications = allNotifications.filter(event => {\n      const readTSStr = localStorage.getItem(`notification_read_ts_${event.id}`);\n      if (!readTSStr) return true; // Keep unread\n\n      const readTS = parseInt(readTSStr);\n      return (now - readTS) < persistenceThreshold; // Keep if read within last 24h\n    });\n\n    // Sort: Priority (Desc) -> Time (Desc)\n    filteredNotifications.sort((a, b) => {\n      const getPriority = (evt) => {\n        let data = evt.event;\n        if (typeof data === 'string') {\n          try { data = JSON.parse(data); } catch (e) { return 'low'; }\n        }\n        return (data.priority || 'low').toLowerCase();\n      };\n\n      const score = (p) => {\n        if (p === 'critical') return 4;\n        if (p === 'high') return 3;\n        if (p === 'medium') return 2;\n        return 1;\n      };\n\n      const scoreA = score(getPriority(a));\n      const scoreB = score(getPriority(b));\n\n      if (scoreA !== scoreB) {\n        return scoreB - scoreA; // Higher priority first\n      }\n      return b.timestamp - a.timestamp; // Newer timestamp first\n    });\n\n    currentFilteredNotifications = filteredNotifications;\n\n    const getPriority = (evt) => {\n      let data = evt.event;\n      if (typeof data === 'string') {\n        try { data = JSON.parse(data); } catch (e) { return 'low'; }\n      }\n      return (data.priority || 'low').toLowerCase();\n    };\n\n    // Build Display List with Dividers\n    const displayList = [];\n    const uniquePriorities = new Set(filteredNotifications.map(n => getPriority(n)));\n    const showDividers = uniquePriorities.size > 1;\n\n    if (filteredNotifications.length > 0) {\n      let lastPriority = null;\n      filteredNotifications.forEach(n => {\n        const p = getPriority(n);\n        if (showDividers && p !== lastPriority) {\n          displayList.push({ id: `divider-${p}`, type: 'divider', label: p.toUpperCase() });\n          lastPriority = p;\n        }\n        displayList.push(n);\n      });\n    }\n\n    if (forceReRender) {\n      notificationsContainer.innerHTML = '';\n    }\n\n    if (filteredNotifications.length === 0) {\n      notificationsContainer.innerHTML = createPlaceholderMessage('empty', 'No notifications yet.');\n      updateUnreadNotificationCount();\n      return;\n    }\n\n    const createNotificationElement = (notificationEvent) => {\n      let notificationData = notificationEvent.event;\n      if (typeof notificationData === 'string') {\n        try {\n          notificationData = JSON.parse(notificationData);\n        } catch (e) { return null; }\n      }\n\n      const title = notificationData.title || 'Untitled Notification';\n      const body = notificationData.body || 'No description provided.';\n      const priority = notificationData.priority || 'low';\n      const isAlert = !!notificationData.alert;\n      const category = notificationData.category || 'system';\n      const relatedEventIDs = notificationData.related_event_ids || [];\n\n      const readTS = localStorage.getItem(`notification_read_ts_${notificationEvent.id}`);\n      const isRead = !!readTS;\n\n      const utcDate = new Date(notificationEvent.timestamp * 1000);\n      const timeStr = utcDate.toLocaleTimeString(navigator.language, { hour: '2-digit', minute: '2-digit', second: '2-digit' });\n      const dateStr = utcDate.toLocaleDateString(navigator.language, { month: 'short', day: 'numeric' });\n\n      // Styling\n      let borderClass = isRead ? 'event-border-grey' : 'event-border-blue';\n\n      if (!isRead && isAlert) borderClass = 'event-border-red';\n\n      if (isRead && (priority === 'high' || priority === 'critical')) {\n        borderClass = 'event-border-red';\n      } else if (isRead && priority === 'medium') {\n        borderClass = 'event-border-orange';\n      }\n\n      const readClass = isRead ? 'notification-read' : 'notification-unread';\n      const isExpanded = activeExpandedIds.has(notificationEvent.id);\n      const expandedClass = isExpanded ? 'expanded' : '';\n      const detailsStyle = isExpanded ? 'display: block;' : 'display: none;';\n\n      let detailsContent = '';\n\n      let relatedEventsHtml = '';\n      if (relatedEventIDs.length > 0) {\n        relatedEventsHtml = `\n                    <div class=\"event-detail-row\">\n                        <span class=\"detail-label\">Related Events:</span>\n                        <span class=\"detail-value\">${relatedEventIDs.map(id => `<span class=\"related-event-id\" style=\"font-family: monospace; opacity: 0.7;\">${id.substring(0, 8)}...</span>`).join(', ')}</span>\n                    </div>`;\n      }\n      detailsContent = `\n                <div class=\"event-detail-row\">\n                    <span class=\"detail-label\">Priority:</span>\n                    <span class=\"detail-value\" style=\"color: ${priority === 'high' || priority === 'critical' ? '#ff4d4d' : priority === 'medium' ? '#ffa500' : '#888'}\">${priority.toUpperCase()}</span>\n                </div>\n                <div class=\"event-detail-block\" style=\"text-align: left;\">\n                    <span class=\"detail-label\">Insight:</span>\n                    <p class=\"detail-pre\" style=\"white-space: pre-wrap; margin-top: 5px; text-align: left;\">${escapeHtml(body)}</p>\n                </div>\n                ${relatedEventsHtml}\n            `;\n\n\n      const tempDiv = document.createElement('div');\n      tempDiv.className = `event-item notification-item ${borderClass} ${readClass} ${expandedClass} cursor-pointer`;\n      tempDiv.dataset.notificationId = notificationEvent.id;\n\n      tempDiv.onclick = function (e) {\n        const isCurrentlyExpanded = this.classList.contains('expanded');\n        if (isCurrentlyExpanded) {\n          this.classList.remove('expanded');\n          activeExpandedIds.delete(notificationEvent.id);\n          const details = this.querySelector('.event-details');\n          if (details) details.style.display = 'none';\n        } else {\n          this.classList.add('expanded');\n          activeExpandedIds.add(notificationEvent.id);\n          const details = this.querySelector('.event-details');\n          if (details) details.style.display = 'block';\n\n          if (!localStorage.getItem(`notification_read_ts_${notificationEvent.id}`)) {\n            localStorage.setItem(`notification_read_ts_${notificationEvent.id}`, Date.now().toString());\n            this.classList.add('notification-read');\n            this.classList.remove('notification-unread');\n\n            this.classList.remove('event-border-blue', 'event-border-red', 'event-border-purple');\n            let newBorder = 'event-border-grey';\n            if (priority === 'high' || priority === 'critical') newBorder = 'event-border-red';\n            else if (priority === 'medium') newBorder = 'event-border-orange';\n            this.classList.add(newBorder);\n\n            updateUnreadNotificationCount();\n          }\n        }\n      };\n\n      tempDiv.innerHTML = `\n                <div class=\"event-time\">\n                    <span class=\"event-time-main\">${timeStr}</span>\n                    <span class=\"event-date\">${dateStr}</span>\n                </div>\n                <div class=\"event-content\">\n                    <div class=\"event-service\">${category.toUpperCase()} ${isAlert ? '<span class=\"alert-badge\" style=\"color: #ff4d4d; font-size: 0.8em; margin-left: 5px;\">[ALERT]</span>' : ''}</div>\n                    <div class=\"event-message\">${title}</div>\n                    <div class=\"event-details\" style=\"${detailsStyle}\">\n                        <div class=\"event-details-header\">\n                            <h4>${isAlert ? 'Alert' : 'Notification'} Details</h4>\n                            <i class=\"bx bx-x close-details-btn\"></i>\n                        </div>\n                        ${detailsContent}\n                    </div>\n                </div>\n            `;\n\n      const closeBtn = tempDiv.querySelector('.close-details-btn');\n      if (closeBtn) {\n        closeBtn.addEventListener('click', (e) => {\n          e.stopPropagation();\n          tempDiv.classList.remove('expanded');\n          const details = tempDiv.querySelector('.event-details');\n          if (details) details.style.display = 'none';\n          activeExpandedIds.delete(notificationEvent.id);\n        });\n      }\n\n      return tempDiv;\n    };\n\n    const createDividerElement = (item) => {\n      const div = document.createElement('div');\n      div.className = 'notification-divider';\n      div.dataset.notificationId = item.id;\n\n      let color = '#888888';\n      if (item.label === 'CRITICAL') color = '#ff4d4d';\n      else if (item.label === 'HIGH') color = '#ff8888';\n      else if (item.label === 'MEDIUM') color = '#ffa500';\n\n      div.style.cssText = `display: flex; align-items: center; gap: 15px; color: ${color}; font-size: 0.7em; font-weight: 700; margin: 20px 0 10px 0; text-transform: uppercase; letter-spacing: 1.5px; opacity: 0.8;`;\n      div.innerHTML = `<span style=\"white-space: nowrap;\">${item.label} PRIORITY</span><div style=\"height: 1px; background: linear-gradient(to right, ${color}44, transparent); flex-grow: 1;\"></div>`;\n      return div;\n    };\n\n    // Basic diffing and rendering logic for notifications\n    const currentChildren = Array.from(notificationsContainer.children);\n    const currentMap = new Map(currentChildren.map(el => [el.dataset.notificationId, el]));\n    const newIds = new Set(displayList.map(e => e.id));\n\n    // Remove old notifications OR placeholders (anything without a valid current ID)\n    currentChildren.forEach(child => {\n      const id = child.dataset.notificationId;\n      if (!id || !newIds.has(id)) {\n        child.remove();\n      }\n    });\n\n    let previousElement = null;\n\n    displayList.forEach((item, index) => {\n      let el = currentMap.get(item.id);\n      if (!el || forceReRender) {\n        if (el) el.remove();\n        if (item.type === 'divider') {\n          el = createDividerElement(item);\n        } else {\n          el = createNotificationElement(item);\n        }\n        if (!el) return;\n      }\n      if (index === 0) {\n        if (notificationsContainer.firstElementChild !== el) {\n          notificationsContainer.prepend(el);\n        }\n      } else {\n        if (previousElement && previousElement.nextElementSibling !== el) {\n          previousElement.after(el);\n        }\n      }\n      previousElement = el;\n    });\n\n    lastNotificationsUpdate = Date.now();\n    updateUnreadNotificationCount(); // Update badge on each refresh\n\n  } catch (error) {\n    console.error('Error fetching notifications:', error);\n    if (notificationsContainer.children.length === 0) {\n      notificationsContainer.innerHTML = createPlaceholderMessage('offline', 'Failed to load notifications.', 'The event service may be offline or unreachable.');\n    }\n  }\n}\n\nfunction attachActionListeners() {\n  const readAllBtn = document.getElementById('notif-read-all');\n  const expandAllBtn = document.getElementById('notif-expand-all');\n  const closeAllBtn = document.getElementById('notif-close-all');\n  const clearBtn = document.getElementById('notif-clear');\n\n  if (readAllBtn && !readAllBtn.dataset.listenerAttached) {\n    readAllBtn.onclick = () => {\n      currentFilteredNotifications.forEach(notif => {\n        if (!localStorage.getItem(`notification_read_ts_${notif.id}`)) {\n          localStorage.setItem(`notification_read_ts_${notif.id}`, Date.now().toString());\n        }\n      });\n      updateNotificationsTab(true);\n    };\n    readAllBtn.dataset.listenerAttached = \"true\";\n  }\n\n  if (expandAllBtn && !expandAllBtn.dataset.listenerAttached) {\n    expandAllBtn.onclick = () => {\n      currentFilteredNotifications.forEach(notif => {\n        activeExpandedIds.add(notif.id);\n        if (!localStorage.getItem(`notification_read_ts_${notif.id}`)) {\n          localStorage.setItem(`notification_read_ts_${notif.id}`, Date.now().toString());\n        }\n      });\n      updateNotificationsTab(true);\n    };\n    expandAllBtn.dataset.listenerAttached = \"true\";\n  }\n\n  if (closeAllBtn && !closeAllBtn.dataset.listenerAttached) {\n    closeAllBtn.onclick = () => {\n      activeExpandedIds.clear();\n      updateNotificationsTab(true);\n    };\n    closeAllBtn.dataset.listenerAttached = \"true\";\n  }\n\n  if (clearBtn && !clearBtn.dataset.listenerAttached) {\n    clearBtn.onclick = () => {\n      const longAgo = Date.now() - (48 * 60 * 60 * 1000); // 48 hours ago\n      currentFilteredNotifications.forEach(notif => {\n        localStorage.setItem(`notification_read_ts_${notif.id}`, longAgo.toString());\n      });\n      activeExpandedIds.clear();\n      updateNotificationsTab(true);\n    };\n    clearBtn.dataset.listenerAttached = \"true\";\n  }\n}\n", "// Roadmap Tab Logic\nimport { createPlaceholderMessage, escapeHtml, smartFetch, getGlassyLoader } from './utils.js';\n\nexport const getRoadmapContent = () => `\n  <div class=\"notifications-actions\">\n    <button id=\"roadmap-new\" class=\"notif-action-btn\"><i class='bx bx-plus'></i> New Idea</button>\n    <button id=\"roadmap-expand-all\" class=\"notif-action-btn\"><i class='bx bx-expand'></i> Expand All</button>\n    <button id=\"roadmap-close-all\" class=\"notif-action-btn\"><i class='bx bx-collapse'></i> Close All</button>\n  </div>\n  <div id=\"roadmap-editor-container\" style=\"display: none; padding: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);\">\n    <textarea id=\"roadmap-editor-input\" class=\"settings-textarea\" style=\"min-height: 120px; margin-bottom: 10px;\" placeholder=\"Describe your visionary idea or strategic objective...\"></textarea>\n    <div style=\"display: flex; gap: 10px; justify-content: center;\">\n      <button id=\"roadmap-save\" class=\"notif-action-btn\"><i class='bx bx-save'></i> Save Draft</button>\n      <button id=\"roadmap-cancel\" class=\"notif-action-btn\"><i class='bx bx-x'></i> Cancel</button>\n    </div>\n  </div>\n  <div id=\"roadmap-list\" class=\"notifications-list events-timeline\" style=\"display: flex; flex-direction: column; gap: 15px;\">\n    ${getGlassyLoader()}\n  </div>\n`;\n\nlet activeExpandedIds = new Set();\nlet currentItems = [];\nlet editingItemId = null;\n\nexport async function updateRoadmapTab(forceReRender = false) {\n  const roadmapContainer = document.getElementById('roadmap-list');\n  if (!roadmapContainer) return;\n\n  attachRoadmapListeners();\n\n  try {\n    const response = await smartFetch('/roadmap');\n    if (!response.ok) throw new Error('Offline');\n\n    const items = await response.json();\n    currentItems = items;\n\n    if (items.length === 0) {\n      roadmapContainer.innerHTML = createPlaceholderMessage('empty', 'Your roadmap is empty.', 'Click \"New Idea\" to start planning Dexter\\'s future.');\n      return;\n    }\n\n    if (forceReRender) roadmapContainer.innerHTML = '';\n\n    const createItemElement = (item) => {\n      const isExpanded = activeExpandedIds.has(item.id);\n      const isDraft = item.state === 'draft';\n      const isPublished = item.state === 'published';\n      const isConsumed = item.state === 'consumed';\n\n      let borderClass = 'event-border-grey'; // Draft\n      if (isPublished) borderClass = 'event-border-blue';\n      if (isConsumed) borderClass = 'event-border-purple';\n\n      const utcDate = new Date(item.created_at * 1000);\n      const dateStr = utcDate.toLocaleDateString(navigator.language, { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' });\n\n      const tempDiv = document.createElement('div');\n      tempDiv.className = `event-item notification-item ${borderClass} cursor-pointer ${isExpanded ? 'expanded' : ''}`;\n      tempDiv.dataset.itemId = item.id;\n\n      tempDiv.onclick = (e) => {\n        if (e.target.closest('button')) return;\n        const wasExpanded = tempDiv.classList.contains('expanded');\n        if (wasExpanded) {\n          tempDiv.classList.remove('expanded');\n          tempDiv.querySelector('.event-details').style.display = 'none';\n          activeExpandedIds.delete(item.id);\n        } else {\n          tempDiv.classList.add('expanded');\n          tempDiv.querySelector('.event-details').style.display = 'block';\n          activeExpandedIds.add(item.id);\n        }\n      };\n\n      let statusBadge = `<span style=\"font-size: 0.7em; opacity: 0.6; margin-left: 10px;\">[${item.state.toUpperCase()}]</span>`;\n\n      tempDiv.innerHTML = `\n        <div class=\"event-time\">\n          <span class=\"event-time-main\">${dateStr.split(',')[1]}</span>\n          <span class=\"event-date\">${dateStr.split(',')[0]}</span>\n        </div>\n        <div class=\"event-content\">\n          <div class=\"event-service\">ROADMAP ${statusBadge}</div>\n          <div class=\"event-message\" style=\"white-space: pre-wrap;\">${escapeHtml(item.content)}</div>\n          <div class=\"event-details\" style=\"${isExpanded ? 'display: block;' : 'display: none;'} \">\n            <div class=\"event-details-header\">\n              <h4>Item Controls</h4>\n              <i class=\"bx bx-x close-details-btn\"></i>\n            </div>\n            <div style=\"display: flex; gap: 10px; flex-wrap: wrap;\">\n              ${isConsumed ? '' : `<button class=\"notif-action-btn edit-btn\"><i class='bx bx-edit'></i> Edit</button>`}\n              <button class=\"notif-action-btn publish-toggle-btn\">\n                <i class='bx ${isPublished ? 'bx-pause' : 'bx-rocket'}'></i> ${isPublished ? 'Un-publish' : 'Publish'}\n              </button>\n              <button class=\"notif-action-btn delete-btn danger\"><i class='bx bx-trash'></i> Delete</button>\n            </div>\n            ${isConsumed ? `<div style=\"margin-top: 15px; font-size: 0.8em; color: #888;\">Consumed at: ${new Date(item.consumed_at * 1000).toLocaleString()}</div>` : ''}\n          </div>\n        </div>\n      `;\n\n      // Button listeners\n      tempDiv.querySelector('.edit-btn')?.addEventListener('click', () => startEditing(item));\n      tempDiv.querySelector('.publish-toggle-btn')?.addEventListener('click', () => togglePublish(item));\n      tempDiv.querySelector('.delete-btn')?.addEventListener('click', () => deleteItem(item.id));\n      tempDiv.querySelector('.close-details-btn')?.addEventListener('click', (e) => {\n        e.stopPropagation();\n        tempDiv.classList.remove('expanded');\n        tempDiv.querySelector('.event-details').style.display = 'none';\n        activeExpandedIds.delete(item.id);\n      });\n\n      return tempDiv;\n    };\n\n    const currentChildren = Array.from(roadmapContainer.children);\n    const currentMap = new Map(currentChildren.map(el => [el.dataset.itemId, el]));\n    const newIds = new Set(items.map(e => e.id));\n\n    // Remove old items OR placeholders\n    currentChildren.forEach(child => {\n      const id = child.dataset.itemId;\n      if (!id || !newIds.has(id)) {\n        child.remove();\n      }\n    });\n\n    let previousElement = null;\n    items.forEach((item, index) => {\n      let el = currentMap.get(item.id);\n      if (!el || forceReRender) {\n        if (el) el.remove();\n        el = createItemElement(item);\n        if (!el) return;\n      }\n      if (index === 0) {\n        if (roadmapContainer.firstElementChild !== el) roadmapContainer.prepend(el);\n      } else {\n        if (previousElement && previousElement.nextElementSibling !== el) previousElement.after(el);\n      }\n      previousElement = el;\n    });\n\n  } catch (e) {\n    roadmapContainer.innerHTML = createPlaceholderMessage('error', 'Failed to load roadmap.');\n  }\n}\n\nfunction attachRoadmapListeners() {\n  const newBtn = document.getElementById('roadmap-new');\n  const saveBtn = document.getElementById('roadmap-save');\n  const cancelBtn = document.getElementById('roadmap-cancel');\n  const expandAllBtn = document.getElementById('roadmap-expand-all');\n  const closeAllBtn = document.getElementById('roadmap-close-all');\n\n  if (newBtn && !newBtn.dataset.listenerAttached) {\n    newBtn.onclick = () => {\n      editingItemId = null;\n      document.getElementById('roadmap-editor-input').value = '';\n      document.getElementById('roadmap-editor-container').style.display = 'block';\n    };\n    newBtn.dataset.listenerAttached = \"true\";\n  }\n\n  if (cancelBtn && !cancelBtn.dataset.listenerAttached) {\n    cancelBtn.onclick = () => {\n      document.getElementById('roadmap-editor-container').style.display = 'none';\n      editingItemId = null;\n    };\n    cancelBtn.dataset.listenerAttached = \"true\";\n  }\n\n  if (saveBtn && !saveBtn.dataset.listenerAttached) {\n    saveBtn.onclick = async () => {\n      const content = document.getElementById('roadmap-editor-input').value;\n      if (!content.trim()) return;\n\n      const url = editingItemId\n        ? `/roadmap/${editingItemId}`\n        : `/roadmap`;\n\n      const method = editingItemId ? 'PATCH' : 'POST';\n\n      try {\n        await smartFetch(url, {\n          method,\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ content })\n        });\n        document.getElementById('roadmap-editor-container').style.display = 'none';\n        updateRoadmapTab(true);\n      } catch (e) { console.error(e); }\n    };\n    saveBtn.dataset.listenerAttached = \"true\";\n  }\n\n  if (expandAllBtn && !expandAllBtn.dataset.listenerAttached) {\n    expandAllBtn.onclick = () => {\n      currentItems.forEach(item => activeExpandedIds.add(item.id));\n      updateRoadmapTab(true);\n    };\n    expandAllBtn.dataset.listenerAttached = \"true\";\n  }\n\n  if (closeAllBtn && !closeAllBtn.dataset.listenerAttached) {\n    closeAllBtn.onclick = () => {\n      activeExpandedIds.clear();\n      updateRoadmapTab(true);\n    };\n    closeAllBtn.dataset.listenerAttached = \"true\";\n  }\n}\n\nfunction startEditing(item) {\n  editingItemId = item.id;\n  document.getElementById('roadmap-editor-input').value = item.content;\n  document.getElementById('roadmap-editor-container').style.display = 'block';\n  document.getElementById('roadmap-editor-container').scrollIntoView({ behavior: 'smooth' });\n}\n\nasync function togglePublish(item) {\n  const newState = item.state === 'published' ? 'draft' : 'published';\n\n  try {\n    await smartFetch(`/roadmap/${item.id}`, {\n      method: 'PATCH',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ state: newState })\n    });\n    updateRoadmapTab(true);\n  } catch (e) { console.error(e); }\n}\n\nasync function deleteItem(id) {\n  if (!confirm(\"Delete this roadmap item?\")) return;\n\n  try {\n    await smartFetch(`/roadmap/${id}`, { method: 'DELETE' });\n    activeExpandedIds.delete(id);\n    updateRoadmapTab(true);\n  } catch (e) { console.error(e); }\n}\n", "// Blueprints Tab Logic\nimport { createPlaceholderMessage, escapeHtml, smartFetch, getGlassyLoader } from './utils.js';\n\nexport const getBlueprintsContent = () => `\n    <div class=\"notifications-actions\">\n        <button id=\"blueprints-expand-all\" class=\"notif-action-btn\"><i class='bx bx-expand'></i> Expand All</button>\n        <button id=\"blueprints-close-all\" class=\"notif-action-btn\"><i class='bx bx-collapse'></i> Close All</button>\n    </div>\n    <div id=\"blueprints-list\" class=\"blueprints-list events-timeline\" style=\"display: flex; flex-direction: column; gap: 15px;\">\n        ${getGlassyLoader()}\n    </div>\n`;\n\nexport let lastBlueprintsUpdate = null;\n\n// Track expanded state globally within the module\nlet activeExpandedIds = new Set();\nlet currentFilteredBlueprints = [];\n\nexport async function updateBlueprintsTab(forceReRender = false) {\n    const blueprintsContainer = document.getElementById('blueprints-list');\n    if (!blueprintsContainer) return;\n\n    // Attach button listeners if not already attached\n    attachBlueprintActionListeners();\n\n    const url = `/events?ml=1000&format=json&event.type=system.blueprint.generated`;\n\n    try {\n        const response = await smartFetch(url);\n        if (!response.ok) throw new Error('Service is offline or unreachable.');\n\n        const data = await response.json();\n        const allBlueprints = data.events || [];\n        currentFilteredBlueprints = allBlueprints;\n\n        lastBlueprintsUpdate = Date.now();\n\n        if (allBlueprints.length === 0) {\n            blueprintsContainer.innerHTML = createPlaceholderMessage('empty', 'No architectural blueprints generated yet.', 'The Analyst Worker will generate these when idle.');\n            return;\n        }\n\n        if (forceReRender) {\n            blueprintsContainer.innerHTML = '';\n        }\n\n        const createBlueprintElement = (event) => {\n            let blueprintData = event.event;\n            if (typeof blueprintData === 'string') {\n                try {\n                    blueprintData = JSON.parse(blueprintData);\n                } catch (e) { return null; }\n            }\n\n            const title = blueprintData.title || 'Untitled Blueprint';\n            const summary = blueprintData.summary || blueprintData.body || 'No summary provided.';\n            const content = blueprintData.content || '';\n            const category = blueprintData.category || 'architecture';\n            const affectedServices = blueprintData.affected_services || [];\n            const implementationPath = blueprintData.implementation_path || [];\n\n            const utcDate = new Date(event.timestamp * 1000);\n            const timeStr = utcDate.toLocaleTimeString(navigator.language, { hour: '2-digit', minute: '2-digit', second: '2-digit' });\n            const dateStr = utcDate.toLocaleDateString(navigator.language, { month: 'short', day: 'numeric' });\n\n            const isExpanded = activeExpandedIds.has(event.id);\n            const detailsStyle = isExpanded ? 'display: block;' : 'display: none;';\n\n            const tempDiv = document.createElement('div');\n            // Blueprints always use Purple border\n            tempDiv.className = `event-item notification-item event-border-purple cursor-pointer ${isExpanded ? 'expanded' : ''}`;\n            tempDiv.dataset.blueprintId = event.id;\n\n            tempDiv.onclick = function(e) {\n                const isCurrentlyExpanded = this.classList.contains('expanded');\n                if (isCurrentlyExpanded) {\n                    this.classList.remove('expanded');\n                    activeExpandedIds.delete(event.id);\n                    const details = this.querySelector('.event-details');\n                    if (details) details.style.display = 'none';\n                } else {\n                    this.classList.add('expanded');\n                    activeExpandedIds.add(event.id);\n                    const details = this.querySelector('.event-details');\n                    if (details) details.style.display = 'block';\n                }\n            };\n\n            let affectedHtml = affectedServices.length > 0\n                ? `<div class=\"blueprint-meta-row\"><strong>Affected:</strong> ${affectedServices.join(', ')}</div>`\n                : '';\n\n            let pathHtml = '';\n            if (implementationPath.length > 0) {\n                pathHtml = `\n                    <div class=\"blueprint-path\">\n                        <h5>Implementation Path</h5>\n                        <ul>\n                            ${implementationPath.map(step => `<li>${escapeHtml(step)}</li>`).join('')}\n                        </ul>\n                    </div>\n                `;\n            }\n\n            tempDiv.innerHTML = `\n                <div class=\"event-time\">\n                    <span class=\"event-time-main\">${timeStr}</span>\n                    <span class=\"event-date\">${dateStr}</span>\n                </div>\n                <div class=\"event-content\">\n                    <div class=\"event-service\">${category.toUpperCase()}</div>\n                    <div class=\"event-message\">${title}</div>\n                    <div class=\"event-details\" style=\"${detailsStyle}\">\n                        <div class=\"event-details-header\">\n                            <h4>Blueprint Design</h4>\n                            <i class=\"bx bx-x close-details-btn\"></i>\n                        </div>\n                        <div class=\"blueprint-summary\" style=\"margin-bottom: 10px; font-weight: 500; color: #fff;\">\n                            ${escapeHtml(summary)}\n                        </div>\n                        ${affectedHtml}\n                        <div class=\"event-detail-block\" style=\"text-align: left; background: rgba(0,0,0,0.2); padding: 10px; border-radius: 5px; margin: 10px 0;\">\n                            <p class=\"detail-pre\" style=\"white-space: pre-wrap; font-family: 'JetBrains Mono', monospace; font-size: 0.85em; text-align: left; color: #ccc;\">${escapeHtml(content)}</p>\n                        </div>\n                        ${pathHtml}\n                    </div>\n                </div>\n            `;\n\n            const closeBtn = tempDiv.querySelector('.close-details-btn');\n            if (closeBtn) {\n                closeBtn.addEventListener('click', (e) => {\n                    e.stopPropagation();\n                    tempDiv.classList.remove('expanded');\n                    const details = tempDiv.querySelector('.event-details');\n                    if (details) details.style.display = 'none';\n                    activeExpandedIds.delete(event.id);\n                });\n            }\n\n            return tempDiv;\n        };\n\n        const currentChildren = Array.from(blueprintsContainer.children);\n        const currentMap = new Map(currentChildren.map(el => [el.dataset.blueprintId, el]));\n        const newIds = new Set(allBlueprints.map(e => e.id));\n\n        currentChildren.forEach(child => {\n            const id = child.dataset.blueprintId;\n            if (!id || !newIds.has(id)) {\n                child.remove();\n            }\n        });\n\n        let previousElement = null;\n        allBlueprints.forEach((event, index) => {\n            let el = currentMap.get(event.id);\n            if (!el || forceReRender) {\n                if (el) el.remove();\n                el = createBlueprintElement(event);\n                if (!el) return;\n            }\n            if (index === 0) {\n                if (blueprintsContainer.firstElementChild !== el) blueprintsContainer.prepend(el);\n            } else {\n                if (previousElement && previousElement.nextElementSibling !== el) previousElement.after(el);\n            }\n            previousElement = el;\n        });\n\n    } catch (error) {\n        console.error('Error fetching blueprints:', error);\n        if (blueprintsContainer.children.length === 0) {\n            blueprintsContainer.innerHTML = createPlaceholderMessage('offline', 'Failed to load blueprints.', 'The event service may be offline or unreachable.');\n        }\n    }\n}\n\nfunction attachBlueprintActionListeners() {\n    const expandAllBtn = document.getElementById('blueprints-expand-all');\n    const closeAllBtn = document.getElementById('blueprints-close-all');\n\n    if (expandAllBtn && !expandAllBtn.dataset.listenerAttached) {\n        expandAllBtn.onclick = () => {\n            currentFilteredBlueprints.forEach(b => activeExpandedIds.add(b.id));\n            updateBlueprintsTab(true);\n        };\n        expandAllBtn.dataset.listenerAttached = \"true\";\n    }\n\n    if (closeAllBtn && !closeAllBtn.dataset.listenerAttached) {\n        closeAllBtn.onclick = () => {\n            activeExpandedIds.clear();\n            updateBlueprintsTab(true);\n        };\n        closeAllBtn.dataset.listenerAttached = \"true\";\n    }\n}\n", "// Ideas Tab Logic (Roadmap + Blueprints)\nimport { getRoadmapContent, updateRoadmapTab } from './roadmap.js';\nimport { getBlueprintsContent, updateBlueprintsTab } from './blueprints.js';\n\nexport const getIdeasContent = () => `\n    <div class=\"ideas-container\">\n        <div class=\"roadmap-section\" style=\"margin-bottom: 30px;\">\n            <div class=\"system-section-header\" style=\"margin-bottom: 15px; display: flex; align-items: center; gap: 10px;\">\n                <i class='bx bx-map-alt' style=\"color: #bb86fc;\"></i>\n                <h2 style=\"font-size: 1.1em; margin: 0; text-align: left;\">Strategic Roadmap</h2>\n            </div>\n            ${getRoadmapContent()}\n        </div>\n\n        <div class=\"blueprints-section\">\n            <div class=\"system-section-header\" style=\"margin-bottom: 15px; display: flex; align-items: center; gap: 10px;\">\n                <i class='bx bx-paint' style=\"color: #bb86fc;\"></i>\n                <h2 style=\"font-size: 1.1em; margin: 0; text-align: left;\">Architectural Blueprints</h2>\n            </div>\n            ${getBlueprintsContent()}\n        </div>\n    </div>\n`;\n\nexport async function updateIdeasTab() {\n    await Promise.all([\n        updateRoadmapTab(),\n        updateBlueprintsTab()\n    ]);\n}\n", "// Contacts Tab Logic (Synced with Discord)\nimport { createPlaceholderMessage, smartDiscordFetch, getGlassyLoader } from './utils.js';\n\nexport const getContactsContent = () => `<div id=\"contacts-grid\" class=\"system-monitor-widgets\">${getGlassyLoader()}</div>`;\n\nexport let lastContactsUpdate = null;\n\nexport async function updateContactsTab() {\n    const container = document.getElementById('contacts-grid');\n    if (!container) return;\n\n    try {\n        const response = await smartDiscordFetch('/contacts');\n        if (!response.ok) throw new Error('Service unreachable');\n\n        const data = await response.json();\n        const members = data.members || [];\n\n        lastContactsUpdate = Date.now();\n\n        if (members.length === 0) {\n            container.innerHTML = createPlaceholderMessage('empty', 'No contacts found.', 'Check your Discord connection.');\n            return;\n        }\n\n        // Sort: Me > Master > Admin > Moderator > Contributor > User > Anyone\n        const levelOrder = {\n            'Me': 0,\n            'Master User': 1,\n            'Admin': 2,\n            'Moderator': 3,\n            'Contributor': 4,\n            'User': 5,\n            'Anyone': 6\n        };\n\n        members.sort((a, b) => {\n            const orderA = levelOrder[a.level] ?? 10;\n            const orderB = levelOrder[b.level] ?? 10;\n            if (orderA !== orderB) return orderA - orderB;\n            return a.username.localeCompare(b.username);\n        });\n\n        const html = members.map(m => {\n            const hexColor = m.color ? '#' + m.color.toString(16).padStart(6, '0') : 'rgba(255,255,255,0.1)';\n            const statusColor = m.status === 'online' ? '#5eff5e' : m.status === 'idle' ? '#ffa500' : m.status === 'dnd' ? '#ff4d4d' : '#666';\n            \n            let levelColor = '#888';\n            if (m.level === 'Me') levelColor = '#bb86fc';\n            else if (m.level === 'Master User') levelColor = '#bb86fc';\n            else if (m.level === 'Admin') levelColor = '#cf6679';\n            else if (m.level === 'Moderator') levelColor = '#03dac6';\n            else if (m.level === 'Contributor') levelColor = '#ffa500';\n\n            const isMe = m.level === 'Me';\n            const cardBg = isMe ? 'rgba(187, 134, 252, 0.08)' : 'rgba(255,255,255,0.03)';\n            const borderStyle = isMe ? `2px solid #bb86fc` : `1px solid ${hexColor}33`;\n\n            return `\n                <div class=\"user-profile-section\" style=\"background: ${cardBg}; padding: 15px; border-radius: 8px; border: ${borderStyle}; display: flex; align-items: center; gap: 12px; position: relative; overflow: hidden;\">\n                    <div class=\"card-glow\" style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle at 0% 0%, ${isMe ? '#bb86fc' : hexColor}22, transparent 70%); pointer-events: none;\"></div>\n                    <div style=\"position: relative;\">\n                        <img src=\"${m.avatar_url}\" style=\"width: 45px; height: 45px; border-radius: 50%; background: #222; border: ${isMe ? '2px solid #bb86fc' : 'none'};\" onerror=\"this.src='https://cdn.discordapp.com/embed/avatars/0.png'\">\n                        <div style=\"position: absolute; bottom: 0; right: 0; width: 12px; height: 12px; background: ${statusColor}; border: 2px solid #1a1a1a; border-radius: 50%;\"></div>\n                    </div>\n                    <div class=\"user-info\" style=\"text-align: left; flex: 1; min-width: 0;\">\n                        <h3 style=\"margin: 0; font-size: 0.95em; color: #fff; text-align: left; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">${m.username}</h3>\n                        <div style=\"display: flex; align-items: center; gap: 5px; margin-top: 2px;\">\n                            <span style=\"font-size: 0.75em; color: ${levelColor}; font-weight: 600; text-transform: uppercase;\">${isMe ? 'DEXTER (ME)' : m.level}</span>\n                        </div>\n                        <p style=\"margin: 4px 0 0 0; font-family: monospace; font-size: 0.65em; opacity: 0.4; text-align: left;\">${m.id}</p>\n                    </div>\n                </div>\n            `;\n        }).join('');\n\n        if (container.innerHTML !== html) {\n            container.innerHTML = html;\n        }\n\n    } catch (e) {\n        container.innerHTML = createPlaceholderMessage('offline', 'Failed to fetch contacts.', 'The Discord service may be offline.');\n    }\n}", "// Event Templates & Formatting\n\nexport const EVENT_TEMPLATES = {\n    \"message_received\": \"{user} posted in {channel}: {message}\",\n    \"action_performed\": \"{actor} {action} {target}\",\n    \"log_entry\": \"[{level}] {message}\",\n    \"error_occurred\": \"ERROR: {error}\",\n    \"status_change\": \"{entity} changed status to {new_status}\",\n    \"metric_recorded\": \"{metric_name}: {value}{unit}\",\n    \"messaging.user.joined_voice\": \"{user_name} joined voice channel {channel_name}\",\n    \"messaging.user.left_voice\": \"{user_name} left voice channel {channel_name}\",\n    \"messaging.user.sent_message\": \"{user_name} in {channel_name}: {content}\",\n    \"messaging.bot.sent_message\": \"Dexter sent in {channel_name}: {content}\",\n    \"messaging.bot.joined_voice\": \"Dexter joined voice channel {channel_name}\",\n    \"messaging.bot.voice_response\": \"Dexter said: {content}\",\n    \"messaging.bot.status_update\": \"Dexter status changed to {status}: {details}\",\n    \"messaging.user.speaking.started\": \"{user_name} started speaking\",\n    \"messaging.user.speaking.stopped\": \"{user_name} stopped speaking\",\n    \"messaging.user.transcribed\": \"{user_name} said: {transcription}\",\n    \"messaging.user.joined_server\": \"{user_name} joined {server_name}\",\n    \"messaging.webhook.message\": \"{user_name} (Webhook): {content}\",\n    \"webhook.processed\": \"Webhook processed: {status}\",\n    \"voice_speaking_started\": \"User {user_id} started speaking in voice channel {channel_id}\",\n    \"voice_speaking_stopped\": \"User {user_id} stopped speaking in voice channel {channel_id}\",\n    \"voice_transcribed\": \"{user_name} said: {transcription}\",\n    \"engagement.decision\": \"Engagement Decision: {decision} ({reason})\",\n    \"bot_response\": \"Bot Responded: {response}\",\n    \"moderation.explicit_content.deleted\": \"Explicit content deleted in {channel_name} from {user_name}: {reason}\",\n    \"analysis.link.completed\": \"Analyzed link: {url}\",\n    \"analysis.visual.completed\": \"Analyzed image: {filename}\",\n    \"system.status.change\": \"{entity} changed status to {new_status}\",\n    \"system.test.completed\": \"Tests completed for {service_name} ({duration})\",\n    \"system.build.completed\": \"Build completed for {service_name}: {status}\",\n    \"system.analysis.audit\": \"Analysis Audit: {tier}\",\n    \"system.blueprint.generated\": \"Blueprint Generated: {title}\",\n    \"system.cli.command\": \"CLI Command: {command} {args} ({status})\",\n    \"system.cli.status\": \"CLI Status: {message}\",\n    \"system.notification.generated\": \"Notification ({priority}): {title}\",\n    \"system.roadmap.created\": \"Roadmap item created: {content}\",\n    \"system.roadmap.updated\": \"Roadmap item {id} changed to {state}\",\n    \"system.process.registered\": \"Process {id} started: {state}\",\n    \"system.process.unregistered\": \"Process {id} completed\"\n};\n\nexport function formatEventSummary(type, data) {\n    let template = EVENT_TEMPLATES[type];\n    if (type === 'voice_transcribed' && !data.user_name && data.user_id) {\n        template = \"User {user_id} said in voice channel {channel_id}: {transcription}\";\n    }\n    // Specific formatting for system.notification.generated\n    if (type === 'system.notification.generated') {\n        const priority = data.priority ? data.priority.charAt(0).toUpperCase() + data.priority.slice(1) : 'Low';\n        template = `Notification (${priority}): ${data.title}`;\n    }\n    // Specific formatting for system.analysis.audit\n    if (type === 'system.analysis.audit') {\n        const tier = data.tier ? data.tier.toUpperCase() : 'UNKNOWN';\n        template = `Analysis Audit: ${tier}`;\n    }\n    // Specific formatting for system.test.completed\n    if (type === 'system.test.completed') {\n        const status = (data.test?.status === 'OK' && data.lint?.status === 'OK' && data.format?.status === 'OK') ? 'PASSED' : 'FAILED';\n        return `Tests ${status} for ${data.service_name} (${data.duration})`;\n    }\n    if (!template) return type;\n    let summary = template.replace(/\\{(\\w+)\\}/g, (match, key) => {\n        return data[key] !== undefined && data[key] !== null ? data[key] : match;\n    });\n    if ((type === 'messaging.user.transcribed' || type === 'voice_transcribed') &&\n        data.detected_language && data.detected_language !== 'en' && data.english_translation) {\n        summary += ` (Translation: ${data.english_translation})`;\n    }\n    return summary;\n}\n", "// Events Timeline Logic\nimport { createPlaceholderMessage, escapeHtml, smartFetch, getGlassyLoader } from './utils.js';\nimport { formatEventSummary } from './templates.js';\nimport { updateContactsTab } from './contacts.js';\n\nexport const getEventsContent = () => `\n    <div class=\"notifications-actions\">\n        <button id=\"events-expand-all\" class=\"notif-action-btn\"><i class='bx bx-expand'></i> Expand All</button>\n        <button id=\"events-close-all\" class=\"notif-action-btn\"><i class='bx bx-collapse'></i> Close All</button>\n    </div>\n    \n    <div id=\"timeline-view-container\">\n        <div id=\"event-filters\" class=\"event-filters\">\n            <button class=\"notif-action-btn filter-btn active\" data-filter=\"all\">All</button>\n            <button class=\"notif-action-btn filter-btn\" data-filter=\"messaging\">Messaging</button>\n            <button class=\"notif-action-btn filter-btn\" data-filter=\"system\">System</button>\n            <button class=\"notif-action-btn filter-btn\" data-filter=\"cognitive\">Cognitive</button>\n            <button class=\"notif-action-btn filter-btn\" data-filter=\"moderation\">Moderation</button>\n        </div>\n        <div id=\"events-timeline\" class=\"events-timeline\">\n            ${getGlassyLoader()}\n        </div>\n    </div>\n`;\n\nexport let lastEventsUpdate = null;\n\n// Track expanded state globally within the module\nlet activeExpandedIds = new Set();\nlet currentFilteredEvents = [];\nlet currentFilter = 'all';\n\nconst CATEGORIES = {\n    messaging: [\n        'message_received', 'messaging.user.sent_message', 'messaging.bot.sent_message',\n        'messaging.user.transcribed', 'voice_transcribed', 'bot_response',\n        'messaging.user.joined_voice', 'messaging.user.left_voice',\n        'messaging.bot.joined_voice', 'messaging.bot.voice_response',\n        'messaging.user.speaking.started', 'messaging.user.speaking.stopped',\n        'messaging.webhook.message'\n    ],\n    system: [\n        'system.cli.command', 'system.cli.status', 'system.status.change',\n        'metric_recorded', 'log_entry', 'error_occurred', 'webhook.processed',\n        'messaging.bot.status_update', 'messaging.user.joined_server',\n        'system.test.completed', 'system.build.completed',\n        'system.roadmap.created', 'system.roadmap.updated',\n        'system.process.registered', 'system.process.unregistered'\n    ],\n    cognitive: [\n        'engagement.decision', 'system.analysis.audit', 'system.blueprint.generated',\n        'analysis.link.completed', 'analysis.visual.completed'\n    ],\n    moderation: [\n        'moderation.explicit_content.deleted'\n    ]\n};\n\nconst EVENT_ICONS = {\n    'message_received': 'bx-message-detail',\n    'messaging.user.sent_message': 'bx-message-rounded-dots',\n    'messaging.bot.sent_message': 'bx-bot',\n    'messaging.user.transcribed': 'bx-microphone',\n    'voice_transcribed': 'bx-microphone',\n    'messaging.user.joined_voice': 'bx-phone-incoming',\n    'messaging.user.left_voice': 'bx-phone-outgoing',\n    'messaging.webhook.message': 'bx-cloud-lightning',\n    'system.cli.command': 'bx-terminal',\n    'system.cli.status': 'bx-info-circle',\n    'system.test.completed': 'bx-check-shield',\n    'system.build.completed': 'bx-package',\n    'system.roadmap.created': 'bx-map-pin',\n    'system.roadmap.updated': 'bx-map-alt',\n    'system.process.registered': 'bx-play-circle',\n    'system.process.unregistered': 'bx-stop-circle',\n    'error_occurred': 'bx-error-alt',\n    'engagement.decision': 'bx-brain',\n    'system.analysis.audit': 'bx-search-alt',\n    'system.blueprint.generated': 'bx-paint',\n    'analysis.link.completed': 'bx-link',\n    'analysis.visual.completed': 'bx-image',\n    'moderation.explicit_content.deleted': 'bx-shield-x',\n    'system.status.change': 'bx-refresh',\n    'metric_recorded': 'bx-line-chart'\n};\n\nfunction getEventCategory(type) {\n    for (const [cat, types] of Object.entries(CATEGORIES)) {\n        if (types.includes(type)) return cat;\n    }\n    return 'system';\n}\n\nfunction getEventIcon(type) {\n    return EVENT_ICONS[type] || 'bx-square-rounded';\n}\n\nexport async function updateEventsTimeline(forceReRender = false) {\n    const eventsContainer = document.getElementById('events-timeline');\n    if (!eventsContainer) return;\n\n    attachEventActionListeners();\n\n    const fetchCount = currentFilter === 'all' ? 100 : 250;\n    const url = `/events?ml=${fetchCount}&format=json&exclude_types=system.notification.generated`;\n\n    try {\n        const response = await smartFetch(url);\n        if (!response.ok) throw new Error('Service is offline or unreachable.');\n\n        const data = await response.json();\n        const allEvents = data.events || [];\n\n        const hasJoinEvent = allEvents.some(e => {\n            let eventData = e.event;\n            if (typeof eventData === 'string') {\n                try { eventData = JSON.parse(eventData); } catch (err) { return false; }\n            }\n            return eventData.type === 'messaging.user.joined_server';\n        });\n        if (hasJoinEvent) {\n            updateContactsTab();\n        }\n        \n        let filteredEvents = allEvents;\n        if (currentFilter !== 'all') {\n            filteredEvents = allEvents.filter(e => {\n                let eventData = e.event;\n                if (typeof eventData === 'string') {\n                    try { eventData = JSON.parse(eventData); } catch (err) { return false; }\n                }\n                return getEventCategory(eventData.type) === currentFilter;\n            });\n        }\n        \n        currentFilteredEvents = filteredEvents.slice(0, 50);\n        lastEventsUpdate = Date.now();\n\n        if (currentFilteredEvents.length === 0) {\n            eventsContainer.innerHTML = createPlaceholderMessage('empty', 'No events found for this filter.');\n            return;\n        }\n\n        if (forceReRender) {\n            eventsContainer.innerHTML = '';\n        }\n\n        const createEventElement = (event) => {\n            let eventData = event.event;\n            if (typeof eventData === 'string') {\n                try { eventData = JSON.parse(eventData); } catch (e) { return null; }\n            }\n\n            const type = eventData.type;\n            const category = getEventCategory(type);\n            const icon = getEventIcon(type);\n\n            const isExpandable = type === 'engagement.decision' || type === 'messaging.bot.sent_message' || type === 'messaging.user.sent_message' || type === 'moderation.explicit_content.deleted' || type === 'analysis.link.completed' || type === 'analysis.visual.completed' || type === 'system.cli.command' || type === 'system.analysis.audit' || type === 'system.test.completed' || type === 'error_occurred' || type === 'system.cli.status' || type.startsWith('system.roadmap') || type.startsWith('system.process');\n            let borderClass = 'event-border-grey';\n            if (isExpandable) {\n                if (type === 'moderation.explicit_content.deleted' || type === 'error_occurred') {\n                    borderClass = 'event-border-red';\n                } else if (type === 'analysis.link.completed' || type === 'analysis.visual.completed' || type === 'system.analysis.audit') {\n                    borderClass = 'event-border-purple';\n                } else if (type === 'system.cli.command' || type === 'system.cli.status') {\n                    borderClass = 'event-border-orange';\n                } else if (type === 'system.test.completed') {\n                    const passed = (eventData.test?.status === 'OK' && eventData.lint?.status === 'OK' && eventData.format?.status === 'OK');\n                    borderClass = passed ? 'event-border-blue' : 'event-border-red';\n                } else {\n                    borderClass = 'event-border-blue';\n                }\n            }\n            const isExpanded = activeExpandedIds.has(event.id);\n            const utcDate = new Date(event.timestamp * 1000);\n            const timeStr = utcDate.toLocaleTimeString(navigator.language, { hour: '2-digit', minute: '2-digit', second: '2-digit' });\n            const dateStr = utcDate.toLocaleDateString(navigator.language, { month: 'short', day: 'numeric' });\n            const summary = formatEventSummary(type, eventData);\n            const userLevel = eventData.user_level ? `<span style=\"font-size: 0.8em; opacity: 0.6; margin-left: 5px;\">(${eventData.user_level})</span>` : '';\n\n            let detailsHtml = '';\n            if (isExpandable) {\n                let detailsContent = '';\n                if (type === 'engagement.decision') detailsContent = `<div class=\"event-detail-row\"><span class=\"detail-label\">Model:</span><span class=\"detail-value\">${eventData.engagement_model || 'N/A'}</span></div><div class=\"event-detail-block\"><span class=\"detail-label\">Raw Output:</span><pre class=\"detail-pre\">${eventData.engagement_raw || 'None'}</pre></div>`;\n                else if (type === 'messaging.bot.sent_message') detailsContent = `<div class=\"event-detail-row\"><span class=\"detail-label\">Model:</span><span class=\"detail-value\">${eventData.response_model || 'N/A'}</span></div><div class=\"event-detail-block\"><span class=\"detail-label\">Raw Output:</span><pre class=\"detail-pre\">${eventData.response_raw || 'None'}</pre></div>`;\n                else if (type === 'moderation.explicit_content.deleted') detailsContent = `<div class=\"event-detail-row\"><span class=\"detail-label\">Reason:</span><span class=\"detail-value\">${eventData.reason || 'N/A'}</span></div>`;\n                else if (type === 'analysis.link.completed') detailsContent = `<div class=\"event-detail-row\"><span class=\"detail-label\">URL:</span><span class=\"detail-value\"><a href=\"${eventData.url}\" target=\"_blank\">${eventData.url}</a></span></div>`;\n                else if (type === 'system.cli.command') detailsContent = `<div class=\"event-detail-row\"><span class=\"detail-label\">Command:</span><span class=\"detail-value\">dex ${eventData.command}</span></div><div class=\"event-detail-block\"><span class=\"detail-label\">Output:</span><pre class=\"detail-pre\">${escapeHtml(eventData.output) || 'No output.'}</pre></div>`;\n                else if (type === 'system.test.completed') detailsContent = `<div class=\"event-detail-row\"><span class=\"detail-label\">Service:</span><span class=\"detail-value\">${eventData.service_name}</span></div><div class=\"event-detail-block\"><span class=\"detail-label\">Tests:</span><pre class=\"detail-pre\">${eventData.test?.status || 'N/A'}: ${eventData.test?.details || 'OK'}</pre></div>`;\n\n                detailsHtml = `<div class=\"event-details\" style=\"${isExpanded ? 'display: block;' : 'display: none;'}\"><div class=\"event-details-header\"><h4>Details</h4><i class=\"bx bx-x close-details-btn\"></i></div>${detailsContent}</div>`;\n            }\n\n            const tempDiv = document.createElement('div');\n            tempDiv.className = `event-item ${borderClass} ${isExpandable ? 'cursor-pointer' : ''} ${isExpanded ? 'expanded' : ''}`;\n            tempDiv.dataset.eventId = event.id;\n            tempDiv.onclick = function (e) {\n                if (!isExpandable) return;\n                const expanding = !this.classList.contains('expanded');\n                this.classList.toggle('expanded', expanding);\n                if (expanding) activeExpandedIds.add(event.id); else activeExpandedIds.delete(event.id);\n                const details = this.querySelector('.event-details');\n                if (details) details.style.display = expanding ? 'block' : 'none';\n            };\n\n            tempDiv.innerHTML = `<div class=\"event-time\"><span class=\"event-time-main\">${timeStr}</span><span class=\"event-date\">${dateStr}</span></div><div class=\"event-icon\"><i class='bx ${icon}'></i></div><div class=\"event-content\"><div class=\"event-service\"><span class=\"event-category-tag cat-${category}\">${category}</span> ${event.service} ${userLevel}</div><div class=\"event-message\">${summary}</div>${detailsHtml}</div>`;\n\n            if (isExpandable) {\n                const closeBtn = tempDiv.querySelector('.close-details-btn');\n                if (closeBtn) closeBtn.onclick = (e) => { e.stopPropagation(); tempDiv.click(); };\n            }\n            return tempDiv;\n        };\n\n        const currentChildren = Array.from(eventsContainer.children);\n        const currentMap = new Map(currentChildren.map(el => [el.dataset.eventId, el]));\n        const newIds = new Set(currentFilteredEvents.map(e => e.id));\n\n        currentChildren.forEach(child => { if (child.dataset.eventId && !newIds.has(child.dataset.eventId)) child.remove(); });\n\n        let previousElement = null;\n        currentFilteredEvents.forEach((event, index) => {\n            let el = currentMap.get(event.id);\n            if (!el || forceReRender) { if (el) el.remove(); el = createEventElement(event); if (!el) return; }\n            if (index === 0) { if (eventsContainer.firstElementChild !== el) eventsContainer.prepend(el); } \n            else { if (previousElement && previousElement.nextElementSibling !== el) previousElement.after(el); }\n            previousElement = el;\n        });\n\n    } catch (error) {\n        console.error('Error fetching events:', error);\n        if (eventsContainer.children.length === 0) {\n            eventsContainer.innerHTML = createPlaceholderMessage('offline', 'Failed to load events.');\n        }\n    }\n}\n\nfunction attachEventActionListeners() {\n    const expandAllBtn = document.getElementById('events-expand-all');\n    const closeAllBtn = document.getElementById('events-close-all');\n    const filterContainer = document.getElementById('event-filters');\n\n    if (expandAllBtn && !expandAllBtn.dataset.listenerAttached) {\n        expandAllBtn.onclick = () => { currentFilteredEvents.forEach(e => activeExpandedIds.add(e.id)); updateEventsTimeline(true); };\n        expandAllBtn.dataset.listenerAttached = \"true\";\n    }\n    if (closeAllBtn && !closeAllBtn.dataset.listenerAttached) {\n        closeAllBtn.onclick = () => { activeExpandedIds.clear(); updateEventsTimeline(true); };\n        closeAllBtn.dataset.listenerAttached = \"true\";\n    }\n    if (filterContainer && !filterContainer.dataset.listenerAttached) {\n        filterContainer.querySelectorAll('.filter-btn').forEach(btn => {\n            btn.onclick = () => {\n                filterContainer.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));\n                btn.classList.add('active');\n                currentFilter = btn.dataset.filter;\n                updateEventsTimeline(true);\n            };\n        });\n        filterContainer.dataset.listenerAttached = \"true\";\n    }\n}", "// Easter Company - Logs\nimport { smartFetch, ansiToHtml, getGlassyLoader } from './utils.js';\n\nexport function getLogsContent() {\n    return `\n        <div id=\"logs-container\" class=\"logs-container\">\n            ${getGlassyLoader()}\n        </div>\n    `;\n}\n\nexport let lastLogsUpdate = null;\n\nexport async function updateLogs() {\n    const logsContainer = document.getElementById('logs-container');\n    if (!logsContainer) return false;\n\n    // Reset class state\n    logsContainer.classList.remove('placeholder-active');\n\n    try {\n        const response = await smartFetch('/logs');\n        if (!response.ok) throw new Error('Logs offline');\n\n        const logsData = await response.json();\n        if (!logsData || logsData.length === 0) {\n            logsContainer.innerHTML = '<p style=\"text-align: center; opacity: 0.5; padding: 20px;\">No logs found.</p>';\n            return false;\n        }\n\n        const hiddenServiceIDs = [\"local-ollama-0\", \"local-cache-0\", \"cloud-cache-0\", \"cloud-cache-1\"];\n        const filteredLogsData = logsData.filter(logReport => !hiddenServiceIDs.includes(logReport.id));\n\n        // Reverse the order of log reports so newest appear at the top\n        filteredLogsData.forEach(logReport => {\n            if (logReport.logs && Array.isArray(logReport.logs)) {\n                logReport.logs.reverse();\n            } else {\n                logReport.logs = [];\n            }\n        });\n        filteredLogsData.reverse();\n\n        const logsHtml = filteredLogsData.map(logReport => {\n            const rawLogs = logReport.logs.join('\\n');\n            \n            // Ensure exactly 25 lines\n            let lines = [...logReport.logs];\n            if (lines.length < 25) {\n                const paddingNeeded = 25 - lines.length;\n                for (let i = 0; i < paddingNeeded; i++) {\n                    lines.push(''); // Add empty lines\n                }\n            } else if (lines.length > 25) {\n                lines = lines.slice(-25); // Take last 25 if somehow more\n            }\n\n            const styledLogs = lines.map(line => ansiToHtml(line)).join('\\n');\n            \n            return `\n                <div class=\"log-report\">\n                    <div class=\"log-report-header\">\n                        <h3>${logReport.id}</h3>\n                        <div style=\"display: flex; gap: 5px;\">\n                            <button class=\"log-action-btn copy-logs-btn\" data-logs=\"${escape(rawLogs)}\" title=\"Copy Logs\">\n                                <i class=\"bx bx-copy\"></i>\n                            </button>\n                            <button class=\"log-action-btn delete clear-logs-btn\" data-service-id=\"${logReport.id}\" title=\"Clear Logs\">\n                                <i class=\"bx bx-trash\"></i>\n                            </button>\n                        </div>\n                    </div>\n                    <pre class=\"log-content\">${styledLogs}</pre>\n                </div>\n            `;\n        }).join('');\n\n        logsContainer.innerHTML = logsHtml;\n\n        // Add event listeners for copy buttons\n        document.querySelectorAll('.copy-logs-btn').forEach(btn => {\n            btn.addEventListener('click', () => {\n                const logs = unescape(btn.dataset.logs);\n                navigator.clipboard.writeText(logs).then(() => {\n                    const icon = btn.querySelector('i');\n                    icon.classList.remove('bx-copy');\n                    icon.classList.add('bx-check');\n                    setTimeout(() => {\n                        icon.classList.remove('bx-check');\n                        icon.classList.add('bx-copy');\n                    }, 2000);\n                });\n            });\n        });\n\n        // Add event listeners for clear buttons\n        document.querySelectorAll('.clear-logs-btn').forEach(btn => {\n            btn.addEventListener('click', async () => {\n                const serviceId = btn.dataset.serviceId;\n                if (!confirm(`Are you sure you want to clear logs for ${serviceId}?`)) return;\n\n                try {\n                    const res = await smartFetch(`/logs?service_id=${serviceId}`, { method: 'DELETE' });\n                    if (res.ok) {\n                        updateLogs(); // Refresh\n                    }\n                } catch (e) {\n                    console.error(\"Error clearing logs:\", e);\n                }\n            });\n        });\n\n        lastLogsUpdate = Date.now();\n        return true;\n\n    } catch (error) {\n        console.error('Error fetching logs:', error);\n        logsContainer.innerHTML = '<p style=\"text-align: center; color: #cf6679; padding: 20px;\">Failed to load logs.</p>';\n        return false;\n    }\n}\n", "// System Monitor Logic (Services, Models, Processes)\nimport { createPlaceholderMessage, smartFetch, LOCAL_EVENT_SERVICE, getGlassyLoader } from './utils.js';\nimport { getLogsContent, updateLogs } from './logs.js';\n\nexport const getSystemContent = () => {\n    return `\n        <div class=\"system-section-header\" style=\"margin-bottom: 15px; display: flex; align-items: center; gap: 10px;\">\n            <i class='bx bxs-zap' style=\"color: #bb86fc;\"></i>\n            <h2 style=\"font-size: 1.1em; margin: 0; text-align: left;\">Analyst & Vitals</h2>\n        </div>\n        <div class=\"analyst-status-section\" style=\"background: rgba(0,0,0,0.2); padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.05);\">\n            <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;\">\n                <h3 style=\"margin: 0; font-size: 0.9em; color: #888; text-transform: uppercase; letter-spacing: 1px;\">Analyst Tiers</h3>\n                <button id=\"analyst-reset-btn\" class=\"notif-action-btn\" style=\"padding: 4px 10px; font-size: 0.8em;\"><i class='bx bx-refresh'></i> Reset</button>\n            </div>\n            <div style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;\">\n                <div class=\"analyst-indicator\">\n                    <span style=\"color: #666; font-size: 0.75em; text-transform: uppercase;\">Guardian</span>\n                    <span id=\"analyst-t1-val\" style=\"color: #fff; font-family: monospace; display: block; font-size: 1.1em;\">-</span>\n                </div>\n                <div class=\"analyst-indicator\">\n                    <span style=\"color: #666; font-size: 0.75em; text-transform: uppercase;\">Architect</span>\n                    <span id=\"analyst-t2-val\" style=\"color: #fff; font-family: monospace; display: block; font-size: 1.1em;\">-</span>\n                </div>\n                <div class=\"analyst-indicator\">\n                    <span style=\"color: #666; font-size: 0.75em; text-transform: uppercase;\">Strategist</span>\n                    <span id=\"analyst-t3-val\" style=\"color: #fff; font-family: monospace; display: block; font-size: 1.1em;\">-</span>\n                </div>\n            </div>\n            \n            <div style=\"height: 1px; background: rgba(255,255,255,0.05); margin: 15px 0;\"></div>\n            \n            <div style=\"display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;\">\n                 <div class=\"analyst-indicator\">\n                    <span style=\"color: #666; font-size: 0.75em; text-transform: uppercase;\">Cognitive Idle</span>\n                    <span id=\"analyst-idle-val\" style=\"color: #fff; font-family: monospace; display: block; font-size: 1.1em;\">-</span>\n                </div>\n                 <div class=\"analyst-indicator\">\n                    <span style=\"color: #666; font-size: 0.75em; text-transform: uppercase;\">Active Procs</span>\n                    <span id=\"vitals-processes-val\" style=\"color: #fff; font-family: monospace; display: block; font-size: 1.1em;\">-</span>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"system-section-header\" style=\"margin-bottom: 15px; display: flex; align-items: center; gap: 10px;\">\n            <i class='bx bxs-component' style=\"color: #03dac6;\"></i>\n            <h2 style=\"font-size: 1.1em; margin: 0; text-align: left;\">Live Processes</h2>\n        </div>\n        <div id=\"processes-widgets\" class=\"system-monitor-widgets\" style=\"margin-bottom: 30px;\">${getGlassyLoader()}</div>\n\n        <div class=\"system-section-header\" style=\"margin-bottom: 15px; display: flex; align-items: center; gap: 10px;\">\n            <i class='bx bxs-server' style=\"color: #03dac6;\"></i>\n            <h2 style=\"font-size: 1.1em; margin: 0; text-align: left;\">Services</h2>\n        </div>\n        <div id=\"services-widgets\" class=\"system-monitor-widgets\" style=\"margin-bottom: 30px;\">${getGlassyLoader()}</div>\n\n        <div class=\"system-section-header\" style=\"margin-bottom: 15px; display: flex; align-items: center; gap: 10px;\">\n            <i class='bx bxs-brain' style=\"color: #03dac6;\"></i>\n            <h2 style=\"font-size: 1.1em; margin: 0; text-align: left;\">Cognitive Models</h2>\n        </div>\n        <div id=\"models-widgets\" class=\"system-monitor-widgets\" style=\"margin-bottom: 30px;\">${getGlassyLoader()}</div>\n\n        <div class=\"system-section-header\" style=\"margin-bottom: 15px; display: flex; align-items: center; gap: 10px;\">\n            <i class='bx bxs-hdd' style=\"color: #03dac6;\"></i>\n            <h2 style=\"font-size: 1.1em; margin: 0; text-align: left;\">Hardware</h2>\n            <button id=\"hardware-refresh-btn\" class=\"notif-action-btn\" style=\"padding: 4px 10px; font-size: 0.8em; margin-left: auto;\"><i class='bx bx-refresh'></i> Refresh</button>\n        </div>\n        <div id=\"hardware-info-content\" style=\"display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px;\">\n            ${getGlassyLoader()}\n        </div>\n\n        <div class=\"system-section-header\" style=\"margin-bottom: 15px; display: flex; align-items: center; gap: 10px;\">\n            <i class='bx bxs-terminal' style=\"color: #03dac6;\"></i>\n            <h2 style=\"font-size: 1.1em; margin: 0; text-align: left;\">Service Logs</h2>\n        </div>\n        <div id=\"logs-container-wrapper\" style=\"margin-bottom: 20px;\">\n            ${getLogsContent()}\n        </div>\n    `;\n};\n\nexport async function updateSystemTab() {\n    await Promise.all([\n        updateProcessesTab(),\n        updateSystemMonitor(),\n        updateModelsTab()\n    ]);\n    await updateLogs();\n}\n\nexport const getServicesContent = () => `<div id=\"services-widgets\" class=\"system-monitor-widgets\">${getGlassyLoader()}</div>`;\nexport const getModelsContent = () => `<div id=\"models-widgets\" class=\"system-monitor-widgets\">${getGlassyLoader()}</div>`;\nexport const getProcessesContent = () => `<div id=\"processes-widgets\" class=\"system-monitor-widgets\">${getGlassyLoader()}</div>`;\n\nexport let lastServicesUpdate = null;\nexport let lastModelsUpdate = null;\nexport let lastProcessesUpdate = null;\n\nasync function fetchSystemData() {\n    try {\n        const response = await smartFetch('/system_monitor');\n        return await response.json();\n    } catch (error) { return null; }\n}\n\nasync function fetchHardwareData() {\n    try {\n        const response = await smartFetch('/system/hardware');\n        return await response.json();\n    } catch (error) { return null; }\n}\n\nasync function fetchProcessData() {\n    try {\n        const response = await smartFetch('/processes');\n        return await response.json();\n    } catch (error) { return null; }\n}\n\nasync function fetchAnalystStatus() {\n    try {\n        const response = await smartFetch('/analyst/status');\n        return await response.json();\n    } catch (error) { return null; }\n}\n\nexport async function updateSystemMonitor() {\n    const widgetsContainer = document.getElementById('services-widgets');\n    const hardwareContainer = document.getElementById('hardware-info-content');\n    const hardwareRefreshBtn = document.getElementById('hardware-refresh-btn');\n\n    const renderHardwareWidgets = (data) => {\n        if (!data) {\n            hardwareContainer.innerHTML = '<p style=\"color: #ff4d4d;\">Failed to load hardware info.</p>';\n            return;\n        }\n        let html = '';\n        const ramGB = (data.MEMORY_BYTES / (1024 * 1024 * 1024)).toFixed(1);\n        html += `\n            <div class=\"service-widget\" style=\"padding: 10px; min-height: 80px;\">\n                <div class=\"service-widget-header\" style=\"margin-bottom: 5px;\">\n                    <i class='bx bxs-chip'></i>\n                    <h3 style=\"font-size: 0.9em;\">Memory</h3>\n                </div>\n                <div class=\"service-widget-body\">\n                    <span style=\"font-size: 1.2em; font-weight: bold; color: #fff;\">${ramGB} GB</span>\n                    <span style=\"font-size: 0.8em; color: #888;\">Total RAM</span>\n                </div>\n            </div>`;\n\n        if (data.CPU && data.CPU.length > 0) {\n            const cpu = data.CPU[0];\n            html += `\n                <div class=\"service-widget\" style=\"padding: 10px; min-height: 80px;\">\n                    <div class=\"service-widget-header\" style=\"margin-bottom: 5px;\">\n                        <i class='bx bxs-microchip'></i>\n                        <h3 style=\"font-size: 0.9em;\">CPU</h3>\n                    </div>\n                    <div class=\"service-widget-body\">\n                        <span style=\"font-size: 0.9em; color: #fff; display: block; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\" title=\"${cpu.LABEL}\">${cpu.LABEL}</span>\n                        <span style=\"font-size: 0.8em; color: #888;\">${cpu.COUNT} Cores / ${cpu.THREADS} Threads</span>\n                    </div>\n                </div>`;\n        }\n\n        if (data.GPU && data.GPU.length > 0) {\n            data.GPU.forEach((gpu, idx) => {\n                const vramGB = (gpu.VRAM / (1024 * 1024 * 1024)).toFixed(1);\n                html += `\n                    <div class=\"service-widget\" style=\"padding: 10px; min-height: 80px;\">\n                        <div class=\"service-widget-header\" style=\"margin-bottom: 5px;\">\n                            <i class='bx bxs-component'></i>\n                            <h3 style=\"font-size: 0.9em;\">GPU ${idx}</h3>\n                        </div>\n                        <div class=\"service-widget-body\">\n                            <span style=\"font-size: 0.9em; color: #fff; display: block; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\" title=\"${gpu.LABEL}\">${gpu.LABEL}</span>\n                            <span style=\"font-size: 0.8em; color: #888;\">${vramGB} GB VRAM</span>\n                        </div>\n                    </div>`;\n            });\n        }\n\n        if (data.STORAGE && data.STORAGE.length > 0) {\n            let totalUsed = 0;\n            let totalSize = 0;\n            data.STORAGE.forEach(disk => {\n                totalUsed += disk.USED;\n                totalSize += disk.SIZE;\n            });\n            const usedGB = (totalUsed / (1024 * 1024 * 1024)).toFixed(1);\n            const sizeGB = (totalSize / (1024 * 1024 * 1024)).toFixed(1);\n            const percent = totalSize > 0 ? ((totalUsed / totalSize) * 100).toFixed(0) : 0;\n            html += `\n                <div class=\"service-widget\" style=\"padding: 10px; min-height: 80px;\">\n                    <div class=\"service-widget-header\" style=\"margin-bottom: 5px;\">\n                        <i class='bx bxs-hdd'></i>\n                        <h3 style=\"font-size: 0.9em;\">Storage</h3>\n                    </div>\n                    <div class=\"service-widget-body\">\n                        <span style=\"font-size: 1.2em; font-weight: bold; color: #fff;\">${usedGB} / ${sizeGB} GB</span>\n                        <div style=\"background: rgba(255,255,255,0.1); height: 4px; border-radius: 2px; margin-top: 5px;\">\n                             <div style=\"background: ${percent > 90 ? '#ff4d4d' : '#00ff00'}; width: ${percent}%; height: 100%; border-radius: 2px;\"></div>\n                        </div>\n                    </div>\n                </div>`;\n        }\n        hardwareContainer.innerHTML = html;\n    };\n\n    if (hardwareContainer && hardwareRefreshBtn) {\n        if (!hardwareRefreshBtn.dataset.listenerAttached) {\n            hardwareRefreshBtn.onclick = async () => {\n                hardwareRefreshBtn.innerHTML = \"<i class='bx bx-loader-alt spin'></i> Refreshing...\";\n                const hwData = await fetchHardwareData();\n                if (hwData) {\n                    renderHardwareWidgets(hwData);\n                    hardwareRefreshBtn.innerHTML = \"<i class='bx bx-check'></i> Done\";\n                    setTimeout(() => { hardwareRefreshBtn.innerHTML = \"<i class='bx bx-refresh'></i> Refresh\"; }, 2000);\n                } else {\n                    hardwareRefreshBtn.innerHTML = \"<i class='bx bx-error'></i> Failed\";\n                    setTimeout(() => { hardwareRefreshBtn.innerHTML = \"<i class='bx bx-refresh'></i> Refresh\"; }, 2000);\n                }\n            };\n            hardwareRefreshBtn.dataset.listenerAttached = \"true\";\n        }\n        \n        // Initial Load (only if showing the glassy loader placeholder)\n        if (hardwareContainer.querySelector('.glassy-loader-container')) {\n            const hwData = await fetchHardwareData();\n            renderHardwareWidgets(hwData);\n        }\n    }\n\n    if (!widgetsContainer) return;\n    const data = await fetchSystemData();\n    if (!data || !data.services) {\n        widgetsContainer.innerHTML = createPlaceholderMessage('offline', 'Failed to load system metrics.', 'The event service may be offline or unreachable.');\n        return;\n    }\n\n    lastServicesUpdate = Date.now();\n    const services = data.services || [];\n\n    Array.from(widgetsContainer.children).forEach(child => {\n        if (!child.classList.contains('service-widget')) child.remove();\n    });\n\n    function extractMajorMinorPatch(versionStr) { if (!versionStr || versionStr === 'N/A' || versionStr === 'unknown') { return '-'; } const match = versionStr.match(/^(\\d+\\.\\d+\\.\\d+)/); if (match) return match[0]; return versionStr.split('.').slice(0, 3).join('.') || '-'; }\n    function truncateAddress(address) { if (!address || address.length <= 28) return address; return address.substring(0, 28) + '...'; }\n    function formatUptime(uptimeStr) { if (!uptimeStr || uptimeStr === 'N/A' || uptimeStr === 'unknown') return '-'; const match = uptimeStr.match(/(?:(\\d+)d)?(?:(\\d+)h)?(?:(\\d+)m)?(?:([\\d.]+)s)?/); if (!match) return '-'; const days = parseInt(match[1]) || 0; const hours = parseInt(match[2]) || 0; const minutes = parseInt(match[3]) || 0; const seconds = parseFloat(match[4]) || 0; const totalSeconds = (days * 86400) + (hours * 3600) + (minutes * 60) + seconds; const totalDays = Math.floor(totalSeconds / 86400); if (totalDays > 0) return `${totalDays}d`; const totalHours = Math.floor(totalSeconds / 3600); if (totalHours > 0) return `${totalHours}h`; const totalMinutes = Math.floor(totalSeconds / 60); if (totalMinutes > 0) return `${totalMinutes}m`; return `${Math.floor(totalSeconds)}s`; }\n\n    function generateWidgetHtml(service) {\n        const isOnline = service.status === 'online';\n        const statusClass = isOnline ? 'service-widget-online' : 'service-widget-offline';\n        const statusIcon = isOnline ? 'bx-check-circle' : 'bx-x-circle';\n        const statusText = isOnline ? 'OK' : 'BAD';\n        let versionDisplay = service.version ? extractMajorMinorPatch(service.version.str) : '-';\n        const cpuDisplay = service.cpu && service.cpu !== 'N/A' ? service.cpu : '-';\n        const memDisplay = service.memory && service.memory !== 'N/A' ? service.memory : '-';\n        const cpuIconColor = cpuDisplay !== '-' ? '#00ff00' : '#666';\n        const cpuTextColor = cpuDisplay !== '-' ? '#fff' : '#666';\n        const memIconColor = memDisplay !== '-' ? '#00ff00' : '#666';\n        const memTextColor = memDisplay !== '-' ? '#fff' : '#666';\n        const uptime = formatUptime(service.uptime);\n        let detailsHtml = '';\n        if (isOnline) {\n            detailsHtml = `\n                <div class=\"service-widget-info\">\n                    <span class=\"info-label\">Version:</span>\n                    <span class=\"info-value metric-version-monospace\">${versionDisplay}</span>\n                </div>\n                <div class=\"service-widget-footer\">\n                    <div class=\"service-widget-item\">\n                        <i class=\"bx bx-time-five\" style=\"color: #00ff00;\"></i>\n                        <span style=\"color: #fff;\">${uptime}</span>\n                    </div>\n                    <div class=\"service-widget-item\">\n                        <i class=\"bx bxs-microchip\" style=\"color: ${cpuIconColor};\"></i>\n                        <span style=\"color: ${cpuTextColor};\">${cpuDisplay}</span>\n                    </div>\n                    <div class=\"service-widget-item\">\n                        <i class=\"bx bxs-chip\" style=\"color: ${memIconColor};\"></i>\n                        <span style=\"color: ${memTextColor};\">${memDisplay}</span>\n                    </div>\n                </div>`;\n        } else { detailsHtml = `<div class=\"service-widget-footer offline\"><span>OFFLINE</span></div>`; }\n        return `<div class=\"service-widget ${statusClass}\" data-service-id=\"${service.id}\"><div class=\"service-widget-header\"><i class=\"bx ${statusIcon}\"></i><h3>${service.short_name || service.id}</h3><span class=\"service-widget-status\">${statusText}</span></div><div class=\"service-widget-body\"><div class=\"service-widget-info\"><span class=\"info-label\">Address:</span><span class=\"info-value\">${truncateAddress(service.domain && service.port ? `${service.domain}:${service.port}` : '')}</span></div>${detailsHtml}</div></div>`;\n    }\n\n    const existingWidgetsMap = new Map(Array.from(widgetsContainer.querySelectorAll('.service-widget')).map(widget => [widget.dataset.serviceId, widget]));\n    const incomingServiceIds = new Set(services.map(s => s.id));\n    for (const [id, widget] of existingWidgetsMap) { if (!incomingServiceIds.has(id)) widget.remove(); }\n    services.forEach(service => {\n        const newHtml = generateWidgetHtml(service);\n        const existingWidget = existingWidgetsMap.get(service.id);\n        if (existingWidget) { if (existingWidget.outerHTML !== newHtml) existingWidget.outerHTML = newHtml; } \n        else widgetsContainer.insertAdjacentHTML('beforeend', newHtml);\n    });\n}\n\nexport async function updateModelsTab() {\n    const widgetsContainer = document.getElementById('models-widgets');\n    if (!widgetsContainer) return;\n    const data = await fetchSystemData();\n    if (!data) { widgetsContainer.innerHTML = createPlaceholderMessage('offline', 'Failed to load model status.'); return; }\n    lastModelsUpdate = Date.now();\n    const models = data.models || [];\n    const whisperStatus = data.whisper;\n    Array.from(widgetsContainer.children).forEach(child => { if (!child.classList.contains('service-widget')) child.remove(); });\n\n    function generateWhisperWidgetHtml(whisper) {\n        const isReady = whisper.status === 'Ready';\n        const statusClass = isReady ? 'service-widget-online' : 'service-widget-offline';\n        const statusText = isReady ? 'READY' : 'NOT FOUND';\n        return `<div class=\"service-widget ${statusClass}\" data-whisper-widget><div class=\"service-widget-header\"><i class=\"bx bxs-microphone-alt\"></i><h3>Whisper</h3><span class=\"service-widget-status\">${statusText}</span></div><div class=\"service-widget-body\"><div class=\"service-widget-info\"><span class=\"info-label\">Status:</span><span class=\"info-value\">${whisper.status}</span></div><div class=\"service-widget-info\"><span class=\"info-label\">Model:</span><span class=\"info-value\">large-v3-turbo</span></div></div></div>`;\n    }\n\n    function generateModelWidgetHtml(model) {\n        const isDownloaded = model.status === 'Downloaded';\n        const statusClass = isDownloaded ? 'service-widget-online' : 'service-widget-offline';\n        const statusText = isDownloaded ? 'OK' : 'MISSING';\n        const sizeDisplay = isDownloaded && model.size > 0 ? `${(model.size / 1e9).toFixed(2)} GB` : '-';\n        let modelDisplayName = model.name;\n        if (model.type === 'custom' && modelDisplayName.endsWith(':latest')) { modelDisplayName = modelDisplayName.replace(':latest', ''); }\n        return `<div class=\"service-widget ${statusClass}\" data-model-name=\"${model.name}\"><div class=\"service-widget-header\"><i class=\"bx ${isDownloaded ? 'bx-check-circle' : 'bx-x-circle'}\"></i><h3>${modelDisplayName}</h3><span class=\"service-widget-status\">${statusText}</span></div><div class=\"service-widget-body\"><div class=\"service-widget-info\"><span class=\"info-label\">Type:</span><span class=\"info-value\">${model.type}</span></div><div class=\"service-widget-info\"><span class=\"info-label\">Size:</span><span class=\"info-value\">${sizeDisplay}</span></div></div></div>`;\n    }\n\n    let finalHtml = '';\n    if (whisperStatus) finalHtml += generateWhisperWidgetHtml(whisperStatus);\n    finalHtml += models.map(generateModelWidgetHtml).join('');\n    if (!finalHtml) { widgetsContainer.innerHTML = createPlaceholderMessage('empty', 'No models found.'); return; }\n    if (widgetsContainer.innerHTML !== finalHtml) widgetsContainer.innerHTML = finalHtml;\n}\n\nexport async function updateProcessesTab() {\n    const widgetsContainer = document.getElementById('processes-widgets');\n    if (!widgetsContainer) return;\n\n    const t1Val = document.getElementById('analyst-t1-val');\n    const t2Val = document.getElementById('analyst-t2-val');\n    const t3Val = document.getElementById('analyst-t3-val');\n    const idleVal = document.getElementById('analyst-idle-val');\n    const resetBtn = document.getElementById('analyst-reset-btn');\n\n    if (resetBtn && !resetBtn.dataset.listenerAttached) {\n        resetBtn.onclick = async () => {\n            resetBtn.innerHTML = \"<i class='bx bx-loader-alt spin'></i> Resetting...\";\n            try {\n                await smartFetch('/analyst/reset?tier=all', { method: 'POST' });\n                setTimeout(() => {\n                    resetBtn.innerHTML = \"<i class='bx bx-check'></i> Done\";\n                    setTimeout(() => { resetBtn.innerHTML = \"<i class='bx bx-refresh'></i> Reset Analyst\"; }, 2000);\n                }, 500);\n                updateProcessesTab();\n            } catch (e) { resetBtn.innerHTML = \"<i class='bx bx-error'></i> Failed\"; }\n        };\n        resetBtn.dataset.listenerAttached = \"true\";\n    }\n\n    const analystStatus = await fetchAnalystStatus();\n    if (analystStatus) {\n        const now = Math.floor(Date.now() / 1000);\n        const activeTier = analystStatus.active_tier;\n        const updateTimer = (el, nextRun, tierName) => {\n            if (activeTier === tierName || (tierName === 'guardian' && activeTier === 'tests')) {\n                el.textContent = \"Working\";\n                el.style.color = \"#bb86fc\";\n                return;\n            }\n            const diff = nextRun - now;\n            if (diff <= 0) { el.textContent = \"Ready\"; el.style.color = \"#5eff5e\"; }\n            else { const mins = Math.floor(diff / 60); const secs = diff % 60; el.textContent = `${mins}m ${secs}s`; el.style.color = \"#fff\"; }\n        };\n        if (t1Val && analystStatus.guardian) updateTimer(t1Val, analystStatus.guardian.next_run, 'guardian');\n        if (t2Val && analystStatus.architect) updateTimer(t2Val, analystStatus.architect.next_run, 'architect');\n        if (t3Val && analystStatus.strategist) updateTimer(t3Val, analystStatus.strategist.next_run, 'strategist');\n        if (idleVal && analystStatus.system_idle_time !== undefined) {\n            const idle = analystStatus.system_idle_time;\n            const mins = Math.floor(idle / 60); const secs = idle % 60;\n            idleVal.textContent = `${mins}m ${secs}s`;\n            if (idle > 300) idleVal.style.color = \"#5eff5e\";\n            else if (idle > 60) idleVal.style.color = \"#ffa500\";\n            else idleVal.style.color = \"#fff\";\n        }\n    } else {\n        [t1Val, t2Val, t3Val, idleVal].forEach(el => { if (el) { el.textContent = \"Offline\"; el.style.color = \"#ff4d4d\"; } });\n    }\n\n    const processes = await fetchProcessData();\n    const vitalsProcVal = document.getElementById('vitals-processes-val');\n    if (vitalsProcVal) {\n        if (processes) {\n            const count = processes.length;\n            vitalsProcVal.textContent = count > 0 ? `${count} Active` : \"Idle\";\n            vitalsProcVal.style.color = count > 0 ? \"#bb86fc\" : \"#fff\";\n        } else { vitalsProcVal.textContent = \"-\"; vitalsProcVal.style.color = \"#888\"; }\n    }\n\n    if (processes === null) { widgetsContainer.innerHTML = createPlaceholderMessage('offline', 'Failed to load process status.'); return; }\n    lastProcessesUpdate = Date.now();\n    if (processes.length === 0) { widgetsContainer.innerHTML = createPlaceholderMessage('empty', 'No active processes.'); return; }\n    if (widgetsContainer.querySelector('.tab-placeholder') || widgetsContainer.querySelector('.glassy-loader-container')) widgetsContainer.innerHTML = '';\n\n    function generateProcessWidgetHtml(proc) {\n        const duration = Math.floor((Date.now() / 1000) - proc.start_time);\n        const retryBadge = proc.retries > 0 ? `<span class=\"process-retry-badge\">Retry ${proc.retries}</span>` : '';\n        let displayName = proc.channel_id;\n        const idMap = { 'system-discord': 'Discord Engine', 'system-analyst': 'Analyst Worker', 'system-cli-op': 'CLI Operation' };\n        if (idMap[displayName]) displayName = idMap[displayName];\n        else if (/^\\d+$/.test(displayName)) displayName = `Channel ${displayName}`;\n        return `<div class=\"service-widget process-widget\" data-channel-id=\"${proc.channel_id}\"><div class=\"service-widget-header\"><i class=\"bx bx-cog\"></i><h3>${displayName}</h3>${retryBadge}</div><div class=\"service-widget-body\"><div class=\"service-widget-info\"><span class=\"info-label\">State:</span><span class=\"info-value\">${proc.state}</span></div><div class=\"service-widget-info\"><span class=\"info-label\">Duration:</span><span class=\"info-value\">${duration}s</span></div><div class=\"service-widget-info\"><span class=\"info-label\">PID:</span><span class=\"info-value\">${proc.pid}</span></div></div></div>`;\n    }\n\n    const existingWidgetsMap = new Map(Array.from(widgetsContainer.querySelectorAll('.process-widget')).map(widget => [widget.dataset.channelId, widget]));\n    const incomingIds = new Set(processes.map(p => p.channel_id));\n    for (const [id, widget] of existingWidgetsMap) { if (!incomingIds.has(id)) widget.remove(); }\n    processes.forEach(proc => {\n        const newHtml = generateProcessWidgetHtml(proc);\n        const existingWidget = existingWidgetsMap.get(proc.channel_id);\n        if (existingWidget) { if (existingWidget.outerHTML !== newHtml) existingWidget.outerHTML = newHtml; } \n        else widgetsContainer.insertAdjacentHTML('beforeend', newHtml);\n    });\n}", "// Settings Window Logic\nimport { getCurrentTheme, setTheme, THEMES } from './theme.js';\nimport { getUserEmail } from './auth.js';\n\nexport function getSettingsContent() {\n    const currentTheme = getCurrentTheme();\n    const userEmail = getUserEmail() || 'master@easter.company';\n    const notificationState = { enabled: Notification.permission === 'granted', supported: 'Notification' in window };\n    const analyticsEnabled = localStorage.getItem('easter_analytics_enabled') !== 'false';\n\n    return `\n            <div class=\"theme-selector\">\n                ${Object.values(THEMES).map(theme => `\n                    <div class=\"theme-card ${currentTheme === theme ? 'active' : ''}\" data-theme=\"${theme}\">\n                        <div class=\"theme-preview theme-preview-${theme.toLowerCase()}\"></div>\n                        <div class=\"theme-info\">\n                            <h3>${theme}</h3>\n                            <p>${theme === THEMES.AUTO ? 'Automatic theme selection.' : theme === THEMES.DEFAULT ? 'Simple, black, default.' : 'Colourful, not bright.'}</p>\n                            <span class=\"theme-badge\">${currentTheme === theme ? 'Active' : 'Select'}</span>\n                        </div>\n                    </div>\n                `).join('')}\n            </div>\n\n            <div class=\"settings-divider\"></div>\n\n            <div class=\"settings-section\">\n                <h2 class=\"settings-section-title\">Preferences</h2>\n                <div class=\"settings-list\">\n                    <div class=\"settings-item\">\n                        <div class=\"settings-item-info\">\n                            <span class=\"settings-item-label\">Notifications</span>\n                            <span class=\"settings-item-description\">${notificationState.supported ? 'Receive desktop notifications' : 'Not supported in this browser'}</span>\n                        </div>\n                        <label class=\"toggle-switch\">\n                            <input type=\"checkbox\" id=\"notifications-toggle\" ${notificationState.enabled ? 'checked' : ''} ${!notificationState.supported ? 'disabled' : ''}>\n                            <span class=\"toggle-slider\"></span>\n                        </label>\n                    </div>\n                    <div class=\"settings-item\" id=\"microphone-setting-item\">\n                        <div class=\"settings-item-info\">\n                            <span class=\"settings-item-label\">Access Microphone</span>\n                            <span class=\"settings-item-description\">Allow access to your microphone</span>\n                        </div>\n                        <label class=\"toggle-switch\">\n                            <input type=\"checkbox\" id=\"microphone-toggle\" disabled>\n                            <span class=\"toggle-slider\"></span>\n                        </label>\n                    </div>\n                    <div class=\"settings-item\">\n                        <div class=\"settings-item-info\">\n                            <span class=\"settings-item-label\">Analytics</span>\n                            <span class=\"settings-item-description\">Help improve the platform (enables debug mode)</span>\n                        </div>\n                        <label class=\"toggle-switch\">\n                            <input type=\"checkbox\" id=\"analytics-toggle\" ${analyticsEnabled ? 'checked' : ''}>\n                            <span class=\"toggle-slider\"></span>\n                        </label>\n                    </div>\n                </div>\n            </div>`;\n}\n\nexport function attachSettingsListeners(settingsWindowInstance) {\n    const settingsContent = document.querySelector('#main-window .window-content');\n    if (!settingsContent) return;\n\n    settingsContent.querySelectorAll('.theme-card').forEach(card => {\n        card.addEventListener('click', function () {\n            const newTheme = this.dataset.theme;\n            setTheme(newTheme);\n            settingsWindowInstance.setContent(getSettingsContent());\n            attachSettingsListeners(settingsWindowInstance);\n        });\n    });\n\n    const notificationToggle = document.getElementById('notifications-toggle');\n    if (notificationToggle) {\n        notificationToggle.onclick = async (e) => {\n            if (e.target.checked) {\n                try { const permission = await Notification.requestPermission(); if (permission !== 'granted') e.target.checked = false; }\n                catch (error) { e.target.checked = false; }\n            } else if (Notification.permission === 'granted') {\n                alert('To disable notifications, please use your browser settings.');\n                e.target.checked = true;\n            }\n        };\n    }\n\n    const analyticsToggle = document.getElementById('analytics-toggle');\n    if (analyticsToggle) {\n        analyticsToggle.checked = localStorage.getItem('easter_analytics_enabled') !== 'false';\n        analyticsToggle.onclick = (e) => {\n            const enabled = e.target.checked;\n            localStorage.setItem('easter_analytics_enabled', enabled);\n            window.EASTER_ANALYTICS_ENABLED = enabled;\n            window.EASTER_DEBUG_MODE = enabled;\n        };\n    }\n}", "// 404 Error View Component - Restoring Historical Style\nexport const getErrorContent = () => `\n    <div style=\"margin: auto auto; display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; height: 100%;\">\n        <svg viewBox=\"0 0 10 2\" style=\"width: 100%; height: 25vh; background-color: transparent; user-select: none;\">\n          <text\n            x=\"5\"\n            y=\"1\"\n            text-anchor=\"middle\"\n            font-size=\"1\"\n            fill=\"none\"\n            stroke-width=\".015\"\n            stroke=\"#fff\"\n            font-family=\"sans-serif\"\n          >\n            404\n          </text>\n        </svg>\n        <a href=\"/\" style=\"width: 300px; margin: 0 auto; text-decoration: none; display: block; cursor: pointer;\">\n          <h1\n            style=\"\n              width: 100%;\n              text-align: center;\n              margin: 0;\n              padding: 0;\n              font-size: 22px;\n              color: #bbb;\n              font-weight: 500;\n            \"\n          >\n            Page Not Found.\n          </h1>\n          <h2\n            style=\"\n              width: 100%;\n              text-align: center;\n              margin: 10px 0 0 0;\n              padding: 0;\n              font-size: 18px;\n              color: #999;\n              font-weight: 400;\n            \"\n          >\n            Click Here To Return Home\n          </h2>\n        </a>\n    </div>\n`;\n\nexport function attachErrorListeners() {\n    // Standard link behavior handles navigation\n}", "// Social Media Bar Component\nexport const getSocialsContent = () => `\n    <div class=\\\"socials-bar-container\\\">\n        <div class=\\\"socials-section\\\">\n            <a href=\\\"https://facebook.com/eastercompany\\\" aria-label=\\\"Facebook\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\"><i class=\\\"bx bxl-facebook-square\\\"></i></a>\n            <a href=\\\"https://linkedin.com/company/72223947\\\" aria-label=\\\"LinkedIn\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\"><i class=\\\"bx bxl-linkedin\\\"></i></a>\n            <a href=\\\"https://instagram.com/eastercompany\\\" aria-label=\\\"Instagram\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\"><i class=\\\"bx bxl-instagram-alt\\\"></i></a>\n            <a href=\\\"https://x.com/eastercompany\\\" aria-label=\\\"X\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\"><i class=\\\"bx bxl-twitter\\\"></i></a>\n            <a href=\\\"https://github.com/eastercompany\\\" aria-label=\\\"GitHub\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\"><i class=\\\"bx bxl-github\\\"></i></a>\n            <a href=\\\"https://youtube.com/@eastercompany\\\" aria-label=\\\"YouTube\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\"><i class=\\\"bx bxl-youtube\\\"></i></a>\n        </div>\n    </div>\n`;\n\nexport function injectSocialsBar() {\n    const existing = document.getElementById('main-socials-bar');\n    if (existing) return;\n\n    const footer = document.createElement('footer');\n    footer.id = 'main-socials-bar';\n    footer.innerHTML = getSocialsContent();\n    document.body.appendChild(footer);\n}\n", "import { smartFetch, ansiToHtml } from './utils.js';\n\nconst CLI_COMMANDS = [\n    // --- Cognitive Core ---\n    {\n        id: 'chat',\n        title: 'Chat',\n        icon: 'bx-message-rounded-dots',\n        description: 'Engage with Dexter\\'s internal cognitive core directly from the browser.',\n        usage: 'Coming soon...',\n        category: 'cognitive',\n        dummy: true\n    },\n    {\n        id: 'guardian',\n        title: 'Guardian',\n        icon: 'bx-shield-quarter',\n        description: 'Manually trigger a Tier 1 technical audit. Analyzes vitals, logs, and events for system anomalies.',\n        usage: 'dex guardian',\n        category: 'cognitive'\n    },\n    {\n        id: 'whisper',\n        title: 'Whisper',\n        icon: 'bx-microphone',\n        description: 'Access the local OpenAI Whisper model for high-fidelity speech-to-text transcription.',\n        usage: 'dex whisper transcribe -k <redis_key>',\n        category: 'cognitive'\n    },\n    {\n        id: 'ollama',\n        title: 'Ollama',\n        icon: 'bx-brain',\n        description: 'Direct proxy to the underlying Ollama instance managing local large language models.',\n        usage: 'dex ollama [pull|run|ps|list]',\n        category: 'cognitive'\n    },\n\n    // --- Development Lifecycle ---\n    {\n        id: 'build',\n        title: 'Build',\n        icon: 'bx-package',\n        description: 'Ecosystem-wide build system. Increments versions, compiles binaries, and updates the dashboard.',\n        usage: 'dex build [major|minor|patch]',\n        category: 'lifecycle'\n    },\n    {\n        id: 'update',\n        title: 'Update',\n        icon: 'bx-cloud-download',\n        description: 'Syncs all service repositories and applies the latest patches from source.',\n        usage: 'dex update',\n        category: 'lifecycle'\n    },\n    {\n        id: 'test',\n        title: 'Test',\n        icon: 'bx-check-shield',\n        description: 'Executes the unified test suite across all services (Format, Lint, and Unit Tests).',\n        usage: 'dex test [service] [--models]',\n        category: 'lifecycle'\n    },\n    {\n        id: 'add',\n        title: 'Add Service',\n        icon: 'bx-plus-circle',\n        description: 'Registers and installs a new service into the Dexter ecosystem from a remote repository.',\n        usage: 'dex add <repo_url>',\n        category: 'lifecycle'\n    },\n    {\n        id: 'remove',\n        title: 'Remove Service',\n        icon: 'bx-minus-circle',\n        description: 'Uninstalls a service and removes its registration from the global service map.',\n        usage: 'dex remove <service_id>',\n        category: 'lifecycle'\n    },\n\n    // --- System Management ---\n    {\n        id: 'status',\n        title: 'Status',\n        icon: 'bx-pulse',\n        description: 'Real-time health check for all system components, including networking and version info.',\n        usage: 'dex status [service|all]',\n        category: 'system'\n    },\n    {\n        id: 'logs',\n        title: 'Logs',\n        icon: 'bx-terminal',\n        description: 'High-performance log streaming. Connects directly to localized service log files.',\n        usage: 'dex logs <service> [-f]',\n        category: 'system'\n    },\n    {\n        id: 'system',\n        title: 'System Info',\n        icon: 'bx-info-square',\n        description: 'Hardware introspection. Reports CPU, GPU, Memory, and OS package dependencies.',\n        usage: 'dex system [info|scan|validate|install]',\n        category: 'system'\n    },\n    {\n        id: 'config',\n        title: 'Config',\n        icon: 'bx-slider-alt',\n        description: 'Low-level configuration management for the centralized service-map.json.',\n        usage: 'dex config <service> [field]',\n        category: 'system'\n    },\n    {\n        id: 'cache',\n        title: 'Cache',\n        icon: 'bx-data',\n        description: 'Manages the local Redis-backed cognitive and ephemeral data cache.',\n        usage: 'dex cache [clear|list]',\n        category: 'system'\n    },\n    {\n        id: 'serve',\n        title: 'Serve',\n        icon: 'bx-broadcast',\n        description: 'Internal static file server for local development and dashboard hosting.',\n        usage: 'dex serve -d <dir> -p <port>',\n        category: 'system'\n    },\n    {\n        id: 'event',\n        title: 'Event Bus',\n        icon: 'bx-share-alt',\n        description: 'Direct interaction with the core event service. Manage the system-wide event stream.',\n        usage: 'dex event [service|log|delete|analyst]',\n        category: 'system'\n    },\n    {\n        id: 'discord',\n        title: 'Discord',\n        icon: 'bx-message-square-dots',\n        description: 'Manages the Discord engine, including channel mapping and contact synchronization.',\n        usage: 'dex discord [contacts|channels|service|quiet]',\n        category: 'system'\n    },\n\n    // --- Service Lifecycle ---\n    {\n        id: 'restart',\n        title: 'Restart',\n        icon: 'bx-refresh',\n        description: 'Gracefully restarts all manageable systemd services in the ecosystem.',\n        usage: 'dex restart [service|all]',\n        category: 'service'\n    },\n    {\n        id: 'start',\n        title: 'Start',\n        icon: 'bx-play',\n        description: 'Initiates service execution for all stopped manageable components.',\n        usage: 'dex start [service|all]',\n        category: 'service'\n    },\n    {\n        id: 'stop',\n        title: 'Stop',\n        icon: 'bx-stop',\n        description: 'Gracefully terminates the execution of manageable systemd services.',\n        usage: 'dex stop [service|all]',\n        category: 'service'\n    },\n\n    // --- Proxy Proxies ---\n    {\n        id: 'python',\n        title: 'Python Env',\n        icon: 'bx-code-curly',\n        description: 'Proxy command to run executables within Dexter\\'s managed Python virtual environments.',\n        usage: 'dex python <command>',\n        category: 'proxy'\n    },\n    {\n        id: 'bun',\n        title: 'Bun Runtime',\n        icon: 'bx-bolt-circle',\n        description: 'Proxy command to the local Bun runtime for high-performance JavaScript execution.',\n        usage: 'dex bun <args>',\n        category: 'proxy'\n    }\n];\n\nexport const getCliInterfaceContent = () => {\n    const categories = {\n        cognitive: { title: 'Cognitive Core', icon: 'bx-brain', color: '#bb86fc' },\n        lifecycle: { title: 'Development Lifecycle', icon: 'bx-git-branch', color: '#03dac6' },\n        service: { title: 'Service Control', icon: 'bx-power-off', color: '#ffa500' },\n        system: { title: 'System Management', icon: 'bx-cog', color: '#aaa' },\n        proxy: { title: 'Runtime Proxies', icon: 'bx-code-alt', color: '#666' }\n    };\n\n    let html = `\n        <div class=\"cli-dashboard\">\n            <div class=\"cli-hero\" style=\"text-align: center; padding: 60px 20px; margin-bottom: 40px;\">\n                <h1 style=\"font-size: 3em; margin-bottom: 15px; color: #fff; letter-spacing: -1px;\">DEX CLI</h1>\n                <p style=\"color: #888; max-width: 700px; margin: 0 auto; font-size: 1.1em; line-height: 1.6;\">The unified command-line interface for the Dexter ecosystem. A high-fidelity toolset designed to manage, monitor, and evolve your autonomous infrastructure.</p>\n            </div>\n    `;\n\n    for (const [catId, catInfo] of Object.entries(categories)) {\n        const commands = CLI_COMMANDS.filter(cmd => cmd.category === catId);\n        if (commands.length === 0) continue;\n\n        html += `\n            <div class=\"cli-category-section\" style=\"margin-bottom: 60px;\">\n                <div style=\"display: flex; align-items: center; gap: 15px; margin-bottom: 30px; padding: 0 20px;\">\n                    <i class='bx ${catInfo.icon}' style=\"color: ${catInfo.color}; font-size: 1.8em;\"></i>\n                    <h2 style=\"font-size: 1.4em; text-transform: uppercase; letter-spacing: 3px; color: #eee; margin: 0;\">${catInfo.title}</h2>\n                </div>\n                <div class=\"cli-grid\" style=\"display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 25px; padding: 0 20px;\">\n                    ${commands.map(cmd => `\n                        <div class=\"cli-command-card ${cmd.dummy ? 'dummy' : ''}\" data-cmd=\"${cmd.id}\" style=\"background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.05); border-radius: 16px; padding: 30px; transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1); cursor: pointer; position: relative; overflow: hidden; display: flex; flex-direction: column;\">\n                            <div class=\"card-glow\" style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle at 50% 0%, ${catInfo.color}11, transparent 70%); pointer-events: none;\"></div>\n                            <div style=\"display: flex; align-items: center; gap: 18px; margin-bottom: 20px; position: relative; z-index: 1;\">\n                                <i class='bx ${cmd.icon}' style=\"font-size: 2.2em; color: ${catInfo.color};\"></i>\n                                <h3 style=\"font-size: 1.4em; color: #fff; margin: 0; letter-spacing: -0.5px;\">${cmd.title}</h3>\n                            </div>\n                            <p style=\"font-size: 0.95em; color: #999; margin-bottom: 25px; line-height: 1.6; text-align: left; position: relative; z-index: 1; flex: 1;\">${cmd.description}</p>\n                            <div class=\"usage-block\" style=\"background: rgba(0,0,0,0.4); padding: 12px 18px; border-radius: 10px; font-family: 'JetBrains Mono', monospace; font-size: 0.85em; color: ${catInfo.color}; position: relative; z-index: 1; border: 1px solid rgba(255,255,255,0.03);\">\n                                <span style=\"opacity: 0.4; margin-right: 8px;\">$</span>${cmd.usage}\n                            </div>\n                        </div>\n                    `).join('')}\n                </div>\n            </div>\n        `;\n    }\n\n    html += `</div>`;\n    return html;\n};\n\nlet terminalActive = false;\n\nfunction openTerminal(cmdInfo) {\n    let overlay = document.getElementById('cli-terminal-overlay');\n    if (!overlay) {\n        overlay = document.createElement('div');\n        overlay.id = 'cli-terminal-overlay';\n        overlay.className = 'cli-execution-overlay';\n        overlay.innerHTML = `\n            <div class=\"cli-terminal-window\">\n                <div class=\"cli-terminal-header\">\n                    <div class=\"terminal-title\">\n                        <i class='bx bx-terminal'></i>\n                        <span id=\"terminal-cmd-name\">dex command</span>\n                        <span id=\"terminal-status-badge\" class=\"terminal-status status-running\">Running</span>\n                    </div>\n                    <i class='bx bx-x' id=\"close-terminal-btn\" style=\"cursor: pointer; font-size: 1.5em; color: #666; transition: color 0.2s;\"></i>\n                </div>\n                <div id=\"cli-terminal-body\" class=\"cli-terminal-body\"></div>\n                <div class=\"cli-terminal-footer\">\n                    <button id=\"terminal-action-btn\" class=\"notif-action-btn\" style=\"display: none; padding: 6px 20px;\">Done</button>\n                </div>\n            </div>\n        `;\n        document.body.appendChild(overlay);\n        \n        document.getElementById('close-terminal-btn').onclick = () => closeTerminal();\n        document.getElementById('terminal-action-btn').onclick = () => closeTerminal();\n    }\n\n    const body = document.getElementById('cli-terminal-body');\n    body.innerHTML = '';\n    document.getElementById('terminal-cmd-name').textContent = `dex ${cmdInfo.id}`;\n    document.getElementById('terminal-status-badge').className = 'terminal-status status-running';\n    document.getElementById('terminal-status-badge').textContent = 'Running';\n    document.getElementById('terminal-action-btn').style.display = 'none';\n\n    overlay.classList.add('active');\n    terminalActive = true;\n\n    return body;\n}\n\nfunction closeTerminal() {\n    const overlay = document.getElementById('cli-terminal-overlay');\n    if (overlay) overlay.classList.remove('active');\n    terminalActive = false;\n}\n\nfunction logToTerminal(body, text, type = 'output') {\n    if (!terminalActive) return;\n    const line = document.createElement('div');\n    line.className = `terminal-line terminal-${type}`;\n    \n    if (type === 'prompt') {\n        line.innerHTML = `<span class=\\\"terminal-prompt\\\">$</span> ${text}`;\n    } else {\n        line.innerHTML = ansiToHtml(text);\n    }\n    \n    body.appendChild(line);\n    body.scrollTop = body.scrollHeight;\n}\n\nasync function executeRealCommand(cmdId) {\n    const cmdInfo = CLI_COMMANDS.find(c => c.id === cmdId);\n    if (!cmdInfo) return;\n\n    const body = openTerminal(cmdInfo);\n    logToTerminal(body, `dex ${cmdId}`, 'prompt');\n\n    try {\n        const response = await smartFetch('/cli/execute', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ command: cmdId, args: [] })\n        });\n\n        const reader = response.body.getReader();\n        const decoder = new TextDecoder();\n\n        while (true) {\n            const { value, done } = await reader.read();\n            if (done) break;\n            \n            const chunk = decoder.decode(value, { stream: true });\n            const lines = chunk.split('\\n');\n            lines.forEach(line => {\n                if (line.trim() === '') return;\n                \n                let type = 'output';\n                if (line.includes('[ERROR]')) type = 'error';\n                else if (line.includes('[SUCCESS]')) type = 'success';\n                else if (line.includes('\u2713')) type = 'success';\n                else if (line.includes('!')) type = 'warning';\n                \n                logToTerminal(body, line, type);\n            });\n        }\n\n        document.getElementById('terminal-status-badge').className = 'terminal-status status-success';\n        document.getElementById('terminal-status-badge').textContent = 'Completed';\n    } catch (err) {\n        // --- FALLBACK TO SIMULATION ---\n        logToTerminal(body, '* this is a demonstration', 'warning');\n        await simulateExecution(cmdId, body);\n    } finally {\n        document.getElementById('terminal-action-btn').style.display = 'block';\n    }\n}\n\nasync function simulateExecution(cmdId, body) {\n    await new Promise(r => setTimeout(r, 500));\n\n    switch (cmdId) {\n        case 'guardian':\n            logToTerminal(body, 'Initializing Tier 1 Analysis...');\n            await new Promise(r => setTimeout(r, 800));\n            logToTerminal(body, 'Fetching system context...');\n            logToTerminal(body, '  \u2713 system_monitor (6.2 KiB)');\n            logToTerminal(body, '  \u2713 events (17.3 KiB)');\n            logToTerminal(body, '  \u2713 logs (22.9 KiB)');\n            await new Promise(r => setTimeout(r, 1000));\n            logToTerminal(body, 'Constructing prompt (47005 characters)...');\n            logToTerminal(body, 'Running Guardian Analysis via Ollama (gpt-oss:20b)...');\n            await new Promise(r => setTimeout(r, 1500));\n            logToTerminal(body, '\\n# System Health Snapshot', 'success');\n            logToTerminal(body, 'Everything looks green. System is operating within normal parameters.');\n            logToTerminal(body, '  \u2022 All 5 services reporting OK');\n            logToTerminal(body, '  \u2022 No critical errors in last 50 log lines');\n            logToTerminal(body, '  \u2022 Memory usage at 42%');\n            await new Promise(r => setTimeout(r, 800));\n            logToTerminal(body, '\\nResetting Guardian timer...');\n            logToTerminal(body, '\u2713 Guardian timer reset.', 'success');\n            break;\n\n        case 'test':\n            logToTerminal(body, 'Executing system-wide test suite...');\n            const services = ['cli', 'event', 'discord', 'tts', 'web'];\n            for (const svc of services) {\n                await new Promise(r => setTimeout(r, 600));\n                logToTerminal(body, `Testing ${svc}...`);\n                await new Promise(r => setTimeout(r, 400));\n                logToTerminal(body, `  \u2713 Format`, 'success');\n                logToTerminal(body, `  \u2713 Lint`, 'success');\n                logToTerminal(body, `  \u2713 Unit Tests`, 'success');\n            }\n            logToTerminal(body, '\\n\u2728 All tests passed!', 'success');\n            break;\n\n        case 'build':\n            logToTerminal(body, 'Incrementing version: 2.8.137 -> 2.8.138 (patch)');\n            logToTerminal(body, 'Building all services from local source...');\n            await new Promise(r => setTimeout(r, 1000));\n            logToTerminal(body, '[1/3] Building dex-cli...');\n            logToTerminal(body, '  \u2713 compilation successful');\n            await new Promise(r => setTimeout(r, 800));\n            logToTerminal(body, '[2/3] Building dex-event-service...');\n            logToTerminal(body, '  \u2713 compilation successful');\n            await new Promise(r => setTimeout(r, 800));\n            logToTerminal(body, '[3/3] Building easter.company...');\n            logToTerminal(body, '  \u2713 bundling assets');\n            await new Promise(r => setTimeout(r, 1200));\n            logToTerminal(body, '\\n\u2713 Build complete. Release 2.8.138 ready.', 'success');\n            break;\n\n        default:\n            logToTerminal(body, `Executing ${cmdId} logic...`);\n            await new Promise(r => setTimeout(r, 1000));\n            logToTerminal(body, 'Operation completed successfully.', 'success');\n    }\n\n    document.getElementById('terminal-status-badge').className = 'terminal-status status-success';\n    document.getElementById('terminal-status-badge').textContent = 'Completed';\n}\n\nexport function initCliDashboard() {\n    const container = document.getElementById('cli-interface-container');\n    if (!container) return;\n\n    container.innerHTML = getCliInterfaceContent();\n\n    // Add interactivity\n    container.querySelectorAll('.cli-command-card').forEach(card => {\n        card.addEventListener('mouseenter', () => {\n            card.style.transform = 'translateY(-8px)';\n            card.style.borderColor = 'rgba(255,255,255,0.15)';\n            card.style.backgroundColor = 'rgba(255,255,255,0.04)';\n        });\n        card.addEventListener('mouseleave', () => {\n            card.style.transform = 'translateY(0)';\n            card.style.borderColor = 'rgba(255,255,255,0.05)';\n            card.style.backgroundColor = 'rgba(255,255,255,0.02)';\n        });\n        card.addEventListener('click', () => {\n            const cmd = card.dataset.cmd;\n            if (cmd === 'chat') {\n                alert('Connection to cognitive core pending deployment...');\n                return;\n            }\n            executeRealCommand(cmd);\n        });\n    });\n}", "// Easter Company - Universal JS Entrypoint\nimport { applyBaseStyles, injectNavbar } from './styler.js';\nimport { createWindow } from './Window.js';\nimport { isLoggedIn, login } from './auth.js';\nimport { initTheme } from './theme.js';\nimport { getNotificationsContent, updateNotificationsTab } from './notifications.js';\nimport { getIdeasContent, updateIdeasTab } from './ideas.js';\nimport { getContactsContent, updateContactsTab } from './contacts.js';\nimport { getEventsContent, updateEventsTimeline } from './events.js';\nimport { getSystemContent, updateSystemTab } from './monitor.js';\nimport { getSettingsContent, attachSettingsListeners } from './settings.js';\nimport { getErrorContent, attachErrorListeners } from './ErrorView.js';\nimport { injectSocialsBar } from './SocialsBar.js';\nimport { initCliDashboard } from './cli.js';\nimport { getEventServiceUrl } from './utils.js';\n\nasync function checkServiceHealth() {\n  const isProduction = window.location.hostname === 'easter.company';\n  if (!isProduction) return;\n\n  try {\n    const response = await fetch(`${getEventServiceUrl()}/system/status`, { method: 'HEAD' });\n    if (!response.ok) throw new Error('Service unhealthy');\n  } catch (e) {\n    console.error('Production event service unreachable. Redirecting to 404.');\n    window.location.href = '/404.html';\n  }\n}\n\nfunction onReady() {\n  checkServiceHealth();\n  initTheme();\n  applyBaseStyles();\n  \n  // If we are on a 404 page, render the ErrorView component\n  const errorContainer = document.getElementById('error-main-view');\n  if (errorContainer) {\n      errorContainer.innerHTML = getErrorContent();\n      attachErrorListeners();\n  }\n\n  if (window.location.pathname.includes('/dex')) {\n      initCliDashboard();\n  }\n\n  const loggedIn = isLoggedIn();\n  injectNavbar(loggedIn);\n  injectSocialsBar();\n\n  // --- Window & State Management ---\n  const footer = document.getElementById('main-socials-bar');\n  const navbar = document.getElementById('main-navbar');\n  const closeBtn = document.getElementById('nav-window-close');\n  let openWindow = null;\n  let activeRefreshInterval = null;\n  let activeContactsInterval = null;\n\n  function stopAllIntervals() {\n      if (activeRefreshInterval) clearInterval(activeRefreshInterval);\n      if (activeContactsInterval) clearInterval(activeContactsInterval);\n      activeRefreshInterval = null;\n      activeContactsInterval = null;\n  }\n\n  function onWindowClose() {\n    stopAllIntervals();\n    openWindow = null;\n    footer?.classList.remove('hide');\n    navbar?.classList.remove('window-open');\n    document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));\n  }\n\n  // Navbar Close Listener\n  closeBtn?.addEventListener('click', () => {\n      if (openWindow) openWindow.close();\n  });\n\n  function handleWindow(windowInstance, clickedIcon = null, tabIndex = null) {\n    const isCurrentlyOpen = openWindow && openWindow.id === windowInstance.id;\n    const isSameTab = openWindow && openWindow.activeTabIndex === tabIndex;\n\n    if (isCurrentlyOpen && isSameTab) {\n        windowInstance.close();\n        return;\n    }\n    \n    // Smooth transition between windows/tabs\n    if (openWindow) {\n      openWindow.close(true); // Immediate-style transition\n    }\n\n    if (!isCurrentlyOpen || !isSameTab) {\n      navbar?.classList.add('window-open');\n      \n      // Load content\n      if (tabIndex === 0) windowInstance.setContent(getNotificationsContent());\n      else if (tabIndex === 1) windowInstance.setContent(getEventsContent());\n      else if (tabIndex === 2) windowInstance.setContent(getIdeasContent());\n      else if (tabIndex === 3) windowInstance.setContent(getSystemContent());\n      else if (tabIndex === 4) windowInstance.setContent(getContactsContent());\n      else if (tabIndex === 5) windowInstance.setContent(getSettingsContent());\n\n      windowInstance.activeTabIndex = tabIndex;\n      windowInstance.open();\n      openWindow = windowInstance;\n\n      // Update navbar state\n      document.querySelectorAll('.nav-tab').forEach(tab => {\n        const isActive = parseInt(tab.dataset.tabIndex) === tabIndex;\n        tab.classList.toggle('active', isActive);\n      });\n\n      footer?.classList.add('hide');\n      refreshActiveTabData();\n      \n      if (tabIndex === 5) attachSettingsListeners(windowInstance);\n    }\n  }\n\n  async function refreshActiveTabData(forceReRender = false) {\n    if (!openWindow || !openWindow.isOpen()) return;\n    \n    const activeIndex = openWindow.activeTabIndex;\n    switch (activeIndex) {\n      case 0: await updateNotificationsTab(forceReRender); break;\n      case 1: await updateEventsTimeline(forceReRender); break;\n      case 2: await updateIdeasTab(forceReRender); break;\n      case 3: await updateSystemTab(forceReRender); break;\n      case 4: await updateContactsTab(forceReRender); break;\n    }\n  }\n\n  function startMainWindowPolling() {\n    stopAllIntervals();\n    \n    // Frequent updates (3s)\n    activeRefreshInterval = setInterval(() => {\n      if (openWindow) refreshActiveTabData();\n    }, 3000);\n\n    // Infrequent updates (10m) - For Contacts\n    activeContactsInterval = setInterval(() => {\n      if (openWindow && openWindow.activeTabIndex === 4) updateContactsTab();\n    }, 600000);\n  }\n\n  const loginWindow = createWindow({\n    id: 'login-window',\n    title: 'Welcome',\n    icon: 'bx-log-in',\n    onClose: onWindowClose\n  });\n  \n  const mainWindow = createWindow({\n    id: 'main-window',\n    icon: 'bx-layer',\n    onClose: onWindowClose,\n    onOpen: startMainWindowPolling\n  });\n\n  if (loggedIn) {\n    document.querySelectorAll('.nav-tab').forEach(tab => {\n        tab.addEventListener('click', (e) => {\n            const index = parseInt(e.currentTarget.dataset.tabIndex);\n            handleWindow(mainWindow, e.currentTarget, index);\n        });\n    });\n  } else {\n    document.getElementById('login-btn')?.addEventListener('click', () => {\n      handleWindow(loginWindow);\n      setTimeout(() => {\n        document.getElementById('login-form')?.addEventListener('submit', e => {\n          e.preventDefault();\n          try {\n            login(document.getElementById('email-input').value);\n            window.location.reload();\n          } catch (error) {\n            const errorDiv = document.getElementById('login-error');\n            if (errorDiv) {\n              errorDiv.textContent = error.message;\n              errorDiv.style.display = 'block';\n            }\n          }\n        });\n      }, 100);\n    });\n  }\n}\n\nif (document.readyState === \"loading\") {\n  document.addEventListener(\"DOMContentLoaded\", onReady);\n} else {\n  onReady();\n}"],
  "mappings": "MAEO,SAASA,IAAkB,CAC9B,QAAQ,IAAI,qFAAqF,CACrG,CAwEO,SAASC,GAAaC,EAAa,GAAO,CA4C7C,IAAMC,EAAa;AAAA;AAAA,cA3CD,OAAO,SAAS,SAAS,SAAS,MAAM,EAEvB;AAAA;AAAA;AAAA,gBAGrB;AAAA;AAAA;AAAA,eAwCU;AAAA;AAAA,UAnCND,EAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA+BjB,yDAMC;AAAA;AAAA;AAAA;AAAA,MAMTE,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,GAAK,cACZA,EAAO,UAAYD,EACnB,SAAS,KAAK,QAAQC,CAAM,EAG5B,SAAS,eAAe,eAAe,GAAG,iBAAiB,QAAS,IAAM,CACtE,OAAO,SAAS,KAAO,GAC3B,CAAC,CACL,CCtIO,SAASC,GAAaC,EAAS,CAClC,IAAIC,EAAW,KACXC,EAAiBF,EAAQ,SAAW,GACpCG,EAAgBH,EAAQ,SAAW,KACnCI,EAAeJ,EAAQ,QAAU,KACjCK,EAAkB,GAEtB,SAASC,GAAO,CACZ,GAAID,EAAiB,OAErB,GAAIJ,EAAU,CACVA,EAAS,UAAU,OAAO,WAAW,EACrCA,EAAS,UAAU,IAAI,MAAM,EACzBG,GAAc,WAAWA,EAAc,EAAE,EAC7C,MACJ,CAEA,IAAIG,EAAY,SAAS,eAAe,mBAAmB,EACtDA,IACDA,EAAY,SAAS,cAAc,KAAK,EACxCA,EAAU,GAAK,oBACfA,EAAU,UAAY,oBACtB,SAAS,KAAK,YAAYA,CAAS,GAGvCN,EAAW,SAAS,cAAc,KAAK,EACvCA,EAAS,GAAKD,EAAQ,GACtBC,EAAS,UAAY,SACrBA,EAAS,UAAY,+BAA+BC,CAAc,SAClEK,EAAU,YAAYN,CAAQ,EAG9B,sBAAsB,IAAM,CACxB,sBAAsB,IAAM,CACpBA,IACAA,EAAS,UAAU,IAAI,MAAM,EACzBG,GAAcA,EAAa,EAEvC,CAAC,CACL,CAAC,CACL,CAEA,SAASI,EAAMC,EAAY,GAAO,CAC1B,CAACR,GAAYI,IACjBA,EAAkB,GAEdI,GACAR,EAAS,UAAU,IAAI,WAAW,EAClCA,EAAS,UAAU,OAAO,MAAM,EAChC,WAAW,IAAM,CACbS,EAAQ,EACRL,EAAkB,EACtB,EAAG,GAAG,IAENJ,EAAS,UAAU,OAAO,MAAM,EAC5BE,GAAeA,EAAc,EACjC,WAAW,IAAM,CACbO,EAAQ,EACRL,EAAkB,EACtB,EAAG,GAAG,GAEd,CAEA,SAASK,GAAU,CACXT,GAAYA,EAAS,YACrBA,EAAS,WAAW,YAAYA,CAAQ,EAE5CA,EAAW,IACf,CAEA,SAASU,EAAWC,EAAS,CAEzB,GADAV,EAAiBU,EACbX,EAAU,CACV,IAAMY,EAAaZ,EAAS,cAAc,iBAAiB,EACvDY,IAAYA,EAAW,UAAYD,EAC3C,CACJ,CAEA,SAASE,GAAS,CACd,OAAOb,GAAYA,EAAS,UAAU,SAAS,MAAM,CACzD,CAEA,MAAO,CACH,KAAAK,EACA,MAAAE,EACA,WAAAG,EACA,OAAAG,EACA,GAAId,EAAQ,EAChB,CACJ,CCxFO,SAASe,IAAa,CACzB,MAAO,EACX,CAMO,SAASC,IAAe,CAC3B,OAAO,aAAa,QAAQ,mBAAmB,GAAK,uBACxD,CAMO,SAASC,GAAMC,EAAO,CACzB,aAAa,QAAQ,oBAAqBA,EAAM,KAAK,CAAC,CAC1D,CCtBA,IAAMC,GAAY,eAELC,EAAS,CAClB,KAAM,OACN,QAAS,UACT,SAAU,UACd,EAMO,SAASC,IAAkB,CAC9B,OAAO,aAAa,QAAQF,EAAS,GAAKC,EAAO,IACrD,CAMA,SAASE,IAAmB,CACxB,IAAMC,EAAQ,OAAO,WACfC,EAAS,OAAO,YAChBC,EAAe,OAAO,cAAgB,OAAO,OAAO,QAAU,OAAO,aAAe,OAAO,OAAO,MAGxG,OAAIF,EAAQ,MAAQC,EAAS,KAClBJ,EAAO,UAIbG,IAAU,MAAQC,IAAW,MAAQC,GAAiBF,GAAS,MAAQC,GAAU,KAC3EJ,EAAO,QAItB,CAMO,SAASM,GAASC,EAAO,CAC5B,GAAI,CAAC,OAAO,OAAOP,CAAM,EAAE,SAASO,CAAK,EACrC,MAAM,IAAI,MAAM,eAAe,EAEnC,aAAa,QAAQR,GAAWQ,CAAK,EACrCC,GAAWD,CAAK,CACpB,CAOO,SAASC,GAAWD,EAAOE,EAAiB,GAAO,CACtD,IAAMC,EAAO,SAAS,KAGhBC,EAAgBJ,IAAUP,EAAO,KAAOE,GAAiB,EAAIK,EAqBnE,GAnBKE,IAEDC,EAAK,UAAU,IAAI,qBAAqB,EAGxC,WAAW,IAAM,CACbA,EAAK,UAAU,OAAO,qBAAqB,CAC/C,EAAG,GAAG,GAIV,OAAO,OAAOV,CAAM,EAAE,QAAQY,GAAK,CAC/BF,EAAK,UAAU,OAAO,SAASE,CAAC,EAAE,CACtC,CAAC,EAGDF,EAAK,UAAU,IAAI,SAASH,CAAK,EAAE,EAG/BI,IAAkBX,EAAO,UAEzB,GAAI,CAAC,SAAS,cAAc,aAAa,EAAG,CACxC,IAAMa,EAAK,SAAS,cAAc,KAAK,EACvCA,EAAG,UAAY,aACf,SAAS,KAAK,QAAQA,CAAE,CAC5B,MACG,CAEH,IAAMA,EAAK,SAAS,cAAc,aAAa,EAC3CA,IACIJ,EACAI,EAAG,OAAO,GAEVA,EAAG,MAAM,UAAY,uCACrB,WAAW,IAAM,CACbA,EAAG,OAAO,CACd,EAAG,GAAG,GAGlB,CACJ,CAKO,SAASC,IAAY,CACxB,IAAMC,EAAed,GAAgB,EAIrC,GAHAO,GAAWO,EAAc,EAAI,EAGzBA,IAAiBf,EAAO,KAAM,CAC9B,IAAIgB,EACJ,OAAO,iBAAiB,SAAU,IAAM,CACpC,aAAaA,CAAa,EAC1BA,EAAgB,WAAW,IAAM,CAC7BR,GAAWR,EAAO,IAAI,CAC1B,EAAG,GAAG,CACV,CAAC,CACL,CACJ,CCrHO,SAASiB,GAAkB,CAC9B,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUX,CAEO,SAASC,EAAyBC,EAAMC,EAASC,EAAa,KAAM,CAEvE,IAAMC,EADU,CAAE,OAAQ,SAAU,MAAO,kBAAmB,MAAO,iBAAkB,QAAS,aAAc,EACzFH,CAAI,GAAK,iBACxBI,EAAaF,EAAa,iCAAiCA,CAAU,OAAS,GACpF,MAAO,6CAA6CC,CAAI,yDAAyDF,CAAO,OAAOG,CAAU,QAC7I,CAEO,SAASC,EAAWC,EAAM,CAC7B,OAAKA,GACEA,EACF,QAAQ,KAAM,OAAO,EACrB,QAAQ,KAAM,MAAM,EACpB,QAAQ,KAAM,MAAM,EACpB,QAAQ,KAAM,QAAQ,EACtB,QAAQ,KAAM,QAAQ,CAC/B,CAOO,SAASC,GAAaC,EAAOC,EAAM,CACtC,IAAMC,EAAM,SAAS,eAAeF,CAAK,EACrCE,IACAA,EAAI,MAAM,QAAUD,EAAO,QAAU,OAE7C,CAEO,SAASE,IAAgC,CAC5C,IAAMC,EAAoB,SAAS,eAAe,oBAAoB,EACtE,GAAI,CAACA,EAAmB,OAExB,IAAMC,EAAcD,EAAkB,iBAAiB,sBAAsB,EAAE,OAC/EL,GAAa,YAAaM,EAAc,CAAC,CAC7C,CAKO,SAASC,IAAqB,CACjC,MAAO,8BACX,CAEO,IAAMC,GAAsB,wBAK5B,SAASC,IAAuB,CACnC,MAAO,gCACX,CAEO,IAAMC,GAAwB,wBAE/BC,GAAW,CACb,GAAM,WACN,GAAM,kBACN,GAAM,aACN,GAAM,cACN,GAAM,YACN,GAAM,cACN,GAAM,YACN,GAAM,aACN,GAAM,gBACV,EAKO,SAASC,GAAWb,EAAM,CAC7B,IAAIc,EAAUf,EAAWC,CAAI,EAG7Bc,EAAUA,EAAQ,QAAQ,YAAa,SAAS,EAGhDA,EAAUA,EAAQ,QAAQ,gBAAiB,CAACC,EAAOC,IAAS,CACxD,IAAMC,EAAYL,GAASI,CAAI,EAC/B,OAAOC,EAAY,gBAAgBA,CAAS,KAAO,EACvD,CAAC,EAGD,IAAMC,GAAaJ,EAAQ,MAAM,QAAQ,GAAK,CAAC,GAAG,OAC5CK,GAAcL,EAAQ,MAAM,UAAU,GAAK,CAAC,GAAG,OACrD,OAAII,EAAYC,IACZL,GAAW,UAAU,OAAOI,EAAYC,CAAU,GAG/CL,CACX,CAEA,IAAIM,EAAkB,KAClBC,EAAyB,KACzBC,GAAgB,GAChBC,GAAuB,GAM3B,eAAsBC,EAAWC,EAAUC,EAAU,CAAC,EAAG,CACrD,GAAIN,EACA,GAAI,CACA,IAAMO,EAAW,MAAM,MAAMP,EAAkBK,EAAUC,CAAO,EAChE,GAAIC,EAAS,GAAI,OAAOA,EACxBP,EAAkB,IACtB,MAAY,CACRA,EAAkB,IACtB,CAGJ,IAAMQ,EAAUpB,GAAmB,EAC7BqB,EAAWpB,GAEjB,GAAI,CACA,IAAMkB,EAAW,MAAM,MAAMC,EAAUH,EAAUC,CAAO,EACxD,GAAIC,EAAS,GACT,OAAAP,EAAkBQ,EACdN,KACA,QAAQ,IAAI,2CAAsC,EAClDA,GAAgB,IAEbK,EAEX,MAAM,IAAI,MAAM,gBAAgB,CACpC,MAAY,CACHL,KACD,QAAQ,KAAK,oEAA6DO,CAAQ,EAAE,EACpFP,GAAgB,IAGpB,GAAI,CACA,IAAMK,EAAW,MAAM,MAAME,EAAWJ,EAAUC,CAAO,EACzD,GAAIC,EAAS,GACT,OAAAP,EAAkBS,EACXF,EAEX,MAAM,IAAI,MAAM,iBAAiB,CACrC,OAASG,EAAI,CACT,MAAMA,CACV,CACJ,CACJ,CAKA,eAAsBC,GAAkBN,EAAUC,EAAU,CAAC,EAAG,CAC5D,GAAIL,EACA,GAAI,CACA,IAAMM,EAAW,MAAM,MAAMN,EAAyBI,EAAUC,CAAO,EACvE,GAAIC,EAAS,GAAI,OAAOA,EACxBN,EAAyB,IAC7B,MAAY,CACRA,EAAyB,IAC7B,CAGJ,IAAMO,EAAUlB,GAAqB,EAC/BmB,EAAWlB,GAEjB,GAAI,CACA,IAAMgB,EAAW,MAAM,MAAMC,EAAUH,EAAUC,CAAO,EACxD,GAAIC,EAAS,GACT,OAAAN,EAAyBO,EACrBL,KACA,QAAQ,IAAI,6CAAwC,EACpDA,GAAuB,IAEpBI,EAEX,MAAM,IAAI,MAAM,gBAAgB,CACpC,MAAY,CACHJ,KACD,QAAQ,KAAK,4EAAqEM,CAAQ,EAAE,EAC5FN,GAAuB,IAG3B,GAAI,CACA,IAAMI,EAAW,MAAM,MAAME,EAAWJ,EAAUC,CAAO,EACzD,GAAIC,EAAS,GACT,OAAAN,EAAyBQ,EAClBF,EAEX,MAAM,IAAI,MAAM,iBAAiB,CACrC,OAASG,EAAI,CACT,MAAMA,CACV,CACJ,CACJ,CC7MO,IAAME,GAA0B,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAQnCC,EAAgB,CAAC;AAAA;AAAA,EAKhBC,GAA0B,KAGjCC,EAAoB,IAAI,IACxBC,GAA+B,CAAC,EAEpC,eAAsBC,EAAuBC,EAAgB,GAAO,CAClE,IAAMC,EAAyB,SAAS,eAAe,oBAAoB,EAC3E,GAAI,CAACA,EAAwB,OAG7BC,GAAsB,EAElBF,IACFC,EAAuB,UAAY,sBAIrC,IAAME,EAAM,uEAEZ,GAAI,CACF,IAAMC,EAAW,MAAMC,EAAWF,CAAG,EACrC,GAAI,CAACC,EAAS,GAAI,MAAM,IAAI,MAAM,oCAAoC,EAGtE,IAAME,GADO,MAAMF,EAAS,KAAK,GACH,QAAU,CAAC,EAEzCR,GAA0B,KAAK,IAAI,EAKnC,IAAMW,EAAM,KAAK,IAAI,EACfC,EAAuB,GAAK,GAAK,GAAK,IAEtCC,EAAwBH,EAAiB,OAAOI,GAAS,CAC7D,IAAMC,EAAY,aAAa,QAAQ,wBAAwBD,EAAM,EAAE,EAAE,EACzE,GAAI,CAACC,EAAW,MAAO,GAEvB,IAAMC,EAAS,SAASD,CAAS,EACjC,OAAQJ,EAAMK,EAAUJ,CAC1B,CAAC,EAGDC,EAAsB,KAAK,CAACI,EAAGC,IAAM,CACnC,IAAMC,EAAeC,GAAQ,CAC3B,IAAIC,EAAOD,EAAI,MACf,GAAI,OAAOC,GAAS,SAClB,GAAI,CAAEA,EAAO,KAAK,MAAMA,CAAI,CAAG,MAAY,CAAE,MAAO,KAAO,CAE7D,OAAQA,EAAK,UAAY,OAAO,YAAY,CAC9C,EAEMC,EAASC,GACTA,IAAM,WAAmB,EACzBA,IAAM,OAAe,EACrBA,IAAM,SAAiB,EACpB,EAGHC,EAASF,EAAMH,EAAYF,CAAC,CAAC,EAC7BQ,EAASH,EAAMH,EAAYD,CAAC,CAAC,EAEnC,OAAIM,IAAWC,EACNA,EAASD,EAEXN,EAAE,UAAYD,EAAE,SACzB,CAAC,EAEDf,GAA+BW,EAE/B,IAAMM,EAAeC,GAAQ,CAC3B,IAAIC,EAAOD,EAAI,MACf,GAAI,OAAOC,GAAS,SAClB,GAAI,CAAEA,EAAO,KAAK,MAAMA,CAAI,CAAG,MAAY,CAAE,MAAO,KAAO,CAE7D,OAAQA,EAAK,UAAY,OAAO,YAAY,CAC9C,EAGMK,EAAc,CAAC,EAEfC,EADmB,IAAI,IAAId,EAAsB,IAAIe,GAAKT,EAAYS,CAAC,CAAC,CAAC,EACzC,KAAO,EAE7C,GAAIf,EAAsB,OAAS,EAAG,CACpC,IAAIgB,EAAe,KACnBhB,EAAsB,QAAQe,GAAK,CACjC,IAAML,EAAIJ,EAAYS,CAAC,EACnBD,GAAgBJ,IAAMM,IACxBH,EAAY,KAAK,CAAE,GAAI,WAAWH,CAAC,GAAI,KAAM,UAAW,MAAOA,EAAE,YAAY,CAAE,CAAC,EAChFM,EAAeN,GAEjBG,EAAY,KAAKE,CAAC,CACpB,CAAC,CACH,CAMA,GAJIxB,IACFC,EAAuB,UAAY,IAGjCQ,EAAsB,SAAW,EAAG,CACtCR,EAAuB,UAAYyB,EAAyB,QAAS,uBAAuB,EAC5FC,GAA8B,EAC9B,MACF,CAEA,IAAMC,EAA6BC,GAAsB,CACvD,IAAIC,EAAmBD,EAAkB,MACzC,GAAI,OAAOC,GAAqB,SAC9B,GAAI,CACFA,EAAmB,KAAK,MAAMA,CAAgB,CAChD,MAAY,CAAE,OAAO,IAAM,CAG7B,IAAMC,EAAQD,EAAiB,OAAS,wBAClCE,EAAOF,EAAiB,MAAQ,2BAChCG,EAAWH,EAAiB,UAAY,MACxCI,EAAU,CAAC,CAACJ,EAAiB,MAC7BK,EAAWL,EAAiB,UAAY,SACxCM,EAAkBN,EAAiB,mBAAqB,CAAC,EAGzDO,EAAS,CAAC,CADD,aAAa,QAAQ,wBAAwBR,EAAkB,EAAE,EAAE,EAG5ES,EAAU,IAAI,KAAKT,EAAkB,UAAY,GAAI,EACrDU,EAAUD,EAAQ,mBAAmB,UAAU,SAAU,CAAE,KAAM,UAAW,OAAQ,UAAW,OAAQ,SAAU,CAAC,EAClHE,EAAUF,EAAQ,mBAAmB,UAAU,SAAU,CAAE,MAAO,QAAS,IAAK,SAAU,CAAC,EAG7FG,EAAcJ,EAAS,oBAAsB,oBAE7C,CAACA,GAAUH,IAASO,EAAc,oBAElCJ,IAAWJ,IAAa,QAAUA,IAAa,YACjDQ,EAAc,mBACLJ,GAAUJ,IAAa,WAChCQ,EAAc,uBAGhB,IAAMC,GAAYL,EAAS,oBAAsB,sBAC3CM,GAAa9C,EAAkB,IAAIgC,EAAkB,EAAE,EACvDe,GAAgBD,GAAa,WAAa,GAC1CE,GAAeF,GAAa,kBAAoB,iBAElDG,GAAiB,GAEjBC,GAAoB,GACpBX,EAAgB,OAAS,IAC3BW,GAAoB;AAAA;AAAA;AAAA,qDAGyBX,EAAgB,IAAIY,GAAM,gFAAgFA,EAAG,UAAU,EAAG,CAAC,CAAC,YAAY,EAAE,KAAK,IAAI,CAAC;AAAA,6BAGnMF,GAAiB;AAAA;AAAA;AAAA,+DAGwCb,IAAa,QAAUA,IAAa,WAAa,UAAYA,IAAa,SAAW,UAAY,MAAM,KAAKA,EAAS,YAAY,CAAC;AAAA;AAAA;AAAA;AAAA,8GAInFgB,EAAWjB,CAAI,CAAC;AAAA;AAAA,kBAE5Ge,EAAiB;AAAA,cAI7B,IAAMG,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAY,gCAAgCT,CAAW,IAAIC,EAAS,IAAIE,EAAa,kBAC7FM,EAAQ,QAAQ,eAAiBrB,EAAkB,GAEnDqB,EAAQ,QAAU,SAAUC,EAAG,CAE7B,GAD4B,KAAK,UAAU,SAAS,UAAU,EACrC,CACvB,KAAK,UAAU,OAAO,UAAU,EAChCtD,EAAkB,OAAOgC,EAAkB,EAAE,EAC7C,IAAMuB,EAAU,KAAK,cAAc,gBAAgB,EAC/CA,IAASA,EAAQ,MAAM,QAAU,OACvC,KAAO,CACL,KAAK,UAAU,IAAI,UAAU,EAC7BvD,EAAkB,IAAIgC,EAAkB,EAAE,EAC1C,IAAMuB,EAAU,KAAK,cAAc,gBAAgB,EAGnD,GAFIA,IAASA,EAAQ,MAAM,QAAU,SAEjC,CAAC,aAAa,QAAQ,wBAAwBvB,EAAkB,EAAE,EAAE,EAAG,CACzE,aAAa,QAAQ,wBAAwBA,EAAkB,EAAE,GAAI,KAAK,IAAI,EAAE,SAAS,CAAC,EAC1F,KAAK,UAAU,IAAI,mBAAmB,EACtC,KAAK,UAAU,OAAO,qBAAqB,EAE3C,KAAK,UAAU,OAAO,oBAAqB,mBAAoB,qBAAqB,EACpF,IAAIwB,GAAY,oBACZpB,IAAa,QAAUA,IAAa,WAAYoB,GAAY,mBACvDpB,IAAa,WAAUoB,GAAY,uBAC5C,KAAK,UAAU,IAAIA,EAAS,EAE5B1B,GAA8B,CAChC,CACF,CACF,EAEAuB,EAAQ,UAAY;AAAA;AAAA,oDAE0BX,CAAO;AAAA,+CACZC,CAAO;AAAA;AAAA;AAAA,iDAGLL,EAAS,YAAY,CAAC,IAAID,EAAU,uGAAyG,EAAE;AAAA,iDAC/IH,CAAK;AAAA,wDACEc,EAAY;AAAA;AAAA,kCAElCX,EAAU,QAAU,cAAc;AAAA;AAAA;AAAA,0BAG1CY,EAAc;AAAA;AAAA;AAAA,cAKlC,IAAMQ,GAAWJ,EAAQ,cAAc,oBAAoB,EAC3D,OAAII,IACFA,GAAS,iBAAiB,QAAUH,GAAM,CACxCA,EAAE,gBAAgB,EAClBD,EAAQ,UAAU,OAAO,UAAU,EACnC,IAAME,GAAUF,EAAQ,cAAc,gBAAgB,EAClDE,KAASA,GAAQ,MAAM,QAAU,QACrCvD,EAAkB,OAAOgC,EAAkB,EAAE,CAC/C,CAAC,EAGIqB,CACT,EAEMK,EAAwBC,GAAS,CACrC,IAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAY,uBAChBA,EAAI,QAAQ,eAAiBD,EAAK,GAElC,IAAIE,EAAQ,UACZ,OAAIF,EAAK,QAAU,WAAYE,EAAQ,UAC9BF,EAAK,QAAU,OAAQE,EAAQ,UAC/BF,EAAK,QAAU,WAAUE,EAAQ,WAE1CD,EAAI,MAAM,QAAU,yDAAyDC,CAAK,+HAClFD,EAAI,UAAY,sCAAsCD,EAAK,KAAK,kFAAkFE,CAAK,0CAChJD,CACT,EAGME,EAAkB,MAAM,KAAK1D,EAAuB,QAAQ,EAC5D2D,EAAa,IAAI,IAAID,EAAgB,IAAIE,GAAM,CAACA,EAAG,QAAQ,eAAgBA,CAAE,CAAC,CAAC,EAC/EC,EAAS,IAAI,IAAIxC,EAAY,IAAI6B,GAAKA,EAAE,EAAE,CAAC,EAGjDQ,EAAgB,QAAQI,GAAS,CAC/B,IAAMf,EAAKe,EAAM,QAAQ,gBACrB,CAACf,GAAM,CAACc,EAAO,IAAId,CAAE,IACvBe,EAAM,OAAO,CAEjB,CAAC,EAED,IAAIC,EAAkB,KAEtB1C,EAAY,QAAQ,CAACkC,EAAMS,IAAU,CACnC,IAAIJ,EAAKD,EAAW,IAAIJ,EAAK,EAAE,GAC3B,CAACK,GAAM7D,KACL6D,GAAIA,EAAG,OAAO,EACdL,EAAK,OAAS,UAChBK,EAAKN,EAAqBC,CAAI,EAE9BK,EAAKjC,EAA0B4B,CAAI,EAEjC,CAACK,KAEHI,IAAU,EACRhE,EAAuB,oBAAsB4D,GAC/C5D,EAAuB,QAAQ4D,CAAE,EAG/BG,GAAmBA,EAAgB,qBAAuBH,GAC5DG,EAAgB,MAAMH,CAAE,EAG5BG,EAAkBH,EACpB,CAAC,EAEDjE,GAA0B,KAAK,IAAI,EACnC+B,GAA8B,CAEhC,OAASuC,EAAO,CACd,QAAQ,MAAM,gCAAiCA,CAAK,EAChDjE,EAAuB,SAAS,SAAW,IAC7CA,EAAuB,UAAYyB,EAAyB,UAAW,gCAAiC,kDAAkD,EAE9J,CACF,CAEA,SAASxB,IAAwB,CAC/B,IAAMiE,EAAa,SAAS,eAAe,gBAAgB,EACrDC,EAAe,SAAS,eAAe,kBAAkB,EACzDC,EAAc,SAAS,eAAe,iBAAiB,EACvDC,EAAW,SAAS,eAAe,aAAa,EAElDH,GAAc,CAACA,EAAW,QAAQ,mBACpCA,EAAW,QAAU,IAAM,CACzBrE,GAA6B,QAAQyE,GAAS,CACvC,aAAa,QAAQ,wBAAwBA,EAAM,EAAE,EAAE,GAC1D,aAAa,QAAQ,wBAAwBA,EAAM,EAAE,GAAI,KAAK,IAAI,EAAE,SAAS,CAAC,CAElF,CAAC,EACDxE,EAAuB,EAAI,CAC7B,EACAoE,EAAW,QAAQ,iBAAmB,QAGpCC,GAAgB,CAACA,EAAa,QAAQ,mBACxCA,EAAa,QAAU,IAAM,CAC3BtE,GAA6B,QAAQyE,GAAS,CAC5C1E,EAAkB,IAAI0E,EAAM,EAAE,EACzB,aAAa,QAAQ,wBAAwBA,EAAM,EAAE,EAAE,GAC1D,aAAa,QAAQ,wBAAwBA,EAAM,EAAE,GAAI,KAAK,IAAI,EAAE,SAAS,CAAC,CAElF,CAAC,EACDxE,EAAuB,EAAI,CAC7B,EACAqE,EAAa,QAAQ,iBAAmB,QAGtCC,GAAe,CAACA,EAAY,QAAQ,mBACtCA,EAAY,QAAU,IAAM,CAC1BxE,EAAkB,MAAM,EACxBE,EAAuB,EAAI,CAC7B,EACAsE,EAAY,QAAQ,iBAAmB,QAGrCC,GAAY,CAACA,EAAS,QAAQ,mBAChCA,EAAS,QAAU,IAAM,CACvB,IAAME,EAAU,KAAK,IAAI,EAAK,OAC9B1E,GAA6B,QAAQyE,GAAS,CAC5C,aAAa,QAAQ,wBAAwBA,EAAM,EAAE,GAAIC,EAAQ,SAAS,CAAC,CAC7E,CAAC,EACD3E,EAAkB,MAAM,EACxBE,EAAuB,EAAI,CAC7B,EACAuE,EAAS,QAAQ,iBAAmB,OAExC,CCvWO,IAAMG,GAAoB,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAcjCC,EAAgB,CAAC;AAAA;AAAA,EAInBC,EAAoB,IAAI,IACxBC,GAAe,CAAC,EAChBC,EAAgB,KAEpB,eAAsBC,EAAiBC,EAAgB,GAAO,CAC5D,IAAMC,EAAmB,SAAS,eAAe,cAAc,EAC/D,GAAKA,EAEL,CAAAC,GAAuB,EAEvB,GAAI,CACF,IAAMC,EAAW,MAAMC,EAAW,UAAU,EAC5C,GAAI,CAACD,EAAS,GAAI,MAAM,IAAI,MAAM,SAAS,EAE3C,IAAME,EAAQ,MAAMF,EAAS,KAAK,EAGlC,GAFAN,GAAeQ,EAEXA,EAAM,SAAW,EAAG,CACtBJ,EAAiB,UAAYK,EAAyB,QAAS,yBAA0B,qDAAsD,EAC/I,MACF,CAEIN,IAAeC,EAAiB,UAAY,IAEhD,IAAMM,EAAqBC,GAAS,CAClC,IAAMC,EAAab,EAAkB,IAAIY,EAAK,EAAE,EAC1CE,EAAUF,EAAK,QAAU,QACzBG,EAAcH,EAAK,QAAU,YAC7BI,EAAaJ,EAAK,QAAU,WAE9BK,EAAc,oBACdF,IAAaE,EAAc,qBAC3BD,IAAYC,EAAc,uBAG9B,IAAMC,EADU,IAAI,KAAKN,EAAK,WAAa,GAAI,EACvB,mBAAmB,UAAU,SAAU,CAAE,MAAO,QAAS,IAAK,UAAW,KAAM,UAAW,OAAQ,SAAU,CAAC,EAE/HO,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAY,gCAAgCF,CAAW,mBAAmBJ,EAAa,WAAa,EAAE,GAC9GM,EAAQ,QAAQ,OAASP,EAAK,GAE9BO,EAAQ,QAAWC,GAAM,CACvB,GAAIA,EAAE,OAAO,QAAQ,QAAQ,EAAG,OACZD,EAAQ,UAAU,SAAS,UAAU,GAEvDA,EAAQ,UAAU,OAAO,UAAU,EACnCA,EAAQ,cAAc,gBAAgB,EAAE,MAAM,QAAU,OACxDnB,EAAkB,OAAOY,EAAK,EAAE,IAEhCO,EAAQ,UAAU,IAAI,UAAU,EAChCA,EAAQ,cAAc,gBAAgB,EAAE,MAAM,QAAU,QACxDnB,EAAkB,IAAIY,EAAK,EAAE,EAEjC,EAEA,IAAIS,EAAc,qEAAqET,EAAK,MAAM,YAAY,CAAC,WAE/G,OAAAO,EAAQ,UAAY;AAAA;AAAA,0CAEgBD,EAAQ,MAAM,GAAG,EAAE,CAAC,CAAC;AAAA,qCAC1BA,EAAQ,MAAM,GAAG,EAAE,CAAC,CAAC;AAAA;AAAA;AAAA,+CAGXG,CAAW;AAAA,sEACYC,EAAWV,EAAK,OAAO,CAAC;AAAA,8CAChDC,EAAa,kBAAoB,gBAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAM/EG,EAAa,GAAK,oFAAoF;AAAA;AAAA,+BAEvFD,EAAc,WAAa,WAAW,UAAUA,EAAc,aAAe,SAAS;AAAA;AAAA;AAAA;AAAA,cAIvGC,EAAa,8EAA8E,IAAI,KAAKJ,EAAK,YAAc,GAAI,EAAE,eAAe,CAAC,SAAW,EAAE;AAAA;AAAA;AAAA,QAMlKO,EAAQ,cAAc,WAAW,GAAG,iBAAiB,QAAS,IAAMI,GAAaX,CAAI,CAAC,EACtFO,EAAQ,cAAc,qBAAqB,GAAG,iBAAiB,QAAS,IAAMK,GAAcZ,CAAI,CAAC,EACjGO,EAAQ,cAAc,aAAa,GAAG,iBAAiB,QAAS,IAAMM,GAAWb,EAAK,EAAE,CAAC,EACzFO,EAAQ,cAAc,oBAAoB,GAAG,iBAAiB,QAAUC,GAAM,CAC5EA,EAAE,gBAAgB,EAClBD,EAAQ,UAAU,OAAO,UAAU,EACnCA,EAAQ,cAAc,gBAAgB,EAAE,MAAM,QAAU,OACxDnB,EAAkB,OAAOY,EAAK,EAAE,CAClC,CAAC,EAEMO,CACT,EAEMO,EAAkB,MAAM,KAAKrB,EAAiB,QAAQ,EACtDsB,EAAa,IAAI,IAAID,EAAgB,IAAIE,GAAM,CAACA,EAAG,QAAQ,OAAQA,CAAE,CAAC,CAAC,EACvEC,EAAS,IAAI,IAAIpB,EAAM,IAAIW,GAAKA,EAAE,EAAE,CAAC,EAG3CM,EAAgB,QAAQI,GAAS,CAC/B,IAAMC,EAAKD,EAAM,QAAQ,QACrB,CAACC,GAAM,CAACF,EAAO,IAAIE,CAAE,IACvBD,EAAM,OAAO,CAEjB,CAAC,EAED,IAAIE,EAAkB,KACtBvB,EAAM,QAAQ,CAACG,EAAMqB,IAAU,CAC7B,IAAIL,EAAKD,EAAW,IAAIf,EAAK,EAAE,GAC3B,CAACgB,GAAMxB,KACLwB,GAAIA,EAAG,OAAO,EAClBA,EAAKjB,EAAkBC,CAAI,EACvB,CAACgB,KAEHK,IAAU,EACR5B,EAAiB,oBAAsBuB,GAAIvB,EAAiB,QAAQuB,CAAE,EAEtEI,GAAmBA,EAAgB,qBAAuBJ,GAAII,EAAgB,MAAMJ,CAAE,EAE5FI,EAAkBJ,EACpB,CAAC,CAEH,MAAY,CACVvB,EAAiB,UAAYK,EAAyB,QAAS,yBAAyB,CAC1F,EACF,CAEA,SAASJ,IAAyB,CAChC,IAAM4B,EAAS,SAAS,eAAe,aAAa,EAC9CC,EAAU,SAAS,eAAe,cAAc,EAChDC,EAAY,SAAS,eAAe,gBAAgB,EACpDC,EAAe,SAAS,eAAe,oBAAoB,EAC3DC,EAAc,SAAS,eAAe,mBAAmB,EAE3DJ,GAAU,CAACA,EAAO,QAAQ,mBAC5BA,EAAO,QAAU,IAAM,CACrBhC,EAAgB,KAChB,SAAS,eAAe,sBAAsB,EAAE,MAAQ,GACxD,SAAS,eAAe,0BAA0B,EAAE,MAAM,QAAU,OACtE,EACAgC,EAAO,QAAQ,iBAAmB,QAGhCE,GAAa,CAACA,EAAU,QAAQ,mBAClCA,EAAU,QAAU,IAAM,CACxB,SAAS,eAAe,0BAA0B,EAAE,MAAM,QAAU,OACpElC,EAAgB,IAClB,EACAkC,EAAU,QAAQ,iBAAmB,QAGnCD,GAAW,CAACA,EAAQ,QAAQ,mBAC9BA,EAAQ,QAAU,SAAY,CAC5B,IAAMI,EAAU,SAAS,eAAe,sBAAsB,EAAE,MAChE,GAAI,CAACA,EAAQ,KAAK,EAAG,OAErB,IAAMC,EAAMtC,EACR,YAAYA,CAAa,GACzB,WAEEuC,EAASvC,EAAgB,QAAU,OAEzC,GAAI,CACF,MAAMM,EAAWgC,EAAK,CACpB,OAAAC,EACA,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,UAAU,CAAE,QAAAF,CAAQ,CAAC,CAClC,CAAC,EACD,SAAS,eAAe,0BAA0B,EAAE,MAAM,QAAU,OACpEpC,EAAiB,EAAI,CACvB,OAASiB,EAAG,CAAE,QAAQ,MAAMA,CAAC,CAAG,CAClC,EACAe,EAAQ,QAAQ,iBAAmB,QAGjCE,GAAgB,CAACA,EAAa,QAAQ,mBACxCA,EAAa,QAAU,IAAM,CAC3BpC,GAAa,QAAQW,GAAQZ,EAAkB,IAAIY,EAAK,EAAE,CAAC,EAC3DT,EAAiB,EAAI,CACvB,EACAkC,EAAa,QAAQ,iBAAmB,QAGtCC,GAAe,CAACA,EAAY,QAAQ,mBACtCA,EAAY,QAAU,IAAM,CAC1BtC,EAAkB,MAAM,EACxBG,EAAiB,EAAI,CACvB,EACAmC,EAAY,QAAQ,iBAAmB,OAE3C,CAEA,SAASf,GAAaX,EAAM,CAC1BV,EAAgBU,EAAK,GACrB,SAAS,eAAe,sBAAsB,EAAE,MAAQA,EAAK,QAC7D,SAAS,eAAe,0BAA0B,EAAE,MAAM,QAAU,QACpE,SAAS,eAAe,0BAA0B,EAAE,eAAe,CAAE,SAAU,QAAS,CAAC,CAC3F,CAEA,eAAeY,GAAcZ,EAAM,CACjC,IAAM8B,EAAW9B,EAAK,QAAU,YAAc,QAAU,YAExD,GAAI,CACF,MAAMJ,EAAW,YAAYI,EAAK,EAAE,GAAI,CACtC,OAAQ,QACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,UAAU,CAAE,MAAO8B,CAAS,CAAC,CAC1C,CAAC,EACDvC,EAAiB,EAAI,CACvB,OAASiB,EAAG,CAAE,QAAQ,MAAMA,CAAC,CAAG,CAClC,CAEA,eAAeK,GAAWM,EAAI,CAC5B,GAAK,QAAQ,2BAA2B,EAExC,GAAI,CACF,MAAMvB,EAAW,YAAYuB,CAAE,GAAI,CAAE,OAAQ,QAAS,CAAC,EACvD/B,EAAkB,OAAO+B,CAAE,EAC3B5B,EAAiB,EAAI,CACvB,OAAS,EAAG,CAAE,QAAQ,MAAM,CAAC,CAAG,CAClC,CChPO,IAAMwC,GAAuB,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAMhCC,EAAgB,CAAC;AAAA;AAAA,EAIhBC,GAAuB,KAG9BC,EAAoB,IAAI,IACxBC,GAA4B,CAAC,EAEjC,eAAsBC,GAAoBC,EAAgB,GAAO,CAC7D,IAAMC,EAAsB,SAAS,eAAe,iBAAiB,EACrE,GAAI,CAACA,EAAqB,OAG1BC,GAA+B,EAE/B,IAAMC,EAAM,oEAEZ,GAAI,CACA,IAAMC,EAAW,MAAMC,EAAWF,CAAG,EACrC,GAAI,CAACC,EAAS,GAAI,MAAM,IAAI,MAAM,oCAAoC,EAGtE,IAAME,GADO,MAAMF,EAAS,KAAK,GACN,QAAU,CAAC,EAKtC,GAJAN,GAA4BQ,EAE5BV,GAAuB,KAAK,IAAI,EAE5BU,EAAc,SAAW,EAAG,CAC5BL,EAAoB,UAAYM,EAAyB,QAAS,6CAA8C,mDAAmD,EACnK,MACJ,CAEIP,IACAC,EAAoB,UAAY,IAGpC,IAAMO,EAA0BC,GAAU,CACtC,IAAIC,EAAgBD,EAAM,MAC1B,GAAI,OAAOC,GAAkB,SACzB,GAAI,CACAA,EAAgB,KAAK,MAAMA,CAAa,CAC5C,MAAY,CAAE,OAAO,IAAM,CAG/B,IAAMC,EAAQD,EAAc,OAAS,qBAC/BE,EAAUF,EAAc,SAAWA,EAAc,MAAQ,uBACzDG,EAAUH,EAAc,SAAW,GACnCI,EAAWJ,EAAc,UAAY,eACrCK,EAAmBL,EAAc,mBAAqB,CAAC,EACvDM,EAAqBN,EAAc,qBAAuB,CAAC,EAE3DO,EAAU,IAAI,KAAKR,EAAM,UAAY,GAAI,EACzCS,EAAUD,EAAQ,mBAAmB,UAAU,SAAU,CAAE,KAAM,UAAW,OAAQ,UAAW,OAAQ,SAAU,CAAC,EAClHE,EAAUF,EAAQ,mBAAmB,UAAU,SAAU,CAAE,MAAO,QAAS,IAAK,SAAU,CAAC,EAE3FG,EAAavB,EAAkB,IAAIY,EAAM,EAAE,EAC3CY,EAAeD,EAAa,kBAAoB,iBAEhDE,EAAU,SAAS,cAAc,KAAK,EAE5CA,EAAQ,UAAY,mEAAmEF,EAAa,WAAa,EAAE,GACnHE,EAAQ,QAAQ,YAAcb,EAAM,GAEpCa,EAAQ,QAAU,SAASC,EAAG,CAE1B,GAD4B,KAAK,UAAU,SAAS,UAAU,EACrC,CACrB,KAAK,UAAU,OAAO,UAAU,EAChC1B,EAAkB,OAAOY,EAAM,EAAE,EACjC,IAAMe,EAAU,KAAK,cAAc,gBAAgB,EAC/CA,IAASA,EAAQ,MAAM,QAAU,OACzC,KAAO,CACH,KAAK,UAAU,IAAI,UAAU,EAC7B3B,EAAkB,IAAIY,EAAM,EAAE,EAC9B,IAAMe,EAAU,KAAK,cAAc,gBAAgB,EAC/CA,IAASA,EAAQ,MAAM,QAAU,QACzC,CACJ,EAEA,IAAIC,EAAeV,EAAiB,OAAS,EACvC,8DAA8DA,EAAiB,KAAK,IAAI,CAAC,SACzF,GAEFW,EAAW,GACXV,EAAmB,OAAS,IAC5BU,EAAW;AAAA;AAAA;AAAA;AAAA,8BAIGV,EAAmB,IAAIW,GAAQ,OAAOC,EAAWD,CAAI,CAAC,OAAO,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA;AAAA,mBAMzFL,EAAQ,UAAY;AAAA;AAAA,oDAEoBJ,CAAO;AAAA,+CACZC,CAAO;AAAA;AAAA;AAAA,iDAGLL,EAAS,YAAY,CAAC;AAAA,iDACtBH,CAAK;AAAA,wDACEU,CAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAMtCO,EAAWhB,CAAO,CAAC;AAAA;AAAA,0BAEvBa,CAAY;AAAA;AAAA,+KAEyIG,EAAWf,CAAO,CAAC;AAAA;AAAA,0BAExKa,CAAQ;AAAA;AAAA;AAAA,cAKtB,IAAMG,EAAWP,EAAQ,cAAc,oBAAoB,EAC3D,OAAIO,GACAA,EAAS,iBAAiB,QAAUN,GAAM,CACtCA,EAAE,gBAAgB,EAClBD,EAAQ,UAAU,OAAO,UAAU,EACnC,IAAME,EAAUF,EAAQ,cAAc,gBAAgB,EAClDE,IAASA,EAAQ,MAAM,QAAU,QACrC3B,EAAkB,OAAOY,EAAM,EAAE,CACrC,CAAC,EAGEa,CACX,EAEMQ,EAAkB,MAAM,KAAK7B,EAAoB,QAAQ,EACzD8B,EAAa,IAAI,IAAID,EAAgB,IAAIE,GAAM,CAACA,EAAG,QAAQ,YAAaA,CAAE,CAAC,CAAC,EAC5EC,EAAS,IAAI,IAAI3B,EAAc,IAAIiB,GAAKA,EAAE,EAAE,CAAC,EAEnDO,EAAgB,QAAQI,GAAS,CAC7B,IAAMC,EAAKD,EAAM,QAAQ,aACrB,CAACC,GAAM,CAACF,EAAO,IAAIE,CAAE,IACrBD,EAAM,OAAO,CAErB,CAAC,EAED,IAAIE,EAAkB,KACtB9B,EAAc,QAAQ,CAACG,EAAO4B,IAAU,CACpC,IAAIL,EAAKD,EAAW,IAAItB,EAAM,EAAE,GAC5B,CAACuB,GAAMhC,KACHgC,GAAIA,EAAG,OAAO,EAClBA,EAAKxB,EAAuBC,CAAK,EAC7B,CAACuB,KAELK,IAAU,EACNpC,EAAoB,oBAAsB+B,GAAI/B,EAAoB,QAAQ+B,CAAE,EAE5EI,GAAmBA,EAAgB,qBAAuBJ,GAAII,EAAgB,MAAMJ,CAAE,EAE9FI,EAAkBJ,EACtB,CAAC,CAEL,OAASM,EAAO,CACZ,QAAQ,MAAM,6BAA8BA,CAAK,EAC7CrC,EAAoB,SAAS,SAAW,IACxCA,EAAoB,UAAYM,EAAyB,UAAW,6BAA8B,kDAAkD,EAE5J,CACJ,CAEA,SAASL,IAAiC,CACtC,IAAMqC,EAAe,SAAS,eAAe,uBAAuB,EAC9DC,EAAc,SAAS,eAAe,sBAAsB,EAE9DD,GAAgB,CAACA,EAAa,QAAQ,mBACtCA,EAAa,QAAU,IAAM,CACzBzC,GAA0B,QAAQ2C,GAAK5C,EAAkB,IAAI4C,EAAE,EAAE,CAAC,EAClE1C,GAAoB,EAAI,CAC5B,EACAwC,EAAa,QAAQ,iBAAmB,QAGxCC,GAAe,CAACA,EAAY,QAAQ,mBACpCA,EAAY,QAAU,IAAM,CACxB3C,EAAkB,MAAM,EACxBE,GAAoB,EAAI,CAC5B,EACAyC,EAAY,QAAQ,iBAAmB,OAE/C,CClMO,IAAME,GAAkB,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAOvBC,GAAkB,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAQnBC,GAAqB,CAAC;AAAA;AAAA;AAAA,EAKpC,eAAsBC,IAAiB,CACnC,MAAM,QAAQ,IAAI,CACdC,EAAiB,EACjBC,GAAoB,CACxB,CAAC,CACL,CC1BO,IAAMC,GAAqB,IAAM,0DAA0DC,EAAgB,CAAC,SAExGC,GAAqB,KAEhC,eAAsBC,GAAoB,CACtC,IAAMC,EAAY,SAAS,eAAe,eAAe,EACzD,GAAKA,EAEL,GAAI,CACA,IAAMC,EAAW,MAAMC,GAAkB,WAAW,EACpD,GAAI,CAACD,EAAS,GAAI,MAAM,IAAI,MAAM,qBAAqB,EAGvD,IAAME,GADO,MAAMF,EAAS,KAAK,GACZ,SAAW,CAAC,EAIjC,GAFAH,GAAqB,KAAK,IAAI,EAE1BK,EAAQ,SAAW,EAAG,CACtBH,EAAU,UAAYI,EAAyB,QAAS,qBAAsB,gCAAgC,EAC9G,MACJ,CAGA,IAAMC,EAAa,CACf,GAAM,EACN,cAAe,EACf,MAAS,EACT,UAAa,EACb,YAAe,EACf,KAAQ,EACR,OAAU,CACd,EAEAF,EAAQ,KAAK,CAACG,EAAGC,IAAM,CACnB,IAAMC,EAASH,EAAWC,EAAE,KAAK,GAAK,GAChCG,EAASJ,EAAWE,EAAE,KAAK,GAAK,GACtC,OAAIC,IAAWC,EAAeD,EAASC,EAChCH,EAAE,SAAS,cAAcC,EAAE,QAAQ,CAC9C,CAAC,EAED,IAAMG,EAAOP,EAAQ,IAAIQ,GAAK,CAC1B,IAAMC,EAAWD,EAAE,MAAQ,IAAMA,EAAE,MAAM,SAAS,EAAE,EAAE,SAAS,EAAG,GAAG,EAAI,wBACnEE,EAAcF,EAAE,SAAW,SAAW,UAAYA,EAAE,SAAW,OAAS,UAAYA,EAAE,SAAW,MAAQ,UAAY,OAEvHG,EAAa,OACbH,EAAE,QAAU,MACPA,EAAE,QAAU,cADCG,EAAa,UAE1BH,EAAE,QAAU,QAASG,EAAa,UAClCH,EAAE,QAAU,YAAaG,EAAa,UACtCH,EAAE,QAAU,gBAAeG,EAAa,WAEjD,IAAMC,EAAOJ,EAAE,QAAU,KACnBK,EAASD,EAAO,4BAA8B,yBAC9CE,EAAcF,EAAO,oBAAsB,aAAaH,CAAQ,KAEtE,MAAO;AAAA,uEACoDI,CAAM,gDAAgDC,CAAW;AAAA,iKACyBF,EAAO,UAAYH,CAAQ;AAAA;AAAA,oCAExJD,EAAE,UAAU,qFAAqFI,EAAO,oBAAsB,MAAM;AAAA,sHAClDF,CAAW;AAAA;AAAA;AAAA,mKAGkCF,EAAE,QAAQ;AAAA;AAAA,qEAExGG,CAAU,mDAAmDC,EAAO,cAAgBJ,EAAE,KAAK;AAAA;AAAA,mIAE7BA,EAAE,EAAE;AAAA;AAAA;AAAA,aAI/H,CAAC,EAAE,KAAK,EAAE,EAENX,EAAU,YAAcU,IACxBV,EAAU,UAAYU,EAG9B,MAAY,CACRV,EAAU,UAAYI,EAAyB,UAAW,4BAA6B,qCAAqC,CAChI,CACJ,CCjFO,IAAMc,GAAkB,CAC3B,iBAAoB,wCACpB,iBAAoB,4BACpB,UAAa,sBACb,eAAkB,iBAClB,cAAiB,0CACjB,gBAAmB,+BACnB,8BAA+B,kDAC/B,4BAA6B,gDAC7B,8BAA+B,2CAC/B,6BAA8B,2CAC9B,6BAA8B,6CAC9B,+BAAgC,yBAChC,8BAA+B,+CAC/B,kCAAmC,+BACnC,kCAAmC,+BACnC,6BAA8B,oCAC9B,+BAAgC,mCAChC,4BAA6B,mCAC7B,oBAAqB,8BACrB,uBAA0B,gEAC1B,uBAA0B,gEAC1B,kBAAqB,oCACrB,sBAAuB,6CACvB,aAAgB,4BAChB,sCAAuC,wEACvC,0BAA2B,uBAC3B,4BAA6B,6BAC7B,uBAAwB,0CACxB,wBAAyB,kDACzB,yBAA0B,+CAC1B,wBAAyB,yBACzB,6BAA8B,+BAC9B,qBAAsB,2CACtB,oBAAqB,wBACrB,gCAAiC,qCACjC,yBAA0B,kCAC1B,yBAA0B,uCAC1B,4BAA6B,gCAC7B,8BAA+B,wBACnC,EAEO,SAASC,GAAmBC,EAAMC,EAAM,CAC3C,IAAIC,EAAWJ,GAAgBE,CAAI,EAenC,GAdIA,IAAS,qBAAuB,CAACC,EAAK,WAAaA,EAAK,UACxDC,EAAW,sEAGXF,IAAS,kCAETE,EAAW,iBADMD,EAAK,SAAWA,EAAK,SAAS,OAAO,CAAC,EAAE,YAAY,EAAIA,EAAK,SAAS,MAAM,CAAC,EAAI,KAC9D,MAAMA,EAAK,KAAK,IAGpDD,IAAS,0BAETE,EAAW,mBADED,EAAK,KAAOA,EAAK,KAAK,YAAY,EAAI,SACjB,IAGlCD,IAAS,wBAET,MAAO,SADSC,EAAK,MAAM,SAAW,MAAQA,EAAK,MAAM,SAAW,MAAQA,EAAK,QAAQ,SAAW,KAAQ,SAAW,QACjG,QAAQA,EAAK,YAAY,KAAKA,EAAK,QAAQ,IAErE,GAAI,CAACC,EAAU,OAAOF,EACtB,IAAIG,EAAUD,EAAS,QAAQ,aAAc,CAACE,EAAOC,IAC1CJ,EAAKI,CAAG,IAAM,QAAaJ,EAAKI,CAAG,IAAM,KAAOJ,EAAKI,CAAG,EAAID,CACtE,EACD,OAAKJ,IAAS,8BAAgCA,IAAS,sBACnDC,EAAK,mBAAqBA,EAAK,oBAAsB,MAAQA,EAAK,sBAClEE,GAAW,kBAAkBF,EAAK,mBAAmB,KAElDE,CACX,CCpEO,IAAMG,GAAmB,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAexBC,EAAgB,CAAC;AAAA;AAAA;AAAA,EAKpBC,GAAmB,KAG1BC,EAAoB,IAAI,IACxBC,EAAwB,CAAC,EACzBC,GAAgB,MAEdC,GAAa,CACf,UAAW,CACP,mBAAoB,8BAA+B,6BACnD,6BAA8B,oBAAqB,eACnD,8BAA+B,4BAC/B,6BAA8B,+BAC9B,kCAAmC,kCACnC,2BACJ,EACA,OAAQ,CACJ,qBAAsB,oBAAqB,uBAC3C,kBAAmB,YAAa,iBAAkB,oBAClD,8BAA+B,+BAC/B,wBAAyB,yBACzB,yBAA0B,yBAC1B,4BAA6B,6BACjC,EACA,UAAW,CACP,sBAAuB,wBAAyB,6BAChD,0BAA2B,2BAC/B,EACA,WAAY,CACR,qCACJ,CACJ,EAEMC,GAAc,CAChB,iBAAoB,oBACpB,8BAA+B,0BAC/B,6BAA8B,SAC9B,6BAA8B,gBAC9B,kBAAqB,gBACrB,8BAA+B,oBAC/B,4BAA6B,oBAC7B,4BAA6B,qBAC7B,qBAAsB,cACtB,oBAAqB,iBACrB,wBAAyB,kBACzB,yBAA0B,aAC1B,yBAA0B,aAC1B,yBAA0B,aAC1B,4BAA6B,iBAC7B,8BAA+B,iBAC/B,eAAkB,eAClB,sBAAuB,WACvB,wBAAyB,gBACzB,6BAA8B,WAC9B,0BAA2B,UAC3B,4BAA6B,WAC7B,sCAAuC,cACvC,uBAAwB,aACxB,gBAAmB,eACvB,EAEA,SAASC,GAAiBC,EAAM,CAC5B,OAAW,CAACC,EAAKC,CAAK,IAAK,OAAO,QAAQL,EAAU,EAChD,GAAIK,EAAM,SAASF,CAAI,EAAG,OAAOC,EAErC,MAAO,QACX,CAEA,SAASE,GAAaH,EAAM,CACxB,OAAOF,GAAYE,CAAI,GAAK,mBAChC,CAEA,eAAsBI,EAAqBC,EAAgB,GAAO,CAC9D,IAAMC,EAAkB,SAAS,eAAe,iBAAiB,EACjE,GAAI,CAACA,EAAiB,OAEtBC,GAA2B,EAG3B,IAAMC,EAAM,cADOZ,KAAkB,MAAQ,IAAM,GACf,2DAEpC,GAAI,CACA,IAAMa,EAAW,MAAMC,EAAWF,CAAG,EACrC,GAAI,CAACC,EAAS,GAAI,MAAM,IAAI,MAAM,oCAAoC,EAGtE,IAAME,GADO,MAAMF,EAAS,KAAK,GACV,QAAU,CAAC,EAEbE,EAAU,KAAKC,GAAK,CACrC,IAAIC,EAAYD,EAAE,MAClB,GAAI,OAAOC,GAAc,SACrB,GAAI,CAAEA,EAAY,KAAK,MAAMA,CAAS,CAAG,MAAc,CAAE,MAAO,EAAO,CAE3E,OAAOA,EAAU,OAAS,8BAC9B,CAAC,GAEGC,EAAkB,EAGtB,IAAIC,EAAiBJ,EAcrB,GAbIf,KAAkB,QAClBmB,EAAiBJ,EAAU,OAAOC,GAAK,CACnC,IAAIC,EAAYD,EAAE,MAClB,GAAI,OAAOC,GAAc,SACrB,GAAI,CAAEA,EAAY,KAAK,MAAMA,CAAS,CAAG,MAAc,CAAE,MAAO,EAAO,CAE3E,OAAOd,GAAiBc,EAAU,IAAI,IAAMjB,EAChD,CAAC,GAGLD,EAAwBoB,EAAe,MAAM,EAAG,EAAE,EAClDtB,GAAmB,KAAK,IAAI,EAExBE,EAAsB,SAAW,EAAG,CACpCW,EAAgB,UAAYU,EAAyB,QAAS,kCAAkC,EAChG,MACJ,CAEIX,IACAC,EAAgB,UAAY,IAGhC,IAAMW,EAAsBC,GAAU,CAClC,IAAIL,EAAYK,EAAM,MACtB,GAAI,OAAOL,GAAc,SACrB,GAAI,CAAEA,EAAY,KAAK,MAAMA,CAAS,CAAG,MAAY,CAAE,OAAO,IAAM,CAGxE,IAAMb,EAAOa,EAAU,KACjBM,EAAWpB,GAAiBC,CAAI,EAChCoB,EAAOjB,GAAaH,CAAI,EAExBqB,EAAerB,IAAS,uBAAyBA,IAAS,8BAAgCA,IAAS,+BAAiCA,IAAS,uCAAyCA,IAAS,2BAA6BA,IAAS,6BAA+BA,IAAS,sBAAwBA,IAAS,yBAA2BA,IAAS,yBAA2BA,IAAS,kBAAoBA,IAAS,qBAAuBA,EAAK,WAAW,gBAAgB,GAAKA,EAAK,WAAW,gBAAgB,EACjfsB,EAAc,oBACdD,IACIrB,IAAS,uCAAyCA,IAAS,iBAC3DsB,EAAc,mBACPtB,IAAS,2BAA6BA,IAAS,6BAA+BA,IAAS,wBAC9FsB,EAAc,sBACPtB,IAAS,sBAAwBA,IAAS,oBACjDsB,EAAc,sBACPtB,IAAS,wBAEhBsB,EADgBT,EAAU,MAAM,SAAW,MAAQA,EAAU,MAAM,SAAW,MAAQA,EAAU,QAAQ,SAAW,KAC5F,oBAAsB,mBAE7CS,EAAc,qBAGtB,IAAMC,EAAa7B,EAAkB,IAAIwB,EAAM,EAAE,EAC3CM,EAAU,IAAI,KAAKN,EAAM,UAAY,GAAI,EACzCO,EAAUD,EAAQ,mBAAmB,UAAU,SAAU,CAAE,KAAM,UAAW,OAAQ,UAAW,OAAQ,SAAU,CAAC,EAClHE,EAAUF,EAAQ,mBAAmB,UAAU,SAAU,CAAE,MAAO,QAAS,IAAK,SAAU,CAAC,EAC3FG,EAAUC,GAAmB5B,EAAMa,CAAS,EAC5CgB,EAAYhB,EAAU,WAAa,oEAAoEA,EAAU,UAAU,WAAa,GAE1IiB,EAAc,GAClB,GAAIT,EAAc,CACd,IAAIU,EAAiB,GACjB/B,IAAS,sBAAuB+B,EAAiB,oGAAoGlB,EAAU,kBAAoB,KAAK,qHAAqHA,EAAU,gBAAkB,MAAM,eAC1Ub,IAAS,6BAA8B+B,EAAiB,oGAAoGlB,EAAU,gBAAkB,KAAK,qHAAqHA,EAAU,cAAgB,MAAM,eAClVb,IAAS,sCAAuC+B,EAAiB,qGAAqGlB,EAAU,QAAU,KAAK,gBAC/Lb,IAAS,0BAA2B+B,EAAiB,2GAA2GlB,EAAU,GAAG,qBAAqBA,EAAU,GAAG,oBAC/Mb,IAAS,qBAAsB+B,EAAiB,0GAA0GlB,EAAU,OAAO,iHAAiHmB,EAAWnB,EAAU,MAAM,GAAK,YAAY,eACxUb,IAAS,0BAAyB+B,EAAiB,sGAAsGlB,EAAU,YAAY,gHAAgHA,EAAU,MAAM,QAAU,KAAK,KAAKA,EAAU,MAAM,SAAW,IAAI,gBAE3WiB,EAAc,qCAAqCP,EAAa,kBAAoB,gBAAgB,sGAAsGQ,CAAc,QAC5N,CAEA,IAAME,EAAU,SAAS,cAAc,KAAK,EAc5C,GAbAA,EAAQ,UAAY,cAAcX,CAAW,IAAID,EAAe,iBAAmB,EAAE,IAAIE,EAAa,WAAa,EAAE,GACrHU,EAAQ,QAAQ,QAAUf,EAAM,GAChCe,EAAQ,QAAU,SAAUrB,EAAG,CAC3B,GAAI,CAACS,EAAc,OACnB,IAAMa,EAAY,CAAC,KAAK,UAAU,SAAS,UAAU,EACrD,KAAK,UAAU,OAAO,WAAYA,CAAS,EACvCA,EAAWxC,EAAkB,IAAIwB,EAAM,EAAE,EAAQxB,EAAkB,OAAOwB,EAAM,EAAE,EACtF,IAAMiB,EAAU,KAAK,cAAc,gBAAgB,EAC/CA,IAASA,EAAQ,MAAM,QAAUD,EAAY,QAAU,OAC/D,EAEAD,EAAQ,UAAY,yDAAyDR,CAAO,mCAAmCC,CAAO,qDAAqDN,CAAI,yGAAyGD,CAAQ,KAAKA,CAAQ,WAAWD,EAAM,OAAO,IAAIW,CAAS,oCAAoCF,CAAO,SAASG,CAAW,SAErZT,EAAc,CACd,IAAMe,EAAWH,EAAQ,cAAc,oBAAoB,EACvDG,IAAUA,EAAS,QAAWxB,GAAM,CAAEA,EAAE,gBAAgB,EAAGqB,EAAQ,MAAM,CAAG,EACpF,CACA,OAAOA,CACX,EAEMI,EAAkB,MAAM,KAAK/B,EAAgB,QAAQ,EACrDgC,EAAa,IAAI,IAAID,EAAgB,IAAIE,GAAM,CAACA,EAAG,QAAQ,QAASA,CAAE,CAAC,CAAC,EACxEC,EAAS,IAAI,IAAI7C,EAAsB,IAAIiB,GAAKA,EAAE,EAAE,CAAC,EAE3DyB,EAAgB,QAAQI,GAAS,CAAMA,EAAM,QAAQ,SAAW,CAACD,EAAO,IAAIC,EAAM,QAAQ,OAAO,GAAGA,EAAM,OAAO,CAAG,CAAC,EAErH,IAAIC,EAAkB,KACtB/C,EAAsB,QAAQ,CAACuB,EAAOyB,IAAU,CAC5C,IAAIJ,EAAKD,EAAW,IAAIpB,EAAM,EAAE,GAC5B,CAACqB,GAAMlC,KAAqBkC,GAAIA,EAAG,OAAO,EAAGA,EAAKtB,EAAmBC,CAAK,EAAO,CAACqB,KAClFI,IAAU,EAASrC,EAAgB,oBAAsBiC,GAAIjC,EAAgB,QAAQiC,CAAE,EAChFG,GAAmBA,EAAgB,qBAAuBH,GAAIG,EAAgB,MAAMH,CAAE,EACjGG,EAAkBH,EACtB,CAAC,CAEL,OAASK,EAAO,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,EACzCtC,EAAgB,SAAS,SAAW,IACpCA,EAAgB,UAAYU,EAAyB,UAAW,wBAAwB,EAEhG,CACJ,CAEA,SAAST,IAA6B,CAClC,IAAMsC,EAAe,SAAS,eAAe,mBAAmB,EAC1DC,EAAc,SAAS,eAAe,kBAAkB,EACxDC,EAAkB,SAAS,eAAe,eAAe,EAE3DF,GAAgB,CAACA,EAAa,QAAQ,mBACtCA,EAAa,QAAU,IAAM,CAAElD,EAAsB,QAAQiB,GAAKlB,EAAkB,IAAIkB,EAAE,EAAE,CAAC,EAAGR,EAAqB,EAAI,CAAG,EAC5HyC,EAAa,QAAQ,iBAAmB,QAExCC,GAAe,CAACA,EAAY,QAAQ,mBACpCA,EAAY,QAAU,IAAM,CAAEpD,EAAkB,MAAM,EAAGU,EAAqB,EAAI,CAAG,EACrF0C,EAAY,QAAQ,iBAAmB,QAEvCC,GAAmB,CAACA,EAAgB,QAAQ,mBAC5CA,EAAgB,iBAAiB,aAAa,EAAE,QAAQC,GAAO,CAC3DA,EAAI,QAAU,IAAM,CAChBD,EAAgB,iBAAiB,aAAa,EAAE,QAAQE,GAAKA,EAAE,UAAU,OAAO,QAAQ,CAAC,EACzFD,EAAI,UAAU,IAAI,QAAQ,EAC1BpD,GAAgBoD,EAAI,QAAQ,OAC5B5C,EAAqB,EAAI,CAC7B,CACJ,CAAC,EACD2C,EAAgB,QAAQ,iBAAmB,OAEnD,CClQO,SAASG,IAAiB,CAC7B,MAAO;AAAA;AAAA,cAEGC,EAAgB,CAAC;AAAA;AAAA,KAG/B,CAEO,IAAIC,GAAiB,KAE5B,eAAsBC,IAAa,CAC/B,IAAMC,EAAgB,SAAS,eAAe,gBAAgB,EAC9D,GAAI,CAACA,EAAe,MAAO,GAG3BA,EAAc,UAAU,OAAO,oBAAoB,EAEnD,GAAI,CACA,IAAMC,EAAW,MAAMC,EAAW,OAAO,EACzC,GAAI,CAACD,EAAS,GAAI,MAAM,IAAI,MAAM,cAAc,EAEhD,IAAME,EAAW,MAAMF,EAAS,KAAK,EACrC,GAAI,CAACE,GAAYA,EAAS,SAAW,EACjC,OAAAH,EAAc,UAAY,iFACnB,GAGX,IAAMI,EAAmB,CAAC,iBAAkB,gBAAiB,gBAAiB,eAAe,EACvFC,EAAmBF,EAAS,OAAOG,GAAa,CAACF,EAAiB,SAASE,EAAU,EAAE,CAAC,EAG9FD,EAAiB,QAAQC,GAAa,CAC9BA,EAAU,MAAQ,MAAM,QAAQA,EAAU,IAAI,EAC9CA,EAAU,KAAK,QAAQ,EAEvBA,EAAU,KAAO,CAAC,CAE1B,CAAC,EACDD,EAAiB,QAAQ,EAEzB,IAAME,EAAWF,EAAiB,IAAIC,GAAa,CAC/C,IAAME,EAAUF,EAAU,KAAK,KAAK;AAAA,CAAI,EAGpCG,EAAQ,CAAC,GAAGH,EAAU,IAAI,EAC9B,GAAIG,EAAM,OAAS,GAAI,CACnB,IAAMC,EAAgB,GAAKD,EAAM,OACjC,QAASE,EAAI,EAAGA,EAAID,EAAeC,IAC/BF,EAAM,KAAK,EAAE,CAErB,MAAWA,EAAM,OAAS,KACtBA,EAAQA,EAAM,MAAM,GAAG,GAG3B,IAAMG,EAAaH,EAAM,IAAII,GAAQC,GAAWD,CAAI,CAAC,EAAE,KAAK;AAAA,CAAI,EAEhE,MAAO;AAAA;AAAA;AAAA,8BAGWP,EAAU,EAAE;AAAA;AAAA,sFAE4C,OAAOE,CAAO,CAAC;AAAA;AAAA;AAAA,oGAGDF,EAAU,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,+CAKjEM,CAAU;AAAA;AAAA,aAGjD,CAAC,EAAE,KAAK,EAAE,EAEV,OAAAZ,EAAc,UAAYO,EAG1B,SAAS,iBAAiB,gBAAgB,EAAE,QAAQQ,GAAO,CACvDA,EAAI,iBAAiB,QAAS,IAAM,CAChC,IAAMC,EAAO,SAASD,EAAI,QAAQ,IAAI,EACtC,UAAU,UAAU,UAAUC,CAAI,EAAE,KAAK,IAAM,CAC3C,IAAMC,EAAOF,EAAI,cAAc,GAAG,EAClCE,EAAK,UAAU,OAAO,SAAS,EAC/BA,EAAK,UAAU,IAAI,UAAU,EAC7B,WAAW,IAAM,CACbA,EAAK,UAAU,OAAO,UAAU,EAChCA,EAAK,UAAU,IAAI,SAAS,CAChC,EAAG,GAAI,CACX,CAAC,CACL,CAAC,CACL,CAAC,EAGD,SAAS,iBAAiB,iBAAiB,EAAE,QAAQF,GAAO,CACxDA,EAAI,iBAAiB,QAAS,SAAY,CACtC,IAAMG,EAAYH,EAAI,QAAQ,UAC9B,GAAK,QAAQ,2CAA2CG,CAAS,GAAG,EAEpE,GAAI,EACY,MAAMhB,EAAW,oBAAoBgB,CAAS,GAAI,CAAE,OAAQ,QAAS,CAAC,GAC1E,IACJnB,GAAW,CAEnB,OAASoB,EAAG,CACR,QAAQ,MAAM,uBAAwBA,CAAC,CAC3C,CACJ,CAAC,CACL,CAAC,EAEDrB,GAAiB,KAAK,IAAI,EACnB,EAEX,OAASsB,EAAO,CACZ,eAAQ,MAAM,uBAAwBA,CAAK,EAC3CpB,EAAc,UAAY,yFACnB,EACX,CACJ,CCpHO,IAAMqB,GAAmB,IACrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kGA2CuFC,EAAgB,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iGAMlBA,EAAgB,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+FAMnBA,EAAgB,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAQlGA,EAAgB,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAQjBC,GAAe,CAAC;AAAA;AAAA,MAK9B,eAAsBC,IAAkB,CACpC,MAAM,QAAQ,IAAI,CACdC,GAAmB,EACnBC,GAAoB,EACpBC,GAAgB,CACpB,CAAC,EACD,MAAMC,GAAW,CACrB,CAMO,IAAIC,GAAqB,KACrBC,GAAmB,KACnBC,GAAsB,KAEjC,eAAeC,IAAkB,CAC7B,GAAI,CAEA,OAAO,MADU,MAAMC,EAAW,iBAAiB,GAC7B,KAAK,CAC/B,MAAgB,CAAE,OAAO,IAAM,CACnC,CAEA,eAAeC,IAAoB,CAC/B,GAAI,CAEA,OAAO,MADU,MAAMD,EAAW,kBAAkB,GAC9B,KAAK,CAC/B,MAAgB,CAAE,OAAO,IAAM,CACnC,CAEA,eAAeE,IAAmB,CAC9B,GAAI,CAEA,OAAO,MADU,MAAMF,EAAW,YAAY,GACxB,KAAK,CAC/B,MAAgB,CAAE,OAAO,IAAM,CACnC,CAEA,eAAeG,IAAqB,CAChC,GAAI,CAEA,OAAO,MADU,MAAMH,EAAW,iBAAiB,GAC7B,KAAK,CAC/B,MAAgB,CAAE,OAAO,IAAM,CACnC,CAEA,eAAsBI,IAAsB,CACxC,IAAMC,EAAmB,SAAS,eAAe,kBAAkB,EAC7DC,EAAoB,SAAS,eAAe,uBAAuB,EACnEC,EAAqB,SAAS,eAAe,sBAAsB,EAEnEC,EAAyBC,GAAS,CACpC,GAAI,CAACA,EAAM,CACPH,EAAkB,UAAY,+DAC9B,MACJ,CACA,IAAII,EAAO,GACLC,GAASF,EAAK,cAAgB,KAAO,KAAO,OAAO,QAAQ,CAAC,EAalE,GAZAC,GAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sFAOsEC,CAAK;AAAA;AAAA;AAAA,oBAK/EF,EAAK,KAAOA,EAAK,IAAI,OAAS,EAAG,CACjC,IAAMG,EAAMH,EAAK,IAAI,CAAC,EACtBC,GAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8JAO0IE,EAAI,KAAK,KAAKA,EAAI,KAAK;AAAA,uEAC9GA,EAAI,KAAK,YAAYA,EAAI,OAAO;AAAA;AAAA,uBAG/F,CAmBA,GAjBIH,EAAK,KAAOA,EAAK,IAAI,OAAS,GAC9BA,EAAK,IAAI,QAAQ,CAACI,EAAKC,IAAQ,CAC3B,IAAMC,GAAUF,EAAI,KAAQ,YAAqB,QAAQ,CAAC,EAC1DH,GAAQ;AAAA;AAAA;AAAA;AAAA,gEAIwCI,CAAG;AAAA;AAAA;AAAA,kKAG+FD,EAAI,KAAK,KAAKA,EAAI,KAAK;AAAA,2EAC9GE,CAAM;AAAA;AAAA,2BAGrE,CAAC,EAGDN,EAAK,SAAWA,EAAK,QAAQ,OAAS,EAAG,CACzC,IAAIO,EAAY,EACZC,EAAY,EAChBR,EAAK,QAAQ,QAAQS,GAAQ,CACzBF,GAAaE,EAAK,KAClBD,GAAaC,EAAK,IACtB,CAAC,EACD,IAAMC,GAAUH,GAAa,KAAO,KAAO,OAAO,QAAQ,CAAC,EACrDI,GAAUH,GAAa,KAAO,KAAO,OAAO,QAAQ,CAAC,EACrDI,EAAUJ,EAAY,GAAMD,EAAYC,EAAa,KAAK,QAAQ,CAAC,EAAI,EAC7EP,GAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0FAOsES,CAAM,MAAMC,CAAM;AAAA;AAAA,uDAErDC,EAAU,GAAK,UAAY,SAAS,YAAYA,CAAO;AAAA;AAAA;AAAA,uBAItG,CACAf,EAAkB,UAAYI,CAClC,EAEA,GAAIJ,GAAqBC,IAChBA,EAAmB,QAAQ,mBAC5BA,EAAmB,QAAU,SAAY,CACrCA,EAAmB,UAAY,sDAC/B,IAAMe,EAAS,MAAMrB,GAAkB,EACnCqB,GACAd,EAAsBc,CAAM,EAC5Bf,EAAmB,UAAY,mCAC/B,WAAW,IAAM,CAAEA,EAAmB,UAAY,uCAAyC,EAAG,GAAI,IAElGA,EAAmB,UAAY,qCAC/B,WAAW,IAAM,CAAEA,EAAmB,UAAY,uCAAyC,EAAG,GAAI,EAE1G,EACAA,EAAmB,QAAQ,iBAAmB,QAI9CD,EAAkB,cAAc,0BAA0B,GAAG,CAC7D,IAAMgB,EAAS,MAAMrB,GAAkB,EACvCO,EAAsBc,CAAM,CAChC,CAGJ,GAAI,CAACjB,EAAkB,OACvB,IAAMI,EAAO,MAAMV,GAAgB,EACnC,GAAI,CAACU,GAAQ,CAACA,EAAK,SAAU,CACzBJ,EAAiB,UAAYkB,EAAyB,UAAW,iCAAkC,kDAAkD,EACrJ,MACJ,CAEA3B,GAAqB,KAAK,IAAI,EAC9B,IAAM4B,EAAWf,EAAK,UAAY,CAAC,EAEnC,MAAM,KAAKJ,EAAiB,QAAQ,EAAE,QAAQoB,GAAS,CAC9CA,EAAM,UAAU,SAAS,gBAAgB,GAAGA,EAAM,OAAO,CAClE,CAAC,EAED,SAASC,EAAuBC,EAAY,CAAE,GAAI,CAACA,GAAcA,IAAe,OAASA,IAAe,UAAa,MAAO,IAAO,IAAMC,EAAQD,EAAW,MAAM,kBAAkB,EAAG,OAAIC,EAAcA,EAAM,CAAC,EAAUD,EAAW,MAAM,GAAG,EAAE,MAAM,EAAG,CAAC,EAAE,KAAK,GAAG,GAAK,GAAK,CAC9Q,SAASE,EAAgBC,EAAS,CAAE,MAAI,CAACA,GAAWA,EAAQ,QAAU,GAAWA,EAAgBA,EAAQ,UAAU,EAAG,EAAE,EAAI,KAAO,CACnI,SAASC,EAAaC,EAAW,CAAE,GAAI,CAACA,GAAaA,IAAc,OAASA,IAAc,UAAW,MAAO,IAAK,IAAMJ,EAAQI,EAAU,MAAM,iDAAiD,EAAG,GAAI,CAACJ,EAAO,MAAO,IAAK,IAAMK,EAAO,SAASL,EAAM,CAAC,CAAC,GAAK,EAASM,EAAQ,SAASN,EAAM,CAAC,CAAC,GAAK,EAASO,EAAU,SAASP,EAAM,CAAC,CAAC,GAAK,EAASQ,EAAU,WAAWR,EAAM,CAAC,CAAC,GAAK,EAASS,EAAgBJ,EAAO,MAAUC,EAAQ,KAASC,EAAU,GAAMC,EAAeE,EAAY,KAAK,MAAMD,EAAe,KAAK,EAAG,GAAIC,EAAY,EAAG,MAAO,GAAGA,CAAS,IAAK,IAAMC,EAAa,KAAK,MAAMF,EAAe,IAAI,EAAG,GAAIE,EAAa,EAAG,MAAO,GAAGA,CAAU,IAAK,IAAMC,EAAe,KAAK,MAAMH,EAAe,EAAE,EAAG,OAAIG,EAAe,EAAU,GAAGA,CAAY,IAAY,GAAG,KAAK,MAAMH,CAAY,CAAC,GAAK,CAEzxB,SAASI,EAAmBC,EAAS,CACjC,IAAMC,EAAWD,EAAQ,SAAW,SAC9BE,EAAcD,EAAW,wBAA0B,yBACnDE,EAAaF,EAAW,kBAAoB,cAC5CG,EAAaH,EAAW,KAAO,MACjCI,EAAiBL,EAAQ,QAAUhB,EAAuBgB,EAAQ,QAAQ,GAAG,EAAI,IAC/EM,EAAaN,EAAQ,KAAOA,EAAQ,MAAQ,MAAQA,EAAQ,IAAM,IAClEO,EAAaP,EAAQ,QAAUA,EAAQ,SAAW,MAAQA,EAAQ,OAAS,IAC3EQ,EAAeF,IAAe,IAAM,UAAY,OAChDG,EAAeH,IAAe,IAAM,OAAS,OAC7CI,EAAeH,IAAe,IAAM,UAAY,OAChDI,EAAeJ,IAAe,IAAM,OAAS,OAC7CK,EAASvB,EAAaW,EAAQ,MAAM,EACtCa,EAAc,GAClB,OAAIZ,EACAY,EAAc;AAAA;AAAA;AAAA,wEAG8CR,CAAc;AAAA;AAAA;AAAA;AAAA;AAAA,qDAKjCO,CAAM;AAAA;AAAA;AAAA,oEAGSJ,CAAY;AAAA,8CAClCC,CAAY,MAAMH,CAAU;AAAA;AAAA;AAAA,+DAGXI,CAAY;AAAA,8CAC7BC,CAAY,MAAMJ,CAAU;AAAA;AAAA,wBAGzDM,EAAc,wEAChB,8BAA8BX,CAAW,sBAAsBF,EAAQ,EAAE,qDAAqDG,CAAU,aAAaH,EAAQ,YAAcA,EAAQ,EAAE,4CAA4CI,CAAU,mJAAmJjB,EAAgBa,EAAQ,QAAUA,EAAQ,KAAO,GAAGA,EAAQ,MAAM,IAAIA,EAAQ,IAAI,GAAK,EAAE,CAAC,gBAAgBa,CAAW,cAC9f,CAEA,IAAMC,EAAqB,IAAI,IAAI,MAAM,KAAKnD,EAAiB,iBAAiB,iBAAiB,CAAC,EAAE,IAAIoD,GAAU,CAACA,EAAO,QAAQ,UAAWA,CAAM,CAAC,CAAC,EAC/IC,EAAqB,IAAI,IAAIlC,EAAS,IAAI,GAAK,EAAE,EAAE,CAAC,EAC1D,OAAW,CAACmC,EAAIF,CAAM,IAAKD,EAA2BE,EAAmB,IAAIC,CAAE,GAAGF,EAAO,OAAO,EAChGjC,EAAS,QAAQkB,GAAW,CACxB,IAAMkB,EAAUnB,EAAmBC,CAAO,EACpCmB,EAAiBL,EAAmB,IAAId,EAAQ,EAAE,EACpDmB,EAAsBA,EAAe,YAAcD,IAASC,EAAe,UAAYD,GACtFvD,EAAiB,mBAAmB,YAAauD,CAAO,CACjE,CAAC,CACL,CAEA,eAAsBE,IAAkB,CACpC,IAAMzD,EAAmB,SAAS,eAAe,gBAAgB,EACjE,GAAI,CAACA,EAAkB,OACvB,IAAMI,EAAO,MAAMV,GAAgB,EACnC,GAAI,CAACU,EAAM,CAAEJ,EAAiB,UAAYkB,EAAyB,UAAW,8BAA8B,EAAG,MAAQ,CACvH1B,GAAmB,KAAK,IAAI,EAC5B,IAAMkE,EAAStD,EAAK,QAAU,CAAC,EACzBuD,EAAgBvD,EAAK,QAC3B,MAAM,KAAKJ,EAAiB,QAAQ,EAAE,QAAQoB,GAAS,CAAOA,EAAM,UAAU,SAAS,gBAAgB,GAAGA,EAAM,OAAO,CAAG,CAAC,EAE3H,SAASwC,EAA0BC,EAAS,CACxC,IAAMC,EAAUD,EAAQ,SAAW,QAGnC,MAAO,8BAFaC,EAAU,wBAA0B,wBAER,qJAD7BA,EAAU,QAAU,WACwK,kJAAkJD,EAAQ,MAAM,sJACnX,CAEA,SAASE,EAAwBC,EAAO,CACpC,IAAMC,EAAeD,EAAM,SAAW,aAChCzB,EAAc0B,EAAe,wBAA0B,yBACvDxB,EAAawB,EAAe,KAAO,UACnCC,EAAcD,GAAgBD,EAAM,KAAO,EAAI,IAAIA,EAAM,KAAO,KAAK,QAAQ,CAAC,CAAC,MAAQ,IACzFG,EAAmBH,EAAM,KAC7B,OAAIA,EAAM,OAAS,UAAYG,EAAiB,SAAS,SAAS,IAAKA,EAAmBA,EAAiB,QAAQ,UAAW,EAAE,GACzH,8BAA8B5B,CAAW,sBAAsByB,EAAM,IAAI,qDAAqDC,EAAe,kBAAoB,aAAa,aAAaE,CAAgB,4CAA4C1B,CAAU,gJAAgJuB,EAAM,IAAI,+GAA+GE,CAAW,2BAChiB,CAEA,IAAIE,EAAY,GAGhB,GAFIT,IAAeS,GAAaR,EAA0BD,CAAa,GACvES,GAAaV,EAAO,IAAIK,CAAuB,EAAE,KAAK,EAAE,EACpD,CAACK,EAAW,CAAEpE,EAAiB,UAAYkB,EAAyB,QAAS,kBAAkB,EAAG,MAAQ,CAC1GlB,EAAiB,YAAcoE,IAAWpE,EAAiB,UAAYoE,EAC/E,CAEA,eAAsBC,IAAqB,CACvC,IAAMrE,EAAmB,SAAS,eAAe,mBAAmB,EACpE,GAAI,CAACA,EAAkB,OAEvB,IAAMsE,EAAQ,SAAS,eAAe,gBAAgB,EAChDC,EAAQ,SAAS,eAAe,gBAAgB,EAChDC,EAAQ,SAAS,eAAe,gBAAgB,EAChDC,EAAU,SAAS,eAAe,kBAAkB,EACpDC,EAAW,SAAS,eAAe,mBAAmB,EAExDA,GAAY,CAACA,EAAS,QAAQ,mBAC9BA,EAAS,QAAU,SAAY,CAC3BA,EAAS,UAAY,qDACrB,GAAI,CACA,MAAM/E,EAAW,0BAA2B,CAAE,OAAQ,MAAO,CAAC,EAC9D,WAAW,IAAM,CACb+E,EAAS,UAAY,mCACrB,WAAW,IAAM,CAAEA,EAAS,UAAY,6CAA+C,EAAG,GAAI,CAClG,EAAG,GAAG,EACNL,GAAmB,CACvB,MAAY,CAAEK,EAAS,UAAY,oCAAsC,CAC7E,EACAA,EAAS,QAAQ,iBAAmB,QAGxC,IAAMC,EAAgB,MAAM7E,GAAmB,EAC/C,GAAI6E,EAAe,CACf,IAAMC,EAAM,KAAK,MAAM,KAAK,IAAI,EAAI,GAAI,EAClCC,EAAaF,EAAc,YAC3BG,EAAc,CAACC,EAAIC,EAASC,IAAa,CAC3C,GAAIJ,IAAeI,GAAaA,IAAa,YAAcJ,IAAe,QAAU,CAChFE,EAAG,YAAc,UACjBA,EAAG,MAAM,MAAQ,UACjB,MACJ,CACA,IAAMG,EAAOF,EAAUJ,EACvB,GAAIM,GAAQ,EAAKH,EAAG,YAAc,QAASA,EAAG,MAAM,MAAQ,cACvD,CAAE,IAAMI,EAAO,KAAK,MAAMD,EAAO,EAAE,EAASE,EAAOF,EAAO,GAAIH,EAAG,YAAc,GAAGI,CAAI,KAAKC,CAAI,IAAKL,EAAG,MAAM,MAAQ,MAAQ,CACtI,EAIA,GAHIT,GAASK,EAAc,UAAUG,EAAYR,EAAOK,EAAc,SAAS,SAAU,UAAU,EAC/FJ,GAASI,EAAc,WAAWG,EAAYP,EAAOI,EAAc,UAAU,SAAU,WAAW,EAClGH,GAASG,EAAc,YAAYG,EAAYN,EAAOG,EAAc,WAAW,SAAU,YAAY,EACrGF,GAAWE,EAAc,mBAAqB,OAAW,CACzD,IAAMU,EAAOV,EAAc,iBACrBQ,EAAO,KAAK,MAAME,EAAO,EAAE,EAASD,EAAOC,EAAO,GACxDZ,EAAQ,YAAc,GAAGU,CAAI,KAAKC,CAAI,IAClCC,EAAO,IAAKZ,EAAQ,MAAM,MAAQ,UAC7BY,EAAO,GAAIZ,EAAQ,MAAM,MAAQ,UACrCA,EAAQ,MAAM,MAAQ,MAC/B,CACJ,KACI,CAACH,EAAOC,EAAOC,EAAOC,CAAO,EAAE,QAAQM,GAAM,CAAMA,IAAMA,EAAG,YAAc,UAAWA,EAAG,MAAM,MAAQ,UAAa,CAAC,EAGxH,IAAMO,EAAY,MAAMzF,GAAiB,EACnC0F,EAAgB,SAAS,eAAe,sBAAsB,EACpE,GAAIA,EACA,GAAID,EAAW,CACX,IAAME,EAAQF,EAAU,OACxBC,EAAc,YAAcC,EAAQ,EAAI,GAAGA,CAAK,UAAY,OAC5DD,EAAc,MAAM,MAAQC,EAAQ,EAAI,UAAY,MACxD,MAASD,EAAc,YAAc,IAAKA,EAAc,MAAM,MAAQ,OAG1E,GAAID,IAAc,KAAM,CAAEtF,EAAiB,UAAYkB,EAAyB,UAAW,gCAAgC,EAAG,MAAQ,CAEtI,GADAzB,GAAsB,KAAK,IAAI,EAC3B6F,EAAU,SAAW,EAAG,CAAEtF,EAAiB,UAAYkB,EAAyB,QAAS,sBAAsB,EAAG,MAAQ,EAC1HlB,EAAiB,cAAc,kBAAkB,GAAKA,EAAiB,cAAc,0BAA0B,KAAGA,EAAiB,UAAY,IAEnJ,SAASyF,EAA0BC,EAAM,CACrC,IAAMC,EAAW,KAAK,MAAO,KAAK,IAAI,EAAI,IAAQD,EAAK,UAAU,EAC3DE,EAAaF,EAAK,QAAU,EAAI,2CAA2CA,EAAK,OAAO,UAAY,GACrGG,EAAcH,EAAK,WACjBI,EAAQ,CAAE,iBAAkB,iBAAkB,iBAAkB,iBAAkB,gBAAiB,eAAgB,EACzH,OAAIA,EAAMD,CAAW,EAAGA,EAAcC,EAAMD,CAAW,EAC9C,QAAQ,KAAKA,CAAW,IAAGA,EAAc,WAAWA,CAAW,IACjE,+DAA+DH,EAAK,UAAU,qEAAqEG,CAAW,QAAQD,CAAU,0IAA0IF,EAAK,KAAK,mHAAmHC,CAAQ,+GAA+GD,EAAK,GAAG,2BACjkB,CAEA,IAAMvC,EAAqB,IAAI,IAAI,MAAM,KAAKnD,EAAiB,iBAAiB,iBAAiB,CAAC,EAAE,IAAIoD,GAAU,CAACA,EAAO,QAAQ,UAAWA,CAAM,CAAC,CAAC,EAC/I2C,EAAc,IAAI,IAAIT,EAAU,IAAIU,GAAKA,EAAE,UAAU,CAAC,EAC5D,OAAW,CAAC1C,EAAIF,CAAM,IAAKD,EAA2B4C,EAAY,IAAIzC,CAAE,GAAGF,EAAO,OAAO,EACzFkC,EAAU,QAAQI,GAAQ,CACtB,IAAMnC,EAAUkC,EAA0BC,CAAI,EACxClC,EAAiBL,EAAmB,IAAIuC,EAAK,UAAU,EACzDlC,EAAsBA,EAAe,YAAcD,IAASC,EAAe,UAAYD,GACtFvD,EAAiB,mBAAmB,YAAauD,CAAO,CACjE,CAAC,CACL,CClaO,SAAS0C,IAAqB,CACjC,IAAMC,EAAeC,GAAgB,EAC/BC,EAAYC,GAAa,GAAK,wBAC9BC,EAAoB,CAAE,QAAS,aAAa,aAAe,UAAW,UAAW,iBAAkB,MAAO,EAC1GC,EAAmB,aAAa,QAAQ,0BAA0B,IAAM,QAE9E,MAAO;AAAA;AAAA,kBAEO,OAAO,OAAOC,CAAM,EAAE,IAAIC,GAAS;AAAA,6CACRP,IAAiBO,EAAQ,SAAW,EAAE,iBAAiBA,CAAK;AAAA,kEACvCA,EAAM,YAAY,CAAC;AAAA;AAAA,kCAEnDA,CAAK;AAAA,iCACNA,IAAUD,EAAO,KAAO,6BAA+BC,IAAUD,EAAO,QAAU,0BAA4B,wBAAwB;AAAA,wDAC/GN,IAAiBO,EAAQ,SAAW,QAAQ;AAAA;AAAA;AAAA,iBAGnF,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sEAW2CH,EAAkB,UAAY,gCAAkC,+BAA+B;AAAA;AAAA;AAAA,+EAGtFA,EAAkB,QAAU,UAAY,EAAE,IAAKA,EAAkB,UAAyB,GAAb,UAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2EAoBhGC,EAAmB,UAAY,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,mBAM5G,CAEO,SAASG,GAAwBC,EAAwB,CAC5D,IAAMC,EAAkB,SAAS,cAAc,8BAA8B,EAC7E,GAAI,CAACA,EAAiB,OAEtBA,EAAgB,iBAAiB,aAAa,EAAE,QAAQC,GAAQ,CAC5DA,EAAK,iBAAiB,QAAS,UAAY,CACvC,IAAMC,EAAW,KAAK,QAAQ,MAC9BC,GAASD,CAAQ,EACjBH,EAAuB,WAAWV,GAAmB,CAAC,EACtDS,GAAwBC,CAAsB,CAClD,CAAC,CACL,CAAC,EAED,IAAMK,EAAqB,SAAS,eAAe,sBAAsB,EACrEA,IACAA,EAAmB,QAAU,MAAOC,GAAM,CACtC,GAAIA,EAAE,OAAO,QACT,GAAI,CAAqB,MAAM,aAAa,kBAAkB,IAAsB,YAAWA,EAAE,OAAO,QAAU,GAAO,MAC3G,CAAEA,EAAE,OAAO,QAAU,EAAO,MACnC,aAAa,aAAe,YACnC,MAAM,6DAA6D,EACnEA,EAAE,OAAO,QAAU,GAE3B,GAGJ,IAAMC,EAAkB,SAAS,eAAe,kBAAkB,EAC9DA,IACAA,EAAgB,QAAU,aAAa,QAAQ,0BAA0B,IAAM,QAC/EA,EAAgB,QAAWD,GAAM,CAC7B,IAAME,EAAUF,EAAE,OAAO,QACzB,aAAa,QAAQ,2BAA4BE,CAAO,EACxD,OAAO,yBAA2BA,EAClC,OAAO,kBAAoBA,CAC/B,EAER,CClGO,IAAMC,GAAkB,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;ECA9B,IAAMC,GAAoB,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAahC,SAASC,IAAmB,CAE/B,GADiB,SAAS,eAAe,kBAAkB,EAC7C,OAEd,IAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,GAAK,mBACZA,EAAO,UAAYF,GAAkB,EACrC,SAAS,KAAK,YAAYE,CAAM,CACpC,CCpBA,IAAMC,GAAe,CAEjB,CACI,GAAI,OACJ,MAAO,OACP,KAAM,0BACN,YAAa,0EACb,MAAO,iBACP,SAAU,YACV,MAAO,EACX,EACA,CACI,GAAI,WACJ,MAAO,WACP,KAAM,oBACN,YAAa,qGACb,MAAO,eACP,SAAU,WACd,EACA,CACI,GAAI,UACJ,MAAO,UACP,KAAM,gBACN,YAAa,wFACb,MAAO,wCACP,SAAU,WACd,EACA,CACI,GAAI,SACJ,MAAO,SACP,KAAM,WACN,YAAa,uFACb,MAAO,gCACP,SAAU,WACd,EAGA,CACI,GAAI,QACJ,MAAO,QACP,KAAM,aACN,YAAa,kGACb,MAAO,gCACP,SAAU,WACd,EACA,CACI,GAAI,SACJ,MAAO,SACP,KAAM,oBACN,YAAa,6EACb,MAAO,aACP,SAAU,WACd,EACA,CACI,GAAI,OACJ,MAAO,OACP,KAAM,kBACN,YAAa,sFACb,MAAO,gCACP,SAAU,WACd,EACA,CACI,GAAI,MACJ,MAAO,cACP,KAAM,iBACN,YAAa,2FACb,MAAO,qBACP,SAAU,WACd,EACA,CACI,GAAI,SACJ,MAAO,iBACP,KAAM,kBACN,YAAa,iFACb,MAAO,0BACP,SAAU,WACd,EAGA,CACI,GAAI,SACJ,MAAO,SACP,KAAM,WACN,YAAa,2FACb,MAAO,2BACP,SAAU,QACd,EACA,CACI,GAAI,OACJ,MAAO,OACP,KAAM,cACN,YAAa,oFACb,MAAO,0BACP,SAAU,QACd,EACA,CACI,GAAI,SACJ,MAAO,cACP,KAAM,iBACN,YAAa,iFACb,MAAO,0CACP,SAAU,QACd,EACA,CACI,GAAI,SACJ,MAAO,SACP,KAAM,gBACN,YAAa,2EACb,MAAO,+BACP,SAAU,QACd,EACA,CACI,GAAI,QACJ,MAAO,QACP,KAAM,UACN,YAAa,qEACb,MAAO,yBACP,SAAU,QACd,EACA,CACI,GAAI,QACJ,MAAO,QACP,KAAM,eACN,YAAa,2EACb,MAAO,+BACP,SAAU,QACd,EACA,CACI,GAAI,QACJ,MAAO,YACP,KAAM,eACN,YAAa,uFACb,MAAO,yCACP,SAAU,QACd,EACA,CACI,GAAI,UACJ,MAAO,UACP,KAAM,yBACN,YAAa,qFACb,MAAO,gDACP,SAAU,QACd,EAGA,CACI,GAAI,UACJ,MAAO,UACP,KAAM,aACN,YAAa,wEACb,MAAO,4BACP,SAAU,SACd,EACA,CACI,GAAI,QACJ,MAAO,QACP,KAAM,UACN,YAAa,qEACb,MAAO,0BACP,SAAU,SACd,EACA,CACI,GAAI,OACJ,MAAO,OACP,KAAM,UACN,YAAa,sEACb,MAAO,yBACP,SAAU,SACd,EAGA,CACI,GAAI,SACJ,MAAO,aACP,KAAM,gBACN,YAAa,wFACb,MAAO,uBACP,SAAU,OACd,EACA,CACI,GAAI,MACJ,MAAO,cACP,KAAM,iBACN,YAAa,oFACb,MAAO,iBACP,SAAU,OACd,CACJ,EAEaC,GAAyB,IAAM,CACxC,IAAMC,EAAa,CACf,UAAW,CAAE,MAAO,iBAAkB,KAAM,WAAY,MAAO,SAAU,EACzE,UAAW,CAAE,MAAO,wBAAyB,KAAM,gBAAiB,MAAO,SAAU,EACrF,QAAS,CAAE,MAAO,kBAAmB,KAAM,eAAgB,MAAO,SAAU,EAC5E,OAAQ,CAAE,MAAO,oBAAqB,KAAM,SAAU,MAAO,MAAO,EACpE,MAAO,CAAE,MAAO,kBAAmB,KAAM,cAAe,MAAO,MAAO,CAC1E,EAEIC,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQX,OAAW,CAACC,EAAOC,CAAO,IAAK,OAAO,QAAQH,CAAU,EAAG,CACvD,IAAMI,EAAWN,GAAa,OAAOO,GAAOA,EAAI,WAAaH,CAAK,EAC9DE,EAAS,SAAW,IAExBH,GAAQ;AAAA;AAAA;AAAA,mCAGmBE,EAAQ,IAAI,mBAAmBA,EAAQ,KAAK;AAAA,4HAC6CA,EAAQ,KAAK;AAAA;AAAA;AAAA,sBAGnHC,EAAS,IAAIC,GAAO;AAAA,uDACaA,EAAI,MAAQ,QAAU,EAAE,eAAeA,EAAI,EAAE;AAAA,0KACsEF,EAAQ,KAAK;AAAA;AAAA,+CAExIE,EAAI,IAAI,qCAAqCF,EAAQ,KAAK;AAAA,gHACOE,EAAI,KAAK;AAAA;AAAA,2KAEkDA,EAAI,WAAW;AAAA,wMACcF,EAAQ,KAAK;AAAA,yFAC5HE,EAAI,KAAK;AAAA;AAAA;AAAA,qBAG7E,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA;AAAA,UAI3B,CAEA,OAAAJ,GAAQ,SACDA,CACX,EAEIK,GAAiB,GAErB,SAASC,GAAaC,EAAS,CAC3B,IAAIC,EAAU,SAAS,eAAe,sBAAsB,EACvDA,IACDA,EAAU,SAAS,cAAc,KAAK,EACtCA,EAAQ,GAAK,uBACbA,EAAQ,UAAY,wBACpBA,EAAQ,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAgBpB,SAAS,KAAK,YAAYA,CAAO,EAEjC,SAAS,eAAe,oBAAoB,EAAE,QAAU,IAAMC,GAAc,EAC5E,SAAS,eAAe,qBAAqB,EAAE,QAAU,IAAMA,GAAc,GAGjF,IAAMC,EAAO,SAAS,eAAe,mBAAmB,EACxD,OAAAA,EAAK,UAAY,GACjB,SAAS,eAAe,mBAAmB,EAAE,YAAc,OAAOH,EAAQ,EAAE,GAC5E,SAAS,eAAe,uBAAuB,EAAE,UAAY,iCAC7D,SAAS,eAAe,uBAAuB,EAAE,YAAc,UAC/D,SAAS,eAAe,qBAAqB,EAAE,MAAM,QAAU,OAE/DC,EAAQ,UAAU,IAAI,QAAQ,EAC9BH,GAAiB,GAEVK,CACX,CAEA,SAASD,IAAgB,CACrB,IAAMD,EAAU,SAAS,eAAe,sBAAsB,EAC1DA,GAASA,EAAQ,UAAU,OAAO,QAAQ,EAC9CH,GAAiB,EACrB,CAEA,SAASM,EAAcD,EAAME,EAAMC,EAAO,SAAU,CAChD,GAAI,CAACR,GAAgB,OACrB,IAAMS,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAY,0BAA0BD,CAAI,GAE3CA,IAAS,SACTC,EAAK,UAAY,0CAA4CF,CAAI,GAEjEE,EAAK,UAAYC,GAAWH,CAAI,EAGpCF,EAAK,YAAYI,CAAI,EACrBJ,EAAK,UAAYA,EAAK,YAC1B,CAEA,eAAeM,GAAmBC,EAAO,CACrC,IAAMV,EAAUV,GAAa,KAAKqB,GAAKA,EAAE,KAAOD,CAAK,EACrD,GAAI,CAACV,EAAS,OAEd,IAAMG,EAAOJ,GAAaC,CAAO,EACjCI,EAAcD,EAAM,OAAOO,CAAK,GAAI,QAAQ,EAE5C,GAAI,CAOA,IAAME,GANW,MAAMC,EAAW,eAAgB,CAC9C,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,UAAU,CAAE,QAASH,EAAO,KAAM,CAAC,CAAE,CAAC,CACrD,CAAC,GAEuB,KAAK,UAAU,EACjCI,EAAU,IAAI,YAEpB,OAAa,CACT,GAAM,CAAE,MAAAC,EAAO,KAAAC,CAAK,EAAI,MAAMJ,EAAO,KAAK,EAC1C,GAAII,EAAM,MAEIF,EAAQ,OAAOC,EAAO,CAAE,OAAQ,EAAK,CAAC,EAChC,MAAM;AAAA,CAAI,EACxB,QAAQR,GAAQ,CAClB,GAAIA,EAAK,KAAK,IAAM,GAAI,OAExB,IAAID,EAAO,SACPC,EAAK,SAAS,SAAS,EAAGD,EAAO,QAC5BC,EAAK,SAAS,WAAW,GACzBA,EAAK,SAAS,QAAG,EADWD,EAAO,UAEnCC,EAAK,SAAS,GAAG,IAAGD,EAAO,WAEpCF,EAAcD,EAAMI,EAAMD,CAAI,CAClC,CAAC,CACL,CAEA,SAAS,eAAe,uBAAuB,EAAE,UAAY,iCAC7D,SAAS,eAAe,uBAAuB,EAAE,YAAc,WACnE,MAAc,CAEVF,EAAcD,EAAM,4BAA6B,SAAS,EAC1D,MAAMc,GAAkBP,EAAOP,CAAI,CACvC,QAAE,CACE,SAAS,eAAe,qBAAqB,EAAE,MAAM,QAAU,OACnE,CACJ,CAEA,eAAec,GAAkBP,EAAOP,EAAM,CAG1C,OAFA,MAAM,IAAI,QAAQe,GAAK,WAAWA,EAAG,GAAG,CAAC,EAEjCR,EAAO,CACX,IAAK,WACDN,EAAcD,EAAM,iCAAiC,EACrD,MAAM,IAAI,QAAQe,GAAK,WAAWA,EAAG,GAAG,CAAC,EACzCd,EAAcD,EAAM,4BAA4B,EAChDC,EAAcD,EAAM,mCAA8B,EAClDC,EAAcD,EAAM,4BAAuB,EAC3CC,EAAcD,EAAM,0BAAqB,EACzC,MAAM,IAAI,QAAQe,GAAK,WAAWA,EAAG,GAAI,CAAC,EAC1Cd,EAAcD,EAAM,2CAA2C,EAC/DC,EAAcD,EAAM,uDAAuD,EAC3E,MAAM,IAAI,QAAQe,GAAK,WAAWA,EAAG,IAAI,CAAC,EAC1Cd,EAAcD,EAAM;AAAA,0BAA8B,SAAS,EAC3DC,EAAcD,EAAM,uEAAuE,EAC3FC,EAAcD,EAAM,sCAAiC,EACrDC,EAAcD,EAAM,kDAA6C,EACjEC,EAAcD,EAAM,8BAAyB,EAC7C,MAAM,IAAI,QAAQe,GAAK,WAAWA,EAAG,GAAG,CAAC,EACzCd,EAAcD,EAAM;AAAA,4BAA+B,EACnDC,EAAcD,EAAM,+BAA2B,SAAS,EACxD,MAEJ,IAAK,OACDC,EAAcD,EAAM,qCAAqC,EACzD,IAAMgB,EAAW,CAAC,MAAO,QAAS,UAAW,MAAO,KAAK,EACzD,QAAWC,KAAOD,EACd,MAAM,IAAI,QAAQD,GAAK,WAAWA,EAAG,GAAG,CAAC,EACzCd,EAAcD,EAAM,WAAWiB,CAAG,KAAK,EACvC,MAAM,IAAI,QAAQF,GAAK,WAAWA,EAAG,GAAG,CAAC,EACzCd,EAAcD,EAAM,kBAAc,SAAS,EAC3CC,EAAcD,EAAM,gBAAY,SAAS,EACzCC,EAAcD,EAAM,sBAAkB,SAAS,EAEnDC,EAAcD,EAAM;AAAA,0BAAyB,SAAS,EACtD,MAEJ,IAAK,QACDC,EAAcD,EAAM,kDAAkD,EACtEC,EAAcD,EAAM,4CAA4C,EAChE,MAAM,IAAI,QAAQe,GAAK,WAAWA,EAAG,GAAI,CAAC,EAC1Cd,EAAcD,EAAM,2BAA2B,EAC/CC,EAAcD,EAAM,iCAA4B,EAChD,MAAM,IAAI,QAAQe,GAAK,WAAWA,EAAG,GAAG,CAAC,EACzCd,EAAcD,EAAM,qCAAqC,EACzDC,EAAcD,EAAM,iCAA4B,EAChD,MAAM,IAAI,QAAQe,GAAK,WAAWA,EAAG,GAAG,CAAC,EACzCd,EAAcD,EAAM,kCAAkC,EACtDC,EAAcD,EAAM,0BAAqB,EACzC,MAAM,IAAI,QAAQe,GAAK,WAAWA,EAAG,IAAI,CAAC,EAC1Cd,EAAcD,EAAM;AAAA,+CAA8C,SAAS,EAC3E,MAEJ,QACIC,EAAcD,EAAM,aAAaO,CAAK,WAAW,EACjD,MAAM,IAAI,QAAQQ,GAAK,WAAWA,EAAG,GAAI,CAAC,EAC1Cd,EAAcD,EAAM,oCAAqC,SAAS,CAC1E,CAEA,SAAS,eAAe,uBAAuB,EAAE,UAAY,iCAC7D,SAAS,eAAe,uBAAuB,EAAE,YAAc,WACnE,CAEO,SAASkB,IAAmB,CAC/B,IAAMC,EAAY,SAAS,eAAe,yBAAyB,EAC9DA,IAELA,EAAU,UAAY/B,GAAuB,EAG7C+B,EAAU,iBAAiB,mBAAmB,EAAE,QAAQC,GAAQ,CAC5DA,EAAK,iBAAiB,aAAc,IAAM,CACtCA,EAAK,MAAM,UAAY,mBACvBA,EAAK,MAAM,YAAc,yBACzBA,EAAK,MAAM,gBAAkB,wBACjC,CAAC,EACDA,EAAK,iBAAiB,aAAc,IAAM,CACtCA,EAAK,MAAM,UAAY,gBACvBA,EAAK,MAAM,YAAc,yBACzBA,EAAK,MAAM,gBAAkB,wBACjC,CAAC,EACDA,EAAK,iBAAiB,QAAS,IAAM,CACjC,IAAM1B,EAAM0B,EAAK,QAAQ,IACzB,GAAI1B,IAAQ,OAAQ,CAChB,MAAM,oDAAoD,EAC1D,MACJ,CACAY,GAAmBZ,CAAG,CAC1B,CAAC,CACL,CAAC,EACL,CC5aA,eAAe2B,IAAqB,CAElC,GADqB,OAAO,SAAS,WAAa,iBAGlD,GAAI,CAEF,GAAI,EADa,MAAM,MAAM,GAAGC,GAAmB,CAAC,iBAAkB,CAAE,OAAQ,MAAO,CAAC,GAC1E,GAAI,MAAM,IAAI,MAAM,mBAAmB,CACvD,MAAY,CACV,QAAQ,MAAM,2DAA2D,EACzE,OAAO,SAAS,KAAO,WACzB,CACF,CAEA,SAASC,IAAU,CACjBF,GAAmB,EACnBG,GAAU,EACVC,GAAgB,EAGhB,IAAMC,EAAiB,SAAS,eAAe,iBAAiB,EAC5DA,IACAA,EAAe,UAAYC,GAAgB,EAC3C,QAGA,OAAO,SAAS,SAAS,SAAS,MAAM,GACxCC,GAAiB,EAGrB,IAAMC,EAAWC,GAAW,EAC5BC,GAAaF,CAAQ,EACrBG,GAAiB,EAGjB,IAAMC,EAAS,SAAS,eAAe,kBAAkB,EACnDC,EAAS,SAAS,eAAe,aAAa,EAC9CC,EAAW,SAAS,eAAe,kBAAkB,EACvDC,EAAa,KACbC,EAAwB,KACxBC,EAAyB,KAE7B,SAASC,GAAmB,CACpBF,GAAuB,cAAcA,CAAqB,EAC1DC,GAAwB,cAAcA,CAAsB,EAChED,EAAwB,KACxBC,EAAyB,IAC7B,CAEA,SAASE,GAAgB,CACvBD,EAAiB,EACjBH,EAAa,KACbH,GAAQ,UAAU,OAAO,MAAM,EAC/BC,GAAQ,UAAU,OAAO,aAAa,EACtC,SAAS,iBAAiB,UAAU,EAAE,QAAQO,GAAOA,EAAI,UAAU,OAAO,QAAQ,CAAC,CACrF,CAGAN,GAAU,iBAAiB,QAAS,IAAM,CAClCC,GAAYA,EAAW,MAAM,CACrC,CAAC,EAED,SAASM,EAAaC,EAAgBC,EAAc,KAAMC,EAAW,KAAM,CACzE,IAAMC,EAAkBV,GAAcA,EAAW,KAAOO,EAAe,GACjEI,EAAYX,GAAcA,EAAW,iBAAmBS,EAE9D,GAAIC,GAAmBC,EAAW,CAC9BJ,EAAe,MAAM,EACrB,MACJ,CAGIP,GACFA,EAAW,MAAM,EAAI,GAGnB,CAACU,GAAmB,CAACC,KACvBb,GAAQ,UAAU,IAAI,aAAa,EAG/BW,IAAa,EAAGF,EAAe,WAAWK,GAAwB,CAAC,EAC9DH,IAAa,EAAGF,EAAe,WAAWM,GAAiB,CAAC,EAC5DJ,IAAa,EAAGF,EAAe,WAAWO,GAAgB,CAAC,EAC3DL,IAAa,EAAGF,EAAe,WAAWQ,GAAiB,CAAC,EAC5DN,IAAa,EAAGF,EAAe,WAAWS,GAAmB,CAAC,EAC9DP,IAAa,GAAGF,EAAe,WAAWU,GAAmB,CAAC,EAEvEV,EAAe,eAAiBE,EAChCF,EAAe,KAAK,EACpBP,EAAaO,EAGb,SAAS,iBAAiB,UAAU,EAAE,QAAQF,GAAO,CACnD,IAAMa,EAAW,SAASb,EAAI,QAAQ,QAAQ,IAAMI,EACpDJ,EAAI,UAAU,OAAO,SAAUa,CAAQ,CACzC,CAAC,EAEDrB,GAAQ,UAAU,IAAI,MAAM,EAC5BsB,EAAqB,EAEjBV,IAAa,GAAGW,GAAwBb,CAAc,EAE9D,CAEA,eAAeY,EAAqBE,EAAgB,GAAO,CACzD,GAAI,CAACrB,GAAc,CAACA,EAAW,OAAO,EAAG,OAGzC,OADoBA,EAAW,eACV,CACnB,IAAK,GAAG,MAAMsB,EAAuBD,CAAa,EAAG,MACrD,IAAK,GAAG,MAAME,EAAqBF,CAAa,EAAG,MACnD,IAAK,GAAG,MAAMG,GAAeH,CAAa,EAAG,MAC7C,IAAK,GAAG,MAAMI,GAAgBJ,CAAa,EAAG,MAC9C,IAAK,GAAG,MAAMK,EAAkBL,CAAa,EAAG,KAClD,CACF,CAEA,SAASM,GAAyB,CAChCxB,EAAiB,EAGjBF,EAAwB,YAAY,IAAM,CACpCD,GAAYmB,EAAqB,CACvC,EAAG,GAAI,EAGPjB,EAAyB,YAAY,IAAM,CACrCF,GAAcA,EAAW,iBAAmB,GAAG0B,EAAkB,CACvE,EAAG,GAAM,CACX,CAEA,IAAME,EAAcC,GAAa,CAC/B,GAAI,eACJ,MAAO,UACP,KAAM,YACN,QAASzB,CACX,CAAC,EAEK0B,EAAaD,GAAa,CAC9B,GAAI,cACJ,KAAM,WACN,QAASzB,EACT,OAAQuB,CACV,CAAC,EAEGlC,EACF,SAAS,iBAAiB,UAAU,EAAE,QAAQY,GAAO,CACjDA,EAAI,iBAAiB,QAAU0B,GAAM,CACjC,IAAMC,EAAQ,SAASD,EAAE,cAAc,QAAQ,QAAQ,EACvDzB,EAAawB,EAAYC,EAAE,cAAeC,CAAK,CACnD,CAAC,CACL,CAAC,EAED,SAAS,eAAe,WAAW,GAAG,iBAAiB,QAAS,IAAM,CACpE1B,EAAasB,CAAW,EACxB,WAAW,IAAM,CACf,SAAS,eAAe,YAAY,GAAG,iBAAiB,SAAUG,GAAK,CACrEA,EAAE,eAAe,EACjB,GAAI,CACFE,GAAM,SAAS,eAAe,aAAa,EAAE,KAAK,EAClD,OAAO,SAAS,OAAO,CACzB,OAASC,EAAO,CACd,IAAMC,EAAW,SAAS,eAAe,aAAa,EAClDA,IACFA,EAAS,YAAcD,EAAM,QAC7BC,EAAS,MAAM,QAAU,QAE7B,CACF,CAAC,CACH,EAAG,GAAG,CACR,CAAC,CAEL,CAEI,SAAS,aAAe,UAC1B,SAAS,iBAAiB,mBAAoBhD,EAAO,EAErDA,GAAQ",
  "names": ["applyBaseStyles", "injectNavbar", "isLoggedIn", "navbarHTML", "navbar", "createWindow", "options", "windowEl", "currentContent", "closeCallback", "openCallback", "isTransitioning", "open", "container", "close", "immediate", "destroy", "setContent", "content", "contentDiv", "isOpen", "isLoggedIn", "getUserEmail", "login", "email", "THEME_KEY", "THEMES", "getCurrentTheme", "resolveAutoTheme", "width", "height", "isFullscreen", "setTheme", "theme", "applyTheme", "skipTransition", "body", "resolvedTheme", "t", "bg", "initTheme", "currentTheme", "resizeTimeout", "getGlassyLoader", "createPlaceholderMessage", "type", "message", "actionText", "icon", "actionHtml", "escapeHtml", "text", "updateNavDot", "dotId", "show", "dot", "updateUnreadNotificationCount", "notificationsList", "unreadCount", "getEventServiceUrl", "LOCAL_EVENT_SERVICE", "getDiscordServiceUrl", "LOCAL_DISCORD_SERVICE", "ANSI_MAP", "ansiToHtml", "escaped", "match", "code", "className", "openCount", "closeCount", "resolvedBaseUrl", "resolvedDiscordBaseUrl", "isFallingBack", "isDiscordFallingBack", "smartFetch", "endpoint", "options", "response", "primary", "fallback", "e2", "smartDiscordFetch", "getNotificationsContent", "getGlassyLoader", "lastNotificationsUpdate", "activeExpandedIds", "currentFilteredNotifications", "updateNotificationsTab", "forceReRender", "notificationsContainer", "attachActionListeners", "url", "response", "smartFetch", "allNotifications", "now", "persistenceThreshold", "filteredNotifications", "event", "readTSStr", "readTS", "a", "b", "getPriority", "evt", "data", "score", "p", "scoreA", "scoreB", "displayList", "showDividers", "n", "lastPriority", "createPlaceholderMessage", "updateUnreadNotificationCount", "createNotificationElement", "notificationEvent", "notificationData", "title", "body", "priority", "isAlert", "category", "relatedEventIDs", "isRead", "utcDate", "timeStr", "dateStr", "borderClass", "readClass", "isExpanded", "expandedClass", "detailsStyle", "detailsContent", "relatedEventsHtml", "id", "escapeHtml", "tempDiv", "e", "details", "newBorder", "closeBtn", "createDividerElement", "item", "div", "color", "currentChildren", "currentMap", "el", "newIds", "child", "previousElement", "index", "error", "readAllBtn", "expandAllBtn", "closeAllBtn", "clearBtn", "notif", "longAgo", "getRoadmapContent", "getGlassyLoader", "activeExpandedIds", "currentItems", "editingItemId", "updateRoadmapTab", "forceReRender", "roadmapContainer", "attachRoadmapListeners", "response", "smartFetch", "items", "createPlaceholderMessage", "createItemElement", "item", "isExpanded", "isDraft", "isPublished", "isConsumed", "borderClass", "dateStr", "tempDiv", "e", "statusBadge", "escapeHtml", "startEditing", "togglePublish", "deleteItem", "currentChildren", "currentMap", "el", "newIds", "child", "id", "previousElement", "index", "newBtn", "saveBtn", "cancelBtn", "expandAllBtn", "closeAllBtn", "content", "url", "method", "newState", "getBlueprintsContent", "getGlassyLoader", "lastBlueprintsUpdate", "activeExpandedIds", "currentFilteredBlueprints", "updateBlueprintsTab", "forceReRender", "blueprintsContainer", "attachBlueprintActionListeners", "url", "response", "smartFetch", "allBlueprints", "createPlaceholderMessage", "createBlueprintElement", "event", "blueprintData", "title", "summary", "content", "category", "affectedServices", "implementationPath", "utcDate", "timeStr", "dateStr", "isExpanded", "detailsStyle", "tempDiv", "e", "details", "affectedHtml", "pathHtml", "step", "escapeHtml", "closeBtn", "currentChildren", "currentMap", "el", "newIds", "child", "id", "previousElement", "index", "error", "expandAllBtn", "closeAllBtn", "b", "getIdeasContent", "getRoadmapContent", "getBlueprintsContent", "updateIdeasTab", "updateRoadmapTab", "updateBlueprintsTab", "getContactsContent", "getGlassyLoader", "lastContactsUpdate", "updateContactsTab", "container", "response", "smartDiscordFetch", "members", "createPlaceholderMessage", "levelOrder", "a", "b", "orderA", "orderB", "html", "m", "hexColor", "statusColor", "levelColor", "isMe", "cardBg", "borderStyle", "EVENT_TEMPLATES", "formatEventSummary", "type", "data", "template", "summary", "match", "key", "getEventsContent", "getGlassyLoader", "lastEventsUpdate", "activeExpandedIds", "currentFilteredEvents", "currentFilter", "CATEGORIES", "EVENT_ICONS", "getEventCategory", "type", "cat", "types", "getEventIcon", "updateEventsTimeline", "forceReRender", "eventsContainer", "attachEventActionListeners", "url", "response", "smartFetch", "allEvents", "e", "eventData", "updateContactsTab", "filteredEvents", "createPlaceholderMessage", "createEventElement", "event", "category", "icon", "isExpandable", "borderClass", "isExpanded", "utcDate", "timeStr", "dateStr", "summary", "formatEventSummary", "userLevel", "detailsHtml", "detailsContent", "escapeHtml", "tempDiv", "expanding", "details", "closeBtn", "currentChildren", "currentMap", "el", "newIds", "child", "previousElement", "index", "error", "expandAllBtn", "closeAllBtn", "filterContainer", "btn", "b", "getLogsContent", "getGlassyLoader", "lastLogsUpdate", "updateLogs", "logsContainer", "response", "smartFetch", "logsData", "hiddenServiceIDs", "filteredLogsData", "logReport", "logsHtml", "rawLogs", "lines", "paddingNeeded", "i", "styledLogs", "line", "ansiToHtml", "btn", "logs", "icon", "serviceId", "e", "error", "getSystemContent", "getGlassyLoader", "getLogsContent", "updateSystemTab", "updateProcessesTab", "updateSystemMonitor", "updateModelsTab", "updateLogs", "lastServicesUpdate", "lastModelsUpdate", "lastProcessesUpdate", "fetchSystemData", "smartFetch", "fetchHardwareData", "fetchProcessData", "fetchAnalystStatus", "updateSystemMonitor", "widgetsContainer", "hardwareContainer", "hardwareRefreshBtn", "renderHardwareWidgets", "data", "html", "ramGB", "cpu", "gpu", "idx", "vramGB", "totalUsed", "totalSize", "disk", "usedGB", "sizeGB", "percent", "hwData", "createPlaceholderMessage", "services", "child", "extractMajorMinorPatch", "versionStr", "match", "truncateAddress", "address", "formatUptime", "uptimeStr", "days", "hours", "minutes", "seconds", "totalSeconds", "totalDays", "totalHours", "totalMinutes", "generateWidgetHtml", "service", "isOnline", "statusClass", "statusIcon", "statusText", "versionDisplay", "cpuDisplay", "memDisplay", "cpuIconColor", "cpuTextColor", "memIconColor", "memTextColor", "uptime", "detailsHtml", "existingWidgetsMap", "widget", "incomingServiceIds", "id", "newHtml", "existingWidget", "updateModelsTab", "models", "whisperStatus", "generateWhisperWidgetHtml", "whisper", "isReady", "generateModelWidgetHtml", "model", "isDownloaded", "sizeDisplay", "modelDisplayName", "finalHtml", "updateProcessesTab", "t1Val", "t2Val", "t3Val", "idleVal", "resetBtn", "analystStatus", "now", "activeTier", "updateTimer", "el", "nextRun", "tierName", "diff", "mins", "secs", "idle", "processes", "vitalsProcVal", "count", "generateProcessWidgetHtml", "proc", "duration", "retryBadge", "displayName", "idMap", "incomingIds", "p", "getSettingsContent", "currentTheme", "getCurrentTheme", "userEmail", "getUserEmail", "notificationState", "analyticsEnabled", "THEMES", "theme", "attachSettingsListeners", "settingsWindowInstance", "settingsContent", "card", "newTheme", "setTheme", "notificationToggle", "e", "analyticsToggle", "enabled", "getErrorContent", "getSocialsContent", "injectSocialsBar", "footer", "CLI_COMMANDS", "getCliInterfaceContent", "categories", "html", "catId", "catInfo", "commands", "cmd", "terminalActive", "openTerminal", "cmdInfo", "overlay", "closeTerminal", "body", "logToTerminal", "text", "type", "line", "ansiToHtml", "executeRealCommand", "cmdId", "c", "reader", "smartFetch", "decoder", "value", "done", "simulateExecution", "r", "services", "svc", "initCliDashboard", "container", "card", "checkServiceHealth", "getEventServiceUrl", "onReady", "initTheme", "applyBaseStyles", "errorContainer", "getErrorContent", "initCliDashboard", "loggedIn", "isLoggedIn", "injectNavbar", "injectSocialsBar", "footer", "navbar", "closeBtn", "openWindow", "activeRefreshInterval", "activeContactsInterval", "stopAllIntervals", "onWindowClose", "tab", "handleWindow", "windowInstance", "clickedIcon", "tabIndex", "isCurrentlyOpen", "isSameTab", "getNotificationsContent", "getEventsContent", "getIdeasContent", "getSystemContent", "getContactsContent", "getSettingsContent", "isActive", "refreshActiveTabData", "attachSettingsListeners", "forceReRender", "updateNotificationsTab", "updateEventsTimeline", "updateIdeasTab", "updateSystemTab", "updateContactsTab", "startMainWindowPolling", "loginWindow", "createWindow", "mainWindow", "e", "index", "login", "error", "errorDiv"]
}
