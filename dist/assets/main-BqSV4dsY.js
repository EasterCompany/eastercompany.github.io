!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();function t(t,e,i,n){return s(e-616)}!function(){const t=1392,e=1471,i=1394,n=1440,a=1359,r=1477,c=1395,l=1430,h=924;function d(t,e,i,n){return s(i-897)}function u(t,e,i,n){return s(t-h)}const m=o();for(;;)try{if(773200===parseInt(u(t))/1*(-parseInt(d(0,0,e))/2)+-parseInt(d(0,0,i))/3*(parseInt(u(n))/4)+parseInt(d(0,0,a))/5+-parseInt(d(0,0,r))/6+-parseInt(u(c))/7+-parseInt(d(0,0,l))/8*(-parseInt(d(0,0,1383))/9)+parseInt(d(0,0,1449))/10)break;m.push(m.shift())}catch(y){m.push(m.shift())}}();const e=function(){const t=1131,e=1151,i=1243,n=1031,o=1089,a=1149,r=1093,c=220,l=449,h=388,d=443,u=611,m={};function y(t,e,i,n){return s(e- -608)}function g(t,e,i,n){return s(n-u)}m[y(-86,-68)]=g(t,e,i,1177),m[y(-59,-54)]=function(t,e){return t!==e},m[g(n,o,a,r)]="JNNno",m[y(0,-38)]=function(t,e){return t===e},m[g(0,0,0,1125)]=y(0,-106),m[y(0,-131)]=y(0,-60);const f=m;let v=!0;return function(t,e){const i=764;function s(t,e,i,s){return g(0,0,0,e- -932)}const n={ieDKd:f.rgdzm,WjdhO:function(t,e){return f.UpPrt(t,e)},NSxwK:f.uFwIa};if(!f.rTxTD(f[s(0,193)],f.hwbRi)){const o=v?function(){function o(t,e,s,n){return y(0,n- -943-i)}function a(t,e,i,n){return s(0,i-204)}if(a(0,0,l)!==n.ieDKd)return this[o(0,0,0,-294)][a(0,0,381)](_0x2cad64),this;if(e){if(!n[a(0,0,h)](n[o(0,0,0,-332)],n[o(0,0,0,-332)])){const i=e[a(0,0,d)](t,arguments);return e=null,i}_0x51827d[o(0,0,0,-272)]&&_0x282a02[o(0,0,0,-272)](this[o(0,0,0,-317)],_0x1af57e)}}:function(){};return v=!1,o}this[s(0,c)](_0x310229)}}()(void 0,function(){const t=698,i=788,n=807,o=809,a=232;function r(t,e,i,n){return s(n-a)}function c(t,e,i,n){return s(i- -593)}const l={};l[r(0,0,0,809)]="(((.+)+)+)+$";const h=l;return e[r(0,0,0,t)]()[c(0,0,-18)](h[c(0,0,-16)]).toString()[r(0,0,0,i)+"r"](e)[r(0,0,0,n)](h[r(0,0,0,o)])});function i(t,e,i,n){return s(e- -296)}function s(t,e){t-=447;const i=o();let n=i[t];if(void 0===s.joSBOx){var a=function(t){let e="",i="",s=e+a;for(let n,o,a=0,r=0;o=t.charAt(r++);~o&&(n=a%4?64*n+o:o,a++%4)?e+=s.charCodeAt(r+10)-10!=0?String.fromCharCode(255&n>>(-2*a&6)):a:0)o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(let n=0,o=e.length;n<o;n++)i+="%"+("00"+e.charCodeAt(n).toString(16)).slice(-2);return decodeURIComponent(i)};s.gWqruY=a,s.OVaGWw={},s.joSBOx=!0}const r=t+i[0],c=s.OVaGWw[r];if(c)n=c;else{const t=function(t){this.VROJEN=t,this.zqNQhL=[1,0,0],this.LfvZXM=function(){return"newState"},this.nXKVvC="\\w+ *\\(\\) *{\\w+ *",this.gKzWCg="['|\"].+['|\"];? *}"};t.prototype.BWxKfJ=function(){const t=new RegExp(this.nXKVvC+this.gKzWCg).test(this.LfvZXM.toString())?--this.zqNQhL[1]:--this.zqNQhL[0];return this.SDVrgm(t)},t.prototype.SDVrgm=function(t){return Boolean(~t)?this.TZDeGO(this.VROJEN):t},t.prototype.TZDeGO=function(t){for(let e=0,i=this.zqNQhL.length;e<i;e++)this.zqNQhL.push(Math.round(Math.random())),i=this.zqNQhL.length;return t(this.zqNQhL[0])},new t(s).BWxKfJ(),n=s.gWqruY(n),s.OVaGWw[r]=n}return n}e();class n{constructor(){const t=1165,e=1140,i=1231,n=1158,o=652,a={};function r(t,e,i,n){return s(i-o)}a.Rpqmr=l(-312,-232,-271)+"3";const c=a[r(0,0,t)][r(0,0,e)]("|");function l(t,e,i,n){return s(i- -840)}let h=0;for(;;){switch(c[h++]){case"0":this.ctx2d=null;continue;case"1":this[r(0,0,i)]=null;continue;case"2":this.context=null;continue;case"3":this[l(0,0,-347)]=[];continue;case"4":this[r(0,0,n)]=null;continue;case"5":this.use2D=!1;continue}break}}async init(t,e){const i=479,n=439,o=434,a=437,r=520,c=506,l=503,h=872,d=892,u=919,m=547,y=921,g=866,f=558,v=922,p=940,x=523,G=972,w=478,b=554,C=524,B=881,L=871,z=859,I=941,S=495,k=450,D=452,E=890,M=956,q=903,W=902,_=509,P=844,A=930,U=541,O=529,j=542,T=906,H=913,N=445,K=525,Y=465,J=850,Z=852,V=942,X=872,$=449,F=847,R=855,Q=879,tt=444,et=445,it=456,st=889,nt=926,ot=452,at=561,rt=517,ct=561,lt=492,ht=975,dt=886,ut={};function mt(t,e,i,n){return s(e- -14)}function yt(t,e,i,n){return s(e-396)}ut[mt(i,477)]="WebGPU not"+mt(n,o)+mt(520,r)+"rowser, falling back"+mt(c,l)+"2D",ut[yt(h,d)]="(((.+)+)+)+$",ut[yt(u,860)]=function(t,e){return t===e},ut.eppUQ=mt(0,m),ut[yt(0,y)]="TQqHN",ut[mt(0,f)]=yt(0,v)+yt(0,p)+"cure Context (HTTPS or localho"+mt(0,x)+yt(0,G)+yt(0,931)+"e.",ut[mt(0,w)]=mt(0,453),ut[mt(0,b)]=mt(0,C),ut[yt(0,B)]=yt(0,L),ut[yt(0,z)]="cFCLF",ut[yt(0,I)]=mt(0,536);const gt=ut;if(navigator[yt(0,935)])try{const t=await navigator[mt(0,K)].requestAdapter();if(!t)throw new Error(gt.gkImK);this[yt(0,W)]=await t[mt(0,Y)+yt(0,E)](),this.context=e.getContext(gt[mt(0,554)]),this.format=navigator[mt(0,K)][yt(0,900)+yt(0,J)+yt(0,945)](),this[yt(0,Z)][yt(0,V)]({device:this.device,format:this[mt(0,565)],alphaMode:mt(0,504)+yt(0,943)}),console.log(mt(0,510)+yt(0,X)+yt(0,T))}catch(ft){gt.ouFRC===gt[mt(0,$)]?_0x2f9f36[yt(0,F)](gt.gJDsS):(console.warn(yt(0,Q)+mt(0,tt),ft),this.use2D=!0)}else if(gt[mt(0,k)](gt.eppUQ,gt[yt(0,921)])){if(_0x36d4a0){const t=_0x3ef02b[yt(0,M)](_0x5d74f1,arguments);return _0x3fe886=null,t}}else window[yt(0,q)+mt(0,564)]?console[mt(0,a)](mt(0,_)+yt(0,P)+yt(0,A)+mt(0,U)+mt(0,O)+yt(0,H)+"2D"):console[yt(0,847)](gt.qxMYu),this[mt(0,N)]=!0;this[mt(0,et)]&&(this[mt(0,it)]=e[yt(0,916)]("2d"),console.log("Easter Eng"+yt(0,865)+mt(0,567)));for(const s of this[yt(0,st)]){if(gt[yt(0,I)]===yt(0,nt))return _0x24d22f[mt(0,ot)]()[mt(0,at)](mt(0,rt)+"+$")[mt(0,D)]()[mt(0,j)+"r"](_0x4d7808)[mt(0,ct)](XWzySh.aHwxt);!this[mt(0,et)]&&s[mt(0,S)]?await s[mt(0,S)](this[mt(0,lt)],this[yt(0,ht)],t):this[yt(0,R)]&&s.init2D&&await s[yt(0,dt)](this[yt(0,g)],t)}}[t(0,1174)](e){const i=1327;return this[(n=1306,t(0,n-197))][(s=i,t(0,s-213))](e),this;var s,n}[t(0,1115)](e){const i=542,s=548,n=421;function o(e,i,s,n){return t(0,i- -567)}function a(e,i,s,n){return t(0,e- -694)}for(const t of this[o(0,i)])t[o(0,s)]&&t[a(n)](e)}[t(0,1143)](e){const s=234,n=201,o=194,a=954,r=156,c=982,l=997,h=189,d=905,u=135,m=190,y=920,g=946,f=88,v=84,p=895,x=74,G=906,w=111,b=128,C=997,B=997,L=168,z=945,I=945,S=742,k={};function D(e,i,s,n){return t(0,n- -989)}function E(t,e,s,n){return i(0,e-S)}k.bAwRq=D(s,264,n,200),k[E(0,947)]=D(0,0,0,o),k[E(0,a)]=D(0,0,0,r),k[E(0,c)]=function(t,e){return t===e},k[E(0,l)]=D(0,0,0,h);const M=k;if(this[E(0,d)])if(M[D(0,0,0,135)]===M[D(0,0,0,u)])this[E(0,933)](e);else{const t={r:0,g:0,b:0,a:1},e={};e[D(0,0,0,m)]=_0x367b4f,e[E(0,y)]=t,e.loadOp=_0x4b3dbb,e[E(0,g)]=M[D(0,0,0,f)];const i={};i[D(0,0,0,v)+E(0,p)]=[e];const s=i,n=_0x3ac1e4[D(0,0,0,x)+E(0,G)](s);_0x25e13e.execute(n,_0x5435c1),n[D(0,0,0,w)](),_0x3e13c2=M[D(0,0,0,b)]}else M.hcgaj(M[E(0,C)],M[E(0,B)])?this[D(0,0,0,L)](e):_0x49378f[E(0,z)]&&_0x374dd6[E(0,I)](_0x13de36)}_renderGPU(e){const s=646,n=689,o=789,a=840,r=788,c=103,l=154,h=736,d=702,u=150,m=77,y=70,g=161,f=81,v=677,p=119,x=108,G=673,w=160,b=695,C=139,B=125,L=54,z=44,I=681,S=62,k=86,D=129,E=693;function M(t,e,s,n){return i(0,n- -107)}const q={kPZMM:"vGQyH"};q[A(737,755,780)]=M(0,0,0,50),q[M(0,0,0,125)]="store",q[A(s,n,710)]=A(o,a,r);const W=q;if(!this.device)return;const _=this[M(0,0,0,c)][M(0,0,0,l)+A(h,743,d)](),P=_[M(0,0,0,u)+M(0,0,0,m)]();function A(e,i,s,n){return t(0,s- -395)}for(const t of this.passes){if(W[M(0,0,0,70)]!==W[M(0,0,0,y)]){const t=_0xfb9456?function(){if(_0xcb49ec){const t=_0x2c76c9.apply(_0x55607e,arguments);return _0x5d49fd=null,t}}:function(){};return _0xae266d=!1,t}t[M(0,0,0,g)]&&t.compute(P,e)}P[M(0,0,0,f)]();const U=this[A(0,0,v)][M(0,0,0,p)+M(0,0,0,x)]()[A(0,0,G)]();let O=W[M(0,0,0,156)];for(const t of this.passes)if(t.execute){const i={r:0,g:0,b:0,a:1},s={};s[M(0,0,0,w)]=U,s[A(0,0,b)]=i,s[M(0,0,0,C)]=O,s[A(0,0,721)]=W[M(0,0,0,B)];const n={};n[M(0,0,0,L)+"hments"]=[s];const o=n,a=_[M(0,0,0,z)+A(0,0,I)](o);t[M(0,0,0,S)](a,e),a[A(0,0,705)](),O=W[M(0,0,0,k)]}this[M(0,0,0,c)][M(0,0,0,D)][M(0,0,0,168)]([_[A(0,0,E)]()])}[i(0,191)](t){const e=1078,s=1090,n=1023,o=1067,a=1057,r=991,c=1069,l=1034,h=1063,d=1115,u=1049,m=1021,y=1059,g=1085,f=1067,v={};function p(t,e,s,n){return i(0,s- -284)}v[p(52,-58,-15)]=p(-33,-91,-97)+"t failed:",v[p(-101,-143,-130)]="#050507",v[p(-105,-106,-59)]=function(t,e){return t!==e},v.NVFWH=G(1032,e,1052,1042),v[G(s,1029,n,o)]="NnJLq";const x=v;if(this[p(0,0,-110)]){this[p(0,0,-110)][p(0,0,-61)]=x[p(0,0,-130)],this[G(a,r,c,l)][G(1033,h,d,1076)](0,0,this[p(0,0,-110)].canvas.width,this.ctx2d[G(u,1046,m,y)].height);for(const e of this[G(0,0,0,a)])x[G(0,0,0,g)](x.NVFWH,x[G(0,0,0,f)])?e[p(0,0,-65)]&&e[G(0,0,0,1079)](this[p(0,0,-110)],t):(_0x24090e.warn(x[p(0,0,-15)],_0x41c928),this[G(0,0,0,n)]=!0)}function G(t,e,s,n){return i(0,n-860)}}}function o(){const t=["B0Hxr0y","yxbWBhK","z0jfqw0","BgnfuK8","DMLLDW","y29TChv0zq","DNLru2m","CxHLtuu","Bg9Hza","ywHKy3y","nhWYFdb8mxW1Fa","CLr4veq","C3vIBwL0","CxHnwxu","C3rVCMu","ndqWodeYANDOt2fJ","C2vHCMnO","BNqGB3jPz2LUia","DwnXEMe","BNrLEhq","zM9YBwf0","odu3otC2vgHAqNDi","CZjeie9UBgLUzq","yMvNAw5szw5Kzq","ihn1ChbVCNrLza","Ag1LBNrZ","veXIvfC","D2fYBG","y3jLyxrLvMLLDW","y2XLyxi","zwrdyw52yxngBW","tLn4D0S","y29UDgv4Da","y29SB3jbDhrHyW","DcbMywLSzwq6","DxnLmKq","CLbHC3m","yKf3uNe","ndeYnJm1me9Xqvv3uq","s2DctMm","yLfrr3K","zxHLy3v0zq","Dg9tDhjPBMC","tM8GywrHChrLCG","nvv0swTRBG","Aw5LoIbdyw52yq","y3r4mMq","mZG5ndKZm0zRDxHWvW","zMLUAxnO","A1bAtu0","y2XLyxjwywX1zq","CKz2rLC","Aw5LoIbxzwjhua","AhDIuMK","zLDhru8","CMvXDwvZDerLDG","DgvqyxnZ","yw5Krw5JB2rLCG","Duz3swe","v2vIr1bvigLUAq","zw5K","B3vguKm","ndvezerjufq","x3jLBMrLCJje","C3bSAxq","DMnryvi","Aw5PDdje","z0PeC1m","z2TjBuS","CgfZC2vZ","AwnL","y2fUDMfZ","yuH3Ehq","ndC0thbdq1ri","ChvZAa","CMvZAxPL","C3rVCMvpCa","wgjoCMq","uNjuEgq","yLHiCfO","z2v0uhjLzMvYCG","v2PKAe8","zgv2AwnL","Axntzwn1CMvdBW","vM5AEee","Aw5PDa","vsbpBMXPBMu","vgv4DhvYzq","zMLSBfjLy3q","uNbXBxi","y2L3wK0","zxHLy3v0ztje","mteYnfPWCvPMtG","ihrVienHBNzHCW","ChjLBxvSDgLWBa","zMLSBfn0EwXL","z2v0q29UDgv4Da","u3D5shO","z2v0q3vYCMvUDa","v2vIr1bvig5VDa","rwfZDgvYievUzW","rhjVuxy","v2vIr1bvihjLCq","DxbKyxrL","qwrwueO","CenyENy","ChrSEhO","kcGOlISPkYKRkq","CxvLDwu","mJy2nJy0DLb6suLx","igj5ihrOAxmGyG","AxmGAw5Zzwn1CG","AgnNywO","C3qPlIbJDxjYzq","D2vIz3b1","z3b1","CMDKEM0","x3jLBMrLCKDqvq","Bg9Hze9W","BgXPBMCGyMfJAW","DwLYzxmGysbtzq","sLvLrvG","y29UzMLNDxjL","AwvK","ELPOr3e","CM1HDa","vgvOz1m","v21ks0i","mtyYnZeWodbMr0PpAvK","yMvNAw5dB21WDq","vxbqCNq","CM93C2vYlcbMyq","y29UC3rYDwn0BW","y3jLyxrLq29TBq","ywrKugfZCW"];return(o=function(){return t})()}function a(){const t=["zxHLy3v0ztje","y29SB3iGpsbTAq","Bw9Tzw50Dw0","CwnusNi","icaGicbWmJOGzG","BNnPDhK7cIaGia","zgv4oIb1mZiPia","BMnLkhv2icOGyq","swrZtvu","yNvZEuLUDgvUCW","lJa7cIaGicaGia","icbWmZOGzJmYla","zIa9igv4CcGTza","icaGicaGBgv0ia","DcbJDxj2zv9HBq","ksaTpIbMmZiGEW","Bgv0igfZCgvJDa","vgHLieDYzwf0ia","z2XVDYa9igv4Ca","DgfUy2uODxySia","AgfZAcHPicSGDG","BhnLoWOGicaGia","DwL2BKi","ic0GCY5WB3mPia","CMLNAw47cIaGia","lJuPihSkicaGia","icOGDMvJmJXMmW","zMvY","uhvSC2u","DYa9igv4CcGTza","B2XVCIWGzM9NxW","B3C7cIaGicaGia","zJmYpIWkicaGia","Chv0oIbwzxj0zq","Ee91Dhb1Dcb7cG","Cgf0Aa","CIWGC21VA2vFyW","AxnpDMvYBgf5qq","BM9Kzv9NBg93oW","v3f1ywu","igyZmIWkicaGia","yNnNDwS","uLvtwKq","icaGicaGqgDYBW","CNvJDcbvBMLMBW","y3rPDMukicaGia","DcbeyxDU","ktSkicaGicaGia","yw4Gu3DLzxa","BgvUz3rOkgrPCG","CM1ZihSkicaGia","q1LOwgW","B3iGkIaOyM9Uza","cGOGicaGicaGia","mcaRig1VBwvUDa","icbSzxqGAsa9ia","ysaQigGGkYbWxW","kde1lJaGlYbZlG","thPkuge","zxr1CM4GzNjHyW","AgiGpIaWlJaXia","icaGiaOGicaGia","DxrWDxqGEWOGia","CKTuEMy","CNzLx2zYzxeGpq","zgLZDf90B19MCG","mIWkicaGicaGia","icbPzIaOyNvZEq","DcaQidaUmYKPia","yM9Zrvq","yIa9ihvUAwzVCG","Bwzdq0u","DMvJmJXMmZi+ka","CMDLid0GC2LUka","icaGicaGqgXVyW","yufeswq","igXLDcb1DIa9ia","ody4mtG4nLvzu0T1tq","ienSzwfYidyWjq","Ee91Dhb1DdSkia","ihvUAwzVCM1ZoG","icaGicbYzxr1CG","B3jTid0GBM9YBq","AgfWzxnBAv07cG","r3jVDxa","y29UC3rYDwn0BW","zwmYpgyZmJ4ScG","yxbWBhK","B2nHDgLVBIGWkq","zMXVB3i","D2LKDgG","DxqUDxyGpsbWBW","laOGicaGicaGia","Bwf4u2HHCgvZ","icbMBIbUB2LZzq","ywXPEMuODMvJmG","zsaRpsbUB2LZzq","DxjHBcbcB25KCW","BwfPBIHayNvPBa","mJ4OyxnWzwn0la","ncaQigj1C3KGkG","ywn0AxzL","icaGicaGFqOGia","CgX5tMu","BLjuqwi","ih0kicaGicaGia","BL92zxj0zxHFAq","Cen6tNy","icaGicbSzxqGyW","CgLWzwXPBMu","y3jLyxrLqMLUza","icaGicaGicaGia","BxmUAgvHCNrIzq","DxaOmcKGqgjPBG","pcaTmc41ksb7ia","Ew5HChrPyYbcBW","tg1cBNO","ihvUAwzVCM1ZlG","z2LUid0GDw5PzG","zuLwyLO","icaGicaGihjLDa","Axr5","wvLfDfm","DwLjBNrLBNnPDa","AhrsAu8","Cg9Zid0GyxjYyq","lcbMB2DFBM9PCW","y3jLyxrLqNvMzG","C19TywLUkgLUoG","icS9ihzLyZm8zG","C3LFAw50zw5ZAq","zgvzz1q","oWOGicaGicaGia","u0vUCfi","icbSzxqGy2vUDa","lJySideUmcKGkG","Dg9tDhjPBMC","zgv2AwnL","mZi+ksaTpIbMmW","lJaPicOGmc40oW","C3bLy3rFDMvJla","zJmYpIGWlJuSia","icb9cGOGicaGia","zxHLy3v0zq","DgfYz2v0vuLjBG","Dwn0ifnOyxbLia","uKXHwge","cIaGicaGihn0CG","icbMB3iGkhzHCG","DgvYicOGDMvJmG","B25KCW","CY50Aw1LoWOGia","q2vjy1y","id0GBwL4khmUyW","DcaQidqUmcaTia","ic8VidiUiejHCW","ChvZAa","Chv0oWOGicaGia","q09qwv9eu1q","r2XVDWOGicaGia","ywn0B3iPoWOGia","igfUzcbwB2X1Bq","DhK6igyZmIWkia","lNaYktSkicaGia","Cca9idaUmdeGkG","zNjHz21LBNq","zwn0lcaXlJaPoW","id0GDMvJmJXMmW","icaGigXLDcbZDq","icaVlYa0yI4Gra","CIaQignVBMvFAq","Dw5PzM9YBuj1zG","DNnFBwfPBG","icaGigzUihzZxW","Bw91C2u","s1jrD2q","tuPYEey","icakicaGicaGia","ihzLyZi8zJmYpG","icHtEw5HChnLCW","DcbVzIbTB3rPBW","lt4GvMvYDgv4tW","CNzLx2zYzxeSia","rMfmquC","BMXjAKu","vgHLiev2zw50ia","zwfYDgjLyxqGzG","x25VAxnLicS9ia","qMPmzKC","kha6ihzLyZi8zG","y29Uzv9PBNrLBG","icbMB2DFBM9PCW","icaGigXLDcb1ia","y2vUDgvYx2DSBW","FtSkicaGicaGcG","igXLDcbJzw50zq","Aw9MCeq","u3z4Eg0","ndq0otu5mtbxze5zu3i","idaUnsaRidaUnq","wwjZyNC","Axn0x3rVx2zYyq","zxHWkc1KAxn0xW","C0LUAxrPywXPEG","BMLMB3jTCY53Aq","BhvLieXPz2H0ia","DgfYz2v0CW","ic8VidrJlIbozq","zw50CNLqB2LUDa","D3jPDgvcDwzMzq","AxrPB24PihbVCW","ig1VBwvUDhvToG","BufUD0i","od4ScIaGicaGia","AxrPB246ihzLyW","C2L6zsKPicOGma","zsbeyxjRBMvZCW","yMLUzeDYB3vW","zfrczMm","icaGicaGAwyGka","CMfUzg9T","zwXgCvO","BgfZDfrYAwDNzq","u2f6Bfi","ihnPBIHOicOGmW","y2L0EsaQicGXlG","EtX2zwmYpgyZmG","psbMicOGzIaQia","nuD6B0nfDG","lcbIysKSidaUma","BIbTAxGOBwL4ka","qMfZzsboB2rLia","x2zHy3rVCIa9ia","Cg9Zic0GB3jPzW","icaGcIaGicaGia","lJe0mtu5ktSkia","BgfZDeHc","B3CGpsbLEhaOlq","idaUnYWGms4Wkq","C2nYAxb0CW","CvHsqxe","x3zLCNrLEf9PBG","DgvUC2L0Eq","ieXPz2H0ienVBG","idaUnJSkicaGia","ksa+idaUmsKGEW","x25VAxnLid0Gma","ChfwC0m","zwm7cIaGicaGia","zYaQicG4lJaGlW","vMDXr3O","CeX6qKW","icaGicbSzxqGDa","DKzktfi","CY5JB2XVCIaQia","icaGicaGcIaGia","lJaSidaUmcKPla","zf9ZAgfWzsaQia","zxrYAwmGu21VAW","ignLBNrLCL9WDq","rKztvMK","y2vUDgvYid0Gza","zxqGyMeGpsbZlG","vNztuKy","yuLrB1m","icaGigXLDcbJDq","zJmYpIHWB3nBAq","sxvRzfK","yM9Uzf9PBNrLBG","DxbmyxLVDxq","laOGicaGicb9oW","wfj2u0i","Dw5PzM9YBxmUCW","zKrVDee","AgiGkIaWlJqGkW","Bgf0yw0","ysa9ihv2ic0GBW","Bw9KDwXL","zM9Nx2zHy3rVCG","y3rPDMu","vfbbs24","AwXfDui","icaGicaGDMfYia","Ef9PBMrLEf0GkG","icaGigXLDcbKxW","CMv0DxjUig91Da","DdSkicaGicaGia","AvniCuW","C1TPBL92zxj0zq","pIGWlJaXlcaWlG","sen6wvq","igXLDcbIB25KxW","mdeSidaUmdiPoW","yMDMqLy","D0fIwfi","q0TezgG","zxqGC21VA2vFyW","BMrLEf0SidaUma","uwrduLm","nJyZotKXmNLLtMvvuW","DxnHz2u","z093vhO","wK9Yshe","B3jTCY5ZAgfWzq","icaGig9WywnPDa","qvbMqKu","vNPlwLO","id4Gmc4WmdePia","sw50zw5ZAxr5","pIWGnd4OcIaGia","BM9YBsaQigzSBW","ksb7cIaGicaGia","C2v0qMLUzeDYBW","icaGihbHCMvUDa","icaGicbSzxqGCa","B3jTCY5OzwLNAa","rMv5EuO","svHrAvu","zNHMDKu","C3bLy3rFDMvJkq","mtuUmcKGkIaWlG","zsaQidaUosaQia","icaGicaGicb2yq","icOGmc43ktSkia","zgLZDca9igrPCW","rKv1BxG","FtSkcIaGicaGia","mJ4Omti3lJeSia","EsbJDxj2zsbKAq","icaGicaGCdi6ia","kIaWlJyPoYaVlW","icaGicaGicbSzq","y29SB3i","yxnWzwn0id0GDq","zNHxyNK","icO9icGXlJaGlq","CJX1BMLMB3jTpG","psb1BMLMB3jTCW","su1Pr0q","q29Ty3q","zg90khbHlcbIyq","icaGicakicaGia","cGOGicaGicbZDa","u3bcEwe","C190Agv0ysK7ia","BMrZigfUzcbxyq","C2vHCMnO","C3rHCNruAw1L","yKTTEvK","zM9YrwfJAa","q1ntD3i","ideUmcKSignLBG","lcaWlJyPoWOGia","BgvUz3rO","icaGihaWoIbMmW","zgLUzYGWksb2yq","icaGihrPBwu6ia","icaGicaGicbWmq","C2v0ugLWzwXPBG","B1fUEKy","C1TPmZiOCY5Wyq","u3bvsLe","ms4WlcaWlJaPkq","y3qSideUmcKPoW","AfjZDLy","zMXVB3iOCcK7cG","ndXMmZi+laOGia","mZXMmZi+kdaUma","ig9MigzVzYb3Aa","BLrQA3u","CgfYzw50swr4","wNzwD3q","Aw47cIaGicaGia","x2LKEca+psaTmq","y29Zx3rOzxrHia","x2LUzgv4ksbPBG","AgvHCNrIzwf0sq","icaGicbJB2XVCG","BIKkicaGicaGia","ndK4otm5nLnIy1nrsq","B25KcIaGicaGia","B2zOzxG","D19UB2LZzsK7cG","sLnktMq","zxjqAxbLBgLUzq","yM9Uzf9JB2XVCG","DJOGDMvJmJXMmW","ANnzv0q","CNrIzwf0oIbMmW","iZa1mduWnW","x2nLBNrLCIaQia","AKP1uLq","ihmUC2L6zsKPoW","q0jmBvG","oIbMmZiScIaGia","icaGlY8GngeUia","DhjPyw5NBguTCW","ksWGDs54ksWGDq","tu13wwe","y2fSy3vSyxrLqG","icbSzxqGCYa9ia","mc41ktSkicaGia","Aw5WDxq","zMLSBfjLy3q","C3bSywnLBwvUDa","BM9PC2uODxyGkG","Dg9WB2XVz3K","kdmUmcaTidiUma","vhL4txy","DuL1u00","uu1YtLy","y0riC3u","y29Kzq","mZyGkIbMB2DFzG","rhngDKy","q0Xprgy","DMvJmJXMmZi+oW","B2zMicOGmc4Xnq","BNrLBNnPDhK","BMLcqMS","zJmYlaOGicaGia","mJXMmZi+kc0XlG","otGXmtb3A1jiCw8","x2nVCMuGkIaYlG","mZi+kdeUmcWGmq","icaGicaGicaGBa","icaGFqOkicaGia","rhb5v00","kcGOlISPkYKRkq","zxjnB2r1Bgu","BhH0zM8","icbTB3vZztOGDG","kc1KAxn0x3rVxW","cIaGicaGicaGCG","icOGzIK7cIaGia","Chv0lNbVC2L0Aq","zw4GvuKGAxmGyq","zNnFBwfPBG","BKXRChq","CguGpsbKAxn0yq","zsKGkIbIB25KxW","CgLxvKK","DgLUkhzLCNrLEa","mtiXntLHD3P6zvm","Dw1FyM9VC3qPoW","y3jLyxrLuMvUza","rMTqCNu","qgzYywDTzw50cG","C2HHCgvZ","yM9UzcaQidiWma","Axr5oIbMmZiScG","mcaRigjVBMrFzW","uufAy0y","s1PVwKq","Bw1LCG","iaOGicaGicaGia","igKGpsaWoYbPia","icaGicaGicbIDq","lcbOyxnOkgKGkW","kqOGicaGicaGia","q0rJDhO","pgyZmJ4Omc4Wla","wg5Xt3C","zsaOsw4GzNjVBG","ksaVigrVDcHIyq","DMvYDgv4","B24Gpsb2zwm0pa","DcHZAw4Ozg90ka","BMrLCMLUzYboBW","mJ4OCY5WmsWGCW","BwvUDhvTicOGAa","ChjPBwL0AxzL","cIaGicaGicaGia","ALnSvNC","zhrOic8GDw5PzG","zwmYpgyZmJ4Oma","pIGTms4WlcaXlG","DxbKyxrLu2HHCa","EhfUv2W","mta2nda4mdvzB0DQtKO","DgfYz2v0qNvZEq","C2L6zq","igXLDcbMBg93xW","mZi+kgGGkIbJDq","B3jPz2LUicSGyG","x3zLyYa9ihzLyW","Aw50zw5ZAxr5oW","BM9PC2uGpsbUBW","DxjUihzLyZq8zG","C3LZDgvTqNvZEq","icaGAgvPz2H0oG","icaPoWOGicaGia","BNrLBNnPDhKGkG","icaGDMfYigzVzW","zMLSDgvY","yurewxG","icbSzxqGDwKGpq","BIa9ignLBNrLCG","nxDOwLPmzW","icaGD2LKDgG6ia","rgfRv2q","Aca9ignSyw1Wka","B2CGtgf5zxiGka","mZi+kdaUmcWGma","B2XVCIWGDMvJmW","icaGih0GzwXZzq","Axn0yw5JzsH1DG","mcWGlteUmcKScG","zNjHzYa9icH1DG","zgvZcIaGicaGia","BMrFy29Yzsa9ia","veTsBK4","B3bHy2L0Eq","mIb7cIaGicaGia","CeDNueK","vu5jrK9stq","s3Hdru8","uerSCMq","ExrSDM0","z1zfB0G","icaGicaGigHLyq","y3jLyxrLu2HHza","ihmUCg9ZicOGyq","C2L0Esa9ihnTBW","mZeYmYK7cIaGia","EWOGicaGicaGia","idaUmdiPicOGma","icaGCdm6igyZmG","ignVBMvFzMfSBa","icaGignVBg9Yia","yu9yy0S","idyUmcaTihqGkG","B2XVCIaQidaUmW","CIbVCMLNAw46ia","Egz3vMq","jIyGCY5VCgfJAq","B2XVCIa9ihzLyW","ideUmcK7cIaGia","mcKScIaGicaGia","icb2zwmYpgyZmG","Chv0ksaTpIbaBa","igvKz2vFzgLZDa","pgyZmJ4OyxnWzq","pgyZmJ4OlwjHlG","ihSkicaGicaGia","yxq7cIaGicaGia","C2nYzwvU","y29UBMvJDgLVBG","kIbJDxj2zv9HBq","icaGicaGig1PEa","DwLFAw50zw5ZAq","z2v0AwmGC3vYzW","zM4GAgfZAcHWoG","icaGy29SB3iGkW","lY8Gq2vUDgvYia","psb2zwmZpgyZmG","icS9ihmUy29SBW","BMfTzq","EtOGzJmYlaOGia","AhLWB3q","yIaQidaUndSkia","AgvPz2H0","C3K7cIaGicaGia","id4Gmc4XicyMia","twP6ALa","ifvUAwzVCM1ZoW","igXLDcbKx3nOyq","DcbKAxn0x3rVxW","kYb0icOGmc4Wnq","DhK7cIaGicaGia","B3DLCIWGzw5LCG","idiUmdSkicaGia","zhvYyxrPB24","r21czge","EgP0A0S","icaGicbSzxqGBq","Cxnxzfq","mtOGzJmYlaOGia","lcaXlJaPoWOGia","icaGlY8GrMXVDW","s0jis2q","igHHC2GOAsaRia","CxLmCxa","ywXPEMuODg9FzG","mJi2ng56zMvAvG","tgLrCfa","nYWGms4WlcbJBW","CdSkicaGicaGia","nsWGmc4WnYWGma","BM9PC2uGkIaWlG","AcaQidyUmcKGkG","icaGicaGicb9cG","ih0kcIaGicaGia","CcWGDMvJmJXMmW","CNvJDcbwzxj0zq"];return(a=function(){return t})()}function r(t,e,i,s){return l(i-199)}function c(t,e,i,s){return l(i-482)}function l(t,e){t-=207;const i=a();let s=i[t];if(void 0===l.MKgZUK){var n=function(t){let e="",i="",s=e+n;for(let n,o,a=0,r=0;o=t.charAt(r++);~o&&(n=a%4?64*n+o:o,a++%4)?e+=s.charCodeAt(r+10)-10!=0?String.fromCharCode(255&n>>(-2*a&6)):a:0)o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(let n=0,o=e.length;n<o;n++)i+="%"+("00"+e.charCodeAt(n).toString(16)).slice(-2);return decodeURIComponent(i)};l.VsXauV=n,l.vKEteI={},l.MKgZUK=!0}const o=t+i[0],r=l.vKEteI[o];if(r)s=r;else{const t=function(t){this.JOnaOo=t,this.FnMeBk=[1,0,0],this.VouCwz=function(){return"newState"},this.gFfjZG="\\w+ *\\(\\) *{\\w+ *",this.urHmTs="['|\"].+['|\"];? *}"};t.prototype.PyMLBw=function(){const t=new RegExp(this.gFfjZG+this.urHmTs).test(this.VouCwz.toString())?--this.FnMeBk[1]:--this.FnMeBk[0];return this.dqmNVK(t)},t.prototype.dqmNVK=function(t){return Boolean(~t)?this.uVGZXd(this.JOnaOo):t},t.prototype.uVGZXd=function(t){for(let e=0,i=this.FnMeBk.length;e<i;e++)this.FnMeBk.push(Math.round(Math.random())),i=this.FnMeBk.length;return t(this.FnMeBk[0])},new t(l).PyMLBw(),s=l.VsXauV(s),l.vKEteI[o]=s}return s}!function(){const t=1213,e=743,i=1094,s=1538,n=1387,o=1194,r=905,c=764,h=1508,d=744,u=a();function m(t,e,i,s){return l(e-350)}function y(t,e,i,s){return l(i-d)}for(;;)try{if(916289===-parseInt(y(0,0,t))/1*(-parseInt(m(0,e))/2)+-parseInt(y(0,0,i))/3+-parseInt(m(0,620))/4+-parseInt(y(0,0,s))/5*(-parseInt(y(0,0,n))/6)+-parseInt(y(0,0,o))/7+parseInt(m(0,r))/8*(-parseInt(m(0,c))/9)+parseInt(y(0,0,h))/10)break;u.push(u.shift())}catch(g){u.push(u.shift())}}();const h=function(){const t=1198,e=436,i=83,s=210,n=11,o=690,a=760,r=558,c=458,h=97,d=115,u=355,m=241,y=351,g=414,f=239,v=54,p=196,x=196,G=1284,w=564,b=909,C=286,B={};function L(t,e,i,s){return l(s- -341)}function z(t,e,i,s){return l(i-C)}B[L(308,112,41,267)]=function(t,e){return t<e},B[z(827,t,1004)]=function(t,e){return t*e},B[z(623,e,521)]=function(t,e){return t+e},B[L(0,0,0,s)]=function(t,e){return t-e},B[L(0,0,0,i)]=function(t,e){return t+e},B.CYhXl=function(t,e){return t*e},B.VgqGz=L(0,0,0,n),B.iofpD=function(t,e){return t===e},B.lxtfo=z(o,a,r);const I=B;let S=!0;return function(t,e){const i=204,s=69,n=1064,o=649,a=414,r=140,C=37;function B(t,e,i,s){return z(0,0,t- -833)}function k(t,e,i,s){return L(0,0,0,e-C)}const D={IdsMU:function(t,e){return I[(i=b,l(i-358))](t,e);var i},LmBnz:function(t,e){return I[(i=w,l(i-r))](t,e);var i},nlIjE:function(t,e){return I[(i=G,l(i-667))](t,e);var i},bKmyY:function(t,e){return I[(i=o,l(i-a))](t,e);var i},FEumx:I[k(0,-83)]};if(I[k(0,c)](I[k(0,h)],I.lxtfo)){const o=S?function(){const o=43,a=1198,r=987,c=928,h=1141,d=391,u=1443,m=965,y=490,g={mAnwB:function(t,e){return D[(i=n,l(i-y))](t,e);var i},oLEvy:function(t,e){return D[(i=m,l(i-283))](t,e);var i},YYEtS:function(t,e){return D[(i=s,l(i- -681))](t,e);var i},KxCEO:function(t,e){return t<e},FhraF:function(t,e){return D[(i=-256,l(i- -575))](t,e);var i}};function f(t,e,s,n){return k(0,e-i)}function v(t,e,i,s){return k(0,s- -423)}if(e){if(D[f(0,p)]===D[f(0,x)]){const i=e.apply(t,arguments);return e=null,i}{const t={_0x169824:776,_0x5d64f3:1287,_0x2a5fd1:1029,_0x1f4c99:1113,_0x384875:1038,_0x36b8c0:863,_0x5acec7:963,_0x2f9e7c:788,_0x223b22:1097,_0x5f18c5:1141,_0xe334ef:982},e={_0x1beb97:1639,_0x215b1b:1545,_0xc9c2f8:1342,_0x3687d5:1496},i={_0xc51c11:385,_0x5b5623:424,_0x447b3f:1392},s={CBLmX:function(t,e){return g[(s=u,v(i._0xc51c11,0,i._0x5b5623,s-i._0x447b3f))](t,e);var s},jsYWD:function(t,e){return g.oLEvy(t,e)},THmGY:function(t,i){return g[(e._0x1beb97,s=e._0x215b1b,e._0xc9c2f8,e._0x3687d5,f(0,s-957))](t,i);var s},fxfvE:function(t,e){return g[(i=d,v(0,0,0,i-631))](t,e);var i},SpUJQ:function(t,e){return t>e},fDotA:function(t,e){return g.FhraF(t,e)}};this[v(0,0,0,-308)][v(0,0,0,-407)]((e,i)=>{function n(t,e,i,s){return f(0,s- -413)}function l(t,e,i,s){return v(0,0,0,s-1300)}s[n(65,o,-9,-181)](e[l(a,r,c,h)],0)||this[n(0,0,0,-94)].forEach((o,a)=>{function r(t,e,i,s){return l(0,0,0,i- -1400)}if(0===o.momentum||i===a)return;function c(t,e,i,s){return n(0,0,0,i-1012)}const h=_0x2f948e[c(t._0x169824,t._0x5d64f3,t._0x2a5fd1)](e.x-o.x,s[c(t._0x1f4c99,t._0x384875,t._0x36b8c0)](e.y,o.y)),d=s[r(0,0,-469)](.25,s.THmGY(o.momentum,.1));s[c(t._0x5acec7,0,t._0x2f9e7c)](h,d)&&s[r(0,0,-495)](e[c(t._0x223b22,t._0x5f18c5,t._0xe334ef)],.2)&&(e.momentum=s[r(0,0,-583)](o[r(0,0,-259)],1),e[r(0,0,-486)]=a)})})}}}:function(){};return S=!1,o}if(I[B(61)](this[k(0,d)].length,this[k(0,u)])){this[B(m)+"r"]=_0x338e30;const t=this[B(-337)][_0x2063c5[k(0,y)](I[k(0,g)](_0x50cd8f[B(f)](),this[B(-337)].length))];this[B(-128)].push({...t,size:t.size*I[B(-312)](.8,1.5*_0x2e4dde[k(0,482)]()),startTime:_0x1bfbcd,opacity:0,active:!0,x:t[B(v)].x1,y:t[k(0,297)].y1})}}}()(void 0,function(){const t=98,e=47,i={};i[o(-554,-646,-821,-670)]=o(-748,-643,-434,-536)+"+$";const s=i;function n(t,e,i,s){return l(i- -604)}function o(t,e,i,s){return l(s- -935)}return h[n(0,0,98)]().search(s.wAbXR)[n(0,0,t)]()[n(0,0,e)+"r"](h).search(s[o(0,0,0,-670)])});h();class d{constructor(){const t=145,e=121,i=572,s=590,n=74,o=592,a=403,r=681,c=45,h=506,d=579,u=506,m=430,y=521,g=467,f=506,v=347,p=188,x=665,G=257,w=688,b=139,C={};function B(t,e,i,s){return l(s- -630)}C[B(80,-302,-362,-218)]=B(131,-222,-73,-47)+"Highland",C.BTxbz=B(-75,t,381,e)+M(i),C[B(-478,-510,-137,-300)]="The Distan"+M(s),C[B(121,-354,n,-141)]="Neural Drift",C[M(347)]="The Obsidi"+M(o),C[B(0,0,0,-249)]="Shadow Gli"+M(a);const L=C;this[M(r)]=null,this[B(0,0,0,c)]=null,this["uniformBuf"+B(0,0,0,-37)]=null,this.bindGroup=null,this[B(0,0,0,-211)]=[],this[B(0,0,0,29)]=8;const z={x1:-.8,y1:.8,x2:1.8,y2:.7},I={};I[M(h)]=L.piWVI,I[B(0,0,0,-178)]=1.8,I.color=[.8,.7,.9],I.duration=25,I[M(d)]=z;const S={x1:1.2,y1:.2,x2:-.2,y2:.8},k={};k[M(u)]=L.BTxbz,k[B(0,0,0,-178)]=.9,k[B(0,0,0,-327)]=[0,.9,1],k.duration=12,k[M(d)]=S;const D={x1:.5,y1:1.5,x2:.6,y2:-.5},E={};function M(t,e,i,s){return l(t- -22)}E[B(0,0,0,-102)]=L[M(308)],E[M(m)]=2.5,E.color=[.9,.8,.6],E[M(y)]=40,E.path=D;const q={x1:-.3,y1:-.2,x2:1.3,y2:1.2},W={};W[M(506)]=L[M(g)],W[M(430)]=.7,W.color=[.7,1,.8],W[B(0,0,0,-87)]=15,W.path=q;const _={x1:-.5,y1:.3,x2:1.5,y2:.3},P={};P[M(f)]=L[M(v)],P[B(0,0,0,-178)]=1.2,P.color=[.6,.7,1],P.duration=20,P.path=_;const A={x1:.8,y1:1.2,x2:.2,y2:-.2},U={};U[B(0,0,0,-102)]=L.QMrNV,U[B(0,0,0,-178)]=.5,U.color=[1,.8,1],U[B(0,0,0,-87)]=8,U[B(0,0,0,-29)]=A,this[M(p)]=[I,k,E,W,P,U],this["busyIntens"+M(x)]=0,this[B(0,0,0,-179)+M(G)]=0,this.uiIntensity=0,this[M(w)+"tensity"]=0,this[B(0,0,0,-423)]=0,this["connection"+B(0,0,0,b)+"ed"]=!1}async init(t,e,i){const s=53,n=220,o=335,a=120,r=222,c=153,h=92,d=122,u=82,m=19,y=15,g=320,f=132,v=140,p=194,x=31,G=201,w=77,b=173,C=303,B=187,L=372,z=244,I=202,S=157,k=264,D=363,E=246,M=196,q=16,W=295,_=282,P=71,A=133,U=86,O=176,j=269,T=389,H=347,N=370,K=128,Y=260,J=289,Z=398,V=271,X=254,$=318,F=421,R=139,Q=83,tt=163,et=195,it=209,st=307,nt=143,ot=88,at=381,rt=286,ct=0,lt=126,ht=407,dt=422,ut=361,mt=184,yt=237,gt=101,ft=385,vt=383,pt=290,xt=325,Gt=130,wt=161,bt=34,Ct=367,Bt=65,Lt=20,zt=405,It=415,St=11,kt=39,Dt=228,Et=243,Mt=322,qt=58,Wt=64,_t=27,Pt=239,At=103,Ut=213,Ot=203,jt=255,Tt=120,Ht=203,Nt=186,Kt=178,Yt=380,Jt=67,Zt=298,Vt=67,Xt=360,$t=12,Ft=164,Rt=257,Qt=191,te=67,ee=67,ie=1,se=308,ne=301,oe=214,ae=423,re=59,ce=419,le=301,he=66,de=138,ue=18,me=78,ye=116,ge=79,fe=165,ve=344,pe=392,xe=329,Ge=424,we=376,be=355,Ce=67,Be=262,Le=7,ze=24,Ie=327,Se=327,ke=317,De=300,Ee=299,Me=361,qe={};function We(t,e,i,s){return l(s- -933)}qe[We(0,0,0,-264)]="auto",qe[We(0,0,0,-702)]=We(0,0,0,-195),qe[We(0,0,0,-428)]=Te(-9)+"trip";const _e=qe;this[We(0,0,0,-230)]=t;const Pe=We(0,0,0,-220)+Te(o)+Te(a)+"pos: vec2<"+Te(r)+We(0,0,0,-658)+Te(c)+"      size"+We(0,0,0,-568)+"     color: vec3<f32>,\n       "+We(0,0,0,-156)+We(0,0,0,-327)+We(0,0,0,-649)+"_idx: f32,\n        p"+We(0,0,0,-385)+We(0,0,0,-633)+"f32,\n     "+Te(d)+Te(-135)+Te(-63)+We(0,0,0,-323)+We(0,0,0,-317)+Te(-49)+We(0,0,0,-542)+We(0,0,0,-463)+Te(y)+We(0,0,0,-472)+Te(230)+We(0,0,0,-608)+"2, \n      "+We(0,0,0,-531)+We(0,0,0,-281)+We(0,0,0,-505)+Te(g)+We(0,0,0,-205)+We(0,0,0,-442)+Te(-17)+We(0,0,0,-301)+" ui_intens"+We(0,0,0,-512)+We(0,0,0,-605)+": f32,\n   "+Te(p)+"32,\n      "+Te(G)+"\n        shapes: array<Shape, "+We(0,0,0,-154)+We(0,0,0,-173)+We(0,0,0,-324)+Te(C)+We(0,0,0,-607)+Te(-69)+We(0,0,0,-287)+We(0,0,0,-397)+We(0,0,0,-620)+Te(189)+Te(224)+"        @builtin(pos"+We(0,0,0,-157)+Te(404)+We(0,0,0,-596)+Te(k)+"ation(0) u"+We(0,0,0,-576)+"2>,\n      "+We(0,0,0,-636)+"@vertex\n  "+Te(D)+We(0,0,0,-269)+We(0,0,0,-520)+Te(-30)+We(0,0,0,-721)+Te(M)+We(0,0,0,-186)+We(0,0,0,-305)+Te(-123)+We(0,0,0,-242)+Te(416)+We(0,0,0,-653)+"       vec"+Te(q)+We(0,0,0,-455)+We(0,0,0,-256)+We(0,0,0,-295)+"1.0, -1.0)"+Te(_)+We(0,0,0,-423)+Te(P)+Te(A)+"    vec2<f"+Te(m)+".0)\n      "+Te(U)+"   var out"+(We(0,0,0,-334)+Te(j))+"       out"+We(0,0,0,-527)+We(0,0,0,-496)+We(0,0,0,-696)+We(0,0,0,-261)+We(0,0,0,-665)+Te(b)+"      outp"+We(0,0,0,-276)+We(0,0,0,-674)+Te(-122)+Te(T)+";\n        "+Te(-120)+Te(H)+We(0,0,0,-370)+We(0,0,0,-410)+We(0,0,0,-189)+We(0,0,0,-352)+We(0,0,0,-529)+We(0,0,0,-308)+We(0,0,0,-495)+Te(188)+We(0,0,0,-635)+"311.7))) * 43758.545"+Te(119)+We(0,0,0,-536)+Te(284)+We(0,0,0,-178)+Te(328)+We(0,0,0,-449)+We(0,0,0,-312)+We(0,0,0,-597)+We(0,0,0,-631)+"t f = fract(p);\n    "+We(0,0,0,-175)+We(0,0,0,-140)+We(0,0,0,-555)+We(0,0,0,-528)+Te(V)+Te(420)+We(0,0,0,-347)+We(0,0,0,-487)+We(0,0,0,-706)+Te(O)+We(0,0,0,-295)+Te(-43)+", u.x),\n  "+Te(301)+We(0,0,0,-413)+"(hash(i + "+We(0,0,0,-295)+"0.0, 1.0))"+Te(s)+Te(368)+"(1.0, 1.0)"+We(0,0,0,-565)+".y);\n     "+Te(B)+We(0,0,0,-515)+"      fn f"+Te($)+" VertexOut"+Te(135)+We(0,0,0,-279)+" vec4<f32>"+Te(R)+We(0,0,0,-291)+"in.uv;\n   "+We(0,0,0,-710)+" = uniform"+Te(341)+"      let "+Te(-72)+We(0,0,0,-163)+We(0,0,0,-488)+Te(-90)+We(0,0,0,-676)+" let busy "+Te(-68)+".busy_inte"+Te(et)+"     let h"+Te(Y)+Te(302)+Te(v)+We(0,0,0,-466)+Te(st)+We(0,0,0,-412)+"ty;\n      "+We(0,0,0,-233)+"er = vec2<"+We(0,0,0,-226)+We(0,0,0,-561)+Te(251)+"   // 1. F"+We(0,0,0,-460)+"Organic Smoke)\n     "+Te(ot)+We(0,0,0,-716)+We(0,0,0,-357)+Te(at)+Te(rt)+"(uv * 3.0 "+Te(tt)+") * 0.6;\n        fog"+Te(377)+Te(ct)+Te(lt)+Te(121)+".3;\n      "+We(0,0,0,-190)+We(0,0,0,-212)+We(0,0,0,-151)+We(0,0,0,-206)+We(0,0,0,-704)+"e\n        var color "+We(0,0,0,-407)+We(0,0,0,-673)+We(0,0,0,-670)+"\n        l"+We(0,0,0,-666)+We(0,0,0,-426)+Te(-38)+We(0,0,0,-374)+".1);\n        let fog"+Te(dt)+"(1.0 - ui "+We(0,0,0,-632)+Te(268)+Te(-37)+Te(x)+We(0,0,0,-322)+We(0,0,0,-433)+"= mix(colo"+We(0,0,0,-331)+Te(n)+Te(mt)+We(0,0,0,-549)+We(0,0,0,-207)+Te(-150)+"     // 3. Central B"+We(0,0,0,-162)+"Source\n        if (busy > 0.01"+We(0,0,0,-651)+Te(-121)+Te(-144)+Te(gt)+Te(216)+Te(J)+Te(-54)+We(0,0,0,-218)+We(0,0,0,-420)+Te(-42)+We(0,0,0,-490)+Te(ft)+"r_pulse = "+We(0,0,0,-688)+We(0,0,0,-718)+We(0,0,0,-354)+Te(vt)+Te(219)+Te(-15)+Te(-85)+Te(pt)+Te(-146)+We(0,0,0,-346)+We(0,0,0,-585)+We(0,0,0,-238)+We(0,0,0,-459)+Te(xt)+" center_gl"+Te(221)+We(0,0,0,-225)+"   // 4. S"+We(0,0,0,-252)+Te(-60)+We(0,0,0,-494)+Te(104)+We(0,0,0,-219)+Te(51)+"< 8; i++) "+We(0,0,0,-437)+Te(-5)+We(0,0,0,-690)+Te(273)+"          "+Te(206)+We(0,0,0,-477)+"2<f32>(asp"+We(0,0,0,-201)+Te(67)+Te(wt)+Te(bt)+We(0,0,0,-360)+We(0,0,0,-227)+Te(117)+Te(-86)+We(0,0,0,-235)+Te(Ct)+Te(-10)+Te(F)+We(0,0,0,-208)+Te(170)+"omentum_boost = s.mo"+Te(Bt)+Te(155)+Te(Lt)+"et node_gl"+Te(-168)+We(0,0,0,-705)+Te(247)+Te(zt)+".1 * s.opa"+Te(It)+Te(z)+Te(kt)+We(0,0,0,-490)+" color += "+We(0,0,0,-708)+Te(Dt)+Te(Et)+We(0,0,0,-198)+"irectional"+Te(-162)+Te(qt)+Te(N)+Te(-27)+"   let dir"+We(0,0,0,-200)+Te(Wt)+We(0,0,0,-204)+We(0,0,0,-148)+Te(Pt)+Te(-160)+We(0,0,0,-490)+"   let to_"+Te(At)+Te(Ut)+"* aspect_v"+Te(-157)+Te(Ot)+Te(jt)+"ag = length(to_frag)"+We(0,0,0,-235)+"    if (dist_to_frag"+We(0,0,0,-655)+Te(Tt)+Te(Ht)+Te(-31)+"= dot(norm"+Te(Kt)+"rag), dir)"+We(0,0,0,-235)+Te(Ht)+Te(Yt)+We(0,0,0,-439)+"othstep(0."+We(0,0,0,-376)+We(0,0,0,-618)+Te(Jt)+Te(Zt)+"one_fallof"+Te(I)+We(0,0,0,-166)+We(0,0,0,-713)+We(0,0,0,-570)+Te(Vt)+Te(-28)+We(0,0,0,-406)+Te(Xt)+We(0,0,0,-470)+We(0,0,0,-434)+Te($t)+" * s.opaci"+Te(Ft)+We(0,0,0,-265)+Te(Nt)+Te(67)+We(0,0,0,-160)+We(0,0,0,-270)+We(0,0,0,-188)+We(0,0,0,-503)+Te(Rt)+Te(158)+We(0,0,0,-307)+Te(Gt)+"ty > 0.2 && s.parent"+We(0,0,0,-589)+We(0,0,0,-342)+Te(-83)+Te(K)+Te(St)+Te(te)+"   if (s.parent_idx "+Te(304)+We(0,0,0,-408)+We(0,0,0,-415)+Te(ee)+"     origi"+Te(h)+Te(Mt)+We(0,0,0,-457)+We(0,0,0,-418)+"       ori"+Te(se)+We(0,0,0,-659)+We(0,0,0,-602)+"rent_idx)].pos;\n    "+Te(186)+Te(ne)+We(0,0,0,-190)+Te(-91)+We(0,0,0,-686)+Te(oe)+We(0,0,0,-537)+We(0,0,0,-700)+Te(ae)+Te(-33)+We(0,0,0,-354)+Te(96)+Te(-65)+Te(re)+Te(ce)+Te(173)+Te(le)+We(0,0,0,-490)+We(0,0,0,-383)+Te(-77)+We(0,0,0,-558)+"\n            let p_n"+We(0,0,0,-285)+Te(285)+Te(de)+"y, ba.x));"+We(0,0,0,-507)+Te(-140)+Te(X)+Te(166)+We(0,0,0,-631)+We(0,0,0,-353)+We(0,0,0,-203)+We(0,0,0,-143)+We(0,0,0,-132)+Te(301)+Te(w)+Te(u)+"ise(vec2<f"+Te(me)+Te(L)+Te(258)+Te(nt)+We(0,0,0,-375)+We(0,0,0,-621)+Te(-74)+We(0,0,0,-395)+"bond = dis"+Te(it)+Te(ge)+Te(E)+Te(-95)+We(0,0,0,-580)+"          "+We(0,0,0,-190)+"     // Sl"+Te(fe)+We(0,0,0,-411)+"e\n        "+We(0,0,0,-199)+We(0,0,0,-294)+Te(ve)+We(0,0,0,-372)+Te(389)+We(0,0,0,-235)+"    let bo"+We(0,0,0,-452)+Te(pe)+"to_bond * 1500.0);\n           "+We(0,0,0,-671)+We(0,0,0,-349)+(Te(_t)+We(0,0,0,-513)+Te(xe)+Te(67)+Te(Ge))+"      // H"+Te(we)+"ade-in/out for the b"+Te(-25)+We(0,0,0,-354)+Te(-137)+"sity = hb * 0.8 * bu"+Te(S)+"      let "+We(0,0,0,-577)+We(0,0,0,-214)+We(0,0,0,-458)+We(0,0,0,-501)+Te(-167)+Te(-53)+Te(ne)+"\n         "+We(0,0,0,-409)+"= bond_col"+We(0,0,0,-315)+Te(ue)+We(0,0,0,-511)+"low * surg"+We(0,0,0,-522)+We(0,0,0,-476)+Te(Ce)+Te(295)+Te(W)+We(0,0,0,-507)+Te(Qt)+"x(color, c"+We(0,0,0,-430)+We(0,0,0,-241)+We(0,0,0,-641)+Te(-127)+Te(yt)+" let edge_"+Te(-81)+We(0,0,0,-348)+Te(Be)+"0.5));\n   "+Te(-28)+Te(-70)+We(0,0,0,-421)+We(0,0,0,-639)+We(0,0,0,-247)+Te(Q)+"32>(color,"+Te(f)+"   }\n    ",Ae={};Ae[Te(Le)]=Pe;const Ue=this[We(0,0,0,-230)][Te(ye)+Te(ze)](Ae),Oe={};Oe.format=e;const je={};function Te(t,e,i,s){return l(t- -376)}je.layout=_e[Te(293)],je[We(0,0,0,-497)]={},je[Te(be)]={},je[Te(he)]={},je[We(0,0,0,-497)][Te(-128)]=Ue,je[We(0,0,0,-497)][Te(Z)]=_e[We(0,0,0,-702)],je[Te(be)][We(0,0,0,-685)]=Ue,je[Te(be)][Te(Z)]=Te(32),je[Te(be)][Te(396)]=[Oe],je[Te(he)][Te(ie)]=_e[We(0,0,0,-428)],this[Te(299)]=this[Te(Ie)][We(0,0,0,-517)+We(0,0,0,-578)](je);const He={};He[We(0,0,0,-481)]=432,He[We(0,0,0,-662)]=GPUBufferUsage[Te(110)]|GPUBufferUsage[We(0,0,0,-209)],this[Te(ut)+We(0,0,0,-340)]=this[Te(Se)][Te(ke)+"er"](He),this[Te(ht)]=this.device[Te(De)+We(0,0,0,-283)]({layout:this[Te(Ee)]["getBindGro"+Te(-136)](0),entries:[{binding:0,resource:{buffer:this[Te(Me)+Te(217)]}}]})}[r(0,0,908)](t,e){const i=147,s=315,n=102,o=440,a=168,c=193,l=530,h=264,d=91,u=334,m=85,y=377,g=622,f=195,v=213,p=536,x=508,G=281,w=277,b=530,C=71,B=602,L=40,z=351,I=282,S=293,k=438,D=147,E=619,M=252,q=304,W=43,_=434,P=242,A=376,U=84,O=470,j=518,T=316,H=549,N=112,K=284,Y=46,J=83,Z=543,V=46,X=489,$=365,F=206,R=175,Q=575,tt=136,et=608,it=426,st={};function nt(t,e,i,s){return r(0,0,i- -366)}function ot(t,e,i,s){return r(0,0,e- -1172)}st[ot(-369,-368)]=function(t,e){return t+e},st[nt(-1,441,i)]=function(t,e){return t*e},st[nt(0,0,s)]=function(t,e){return t-e},st[nt(0,0,n)]=function(t,e){return t<e},st.nLkpt=function(t,e){return t/e},st[nt(0,0,o)]=function(t,e){return t*e},st.TPAKn=function(t,e){return t-e},st.mfCCE=function(t,e){return t+e},st[nt(0,0,a)]=function(t,e){return t*e},st.eIVbZ=function(t,e){return t-e},st[ot(-492,-428)]=function(t,e){return t/e},st[nt(0,0,143)]=function(t,e){return t>e},st[ot(-530,-261)]=function(t,e){return t/e},st[ot(-411,-583)]=function(t,e){return t-e},st.kjbcx=function(t,e){return t>=e},st[ot(-140,-189)]=nt(0,0,c),st[ot(0,-529)]=function(t,e){return t<e},st[nt(0,0,l)]=function(t,e){return t!==e},st[nt(0,0,71)]=nt(0,0,h),st[ot(0,-524)]=function(t,e){return t===e},st[ot(0,-207)]=nt(0,0,d),st[nt(0,0,219)]=function(t,e){return t*e},st[ot(0,-502)]=function(t,e){return t+e},st[ot(0,-751)]=function(t,e){return t*e},st[ot(0,-420)]="nyRiX",st[nt(0,0,u)]="POIgC",st.tLshd=function(t,e){return t-e},st[ot(0,-727)]=function(t,e){return t>e},st[nt(0,0,y)]=nt(0,0,g),st[nt(0,0,f)]=function(t,e){return t+e},st.ilEuB=function(t,e){return t+e},st[ot(0,-231)]=function(t,e){return t+e},st.qXRAq=function(t,e){return t+e},st.MjzjP=function(t,e){return t+e},st[nt(0,0,v)]=function(t,e){return t+e},st.aDDYx=function(t,e){return t+e};const at=st;if(!this[nt(0,0,p)]||!this[nt(0,0,x)])return;this[nt(0,0,G)+"es"](e);const rt=e[nt(0,0,180)+nt(0,0,222)]||0;if(at[nt(0,0,w)](rt,.05)&&at.kjbcx(this.lastHB,.05))if(at[nt(0,0,b)]("msEdX",at[nt(0,0,C)]))this[ot(0,-455)+nt(0,0,B)+"ed"]=!1;else if(_0x1f43b3){const t=_0x57b972.apply(_0x30ab8b,arguments);return _0x33bf5e=null,t}if(this[nt(0,0,L)]=rt,!this[nt(0,0,z)+"sInitialized"]&&at[ot(0,-529)](rt,.1))if(at[nt(0,0,I)](nt(0,0,523),at[nt(0,0,599)])){const t=_0x53ff40.time,e=_0x34dd1d[nt(0,0,S)]?at[ot(0,-368)](.5,at[ot(0,-659)](_0x3b1812[ot(0,-187)](),1)):at[nt(0,0,k)](4,at[nt(0,0,D)](_0x9444bd[nt(0,0,E)](),2));if((!this.lastTrigger||at[ot(0,-491)](t,this[nt(0,0,621)+"r"])>e)&&at[ot(0,-704)](this[nt(0,0,M)][ot(0,-649)],this[nt(0,0,492)])){this[ot(0,-185)+"r"]=t;const e=this[nt(0,0,43)][_0x52ba02[ot(0,-318)](_0xfb4ec9[ot(0,-187)]()*this[nt(0,0,W)][nt(0,0,157)])];this.shapes[nt(0,0,555)]({...e,size:at[nt(0,0,D)](e[nt(0,0,285)],at[ot(0,-368)](.8,at[nt(0,0,147)](_0x3b5f75[nt(0,0,E)](),1.5))),startTime:t,opacity:0,active:!0,x:e[nt(0,0,434)].x1,y:e[nt(0,0,_)].y1})}this[nt(0,0,M)]=this[ot(0,-554)][ot(0,-508)](t=>t[ot(0,-306)]);for(let i of this.shapes){const e=at[nt(0,0,P)](t-i[ot(0,-655)],i[nt(0,0,A)]);i.x=i[nt(0,0,_)].x1+at.bsguk(at[nt(0,0,U)](i[ot(0,-372)].x2,i.path.x1),e),i.y=at[nt(0,0,O)](i[nt(0,0,_)].y1,at[nt(0,0,168)](at[nt(0,0,j)](i.path.y2,i[ot(0,-372)].y1),e)),at.QdCRS(e,.2)?i.opacity=at[ot(0,-428)](e,.2):at.Comct(e,.8)?i[nt(0,0,T)]=1-at[ot(0,-261)](at.niBBk(e,.8),.2):i.opacity=1,at.kjbcx(e,1)&&(i[ot(0,-306)]=!1)}}else this[ot(0,-603)+nt(0,0,H)](e),this[ot(0,-455)+"sInitialized"]=!0;this[nt(0,0,284)+nt(0,0,N)]=e[ot(0,-513)]?1:.2;this["busyIntens"+ot(0,-286)]+=.05*(this[nt(0,0,K)+nt(0,0,112)]-this.busyIntensity),this[ot(0,-263)+nt(0,0,Y)]=e[ot(0,-370)+nt(0,0,J)]?1:0,this[nt(0,0,522)+"y"]+=at[nt(0,0,219)](at[nt(0,0,315)](this[nt(0,0,Z)+nt(0,0,V)],this.uiIntensity),.05);const ct=new Float32Array(108);ct[0]=e.time,ct[1]=e.screen[nt(0,0,X)],ct[2]=e[ot(0,-456)][nt(0,0,$)],ct[3]=0,ct[4]=e[ot(0,-600)][ot(0,-233)][0],ct[5]=e[nt(0,0,F)][ot(0,-233)][1],ct[6]=Math.max(.2,this[ot(0,-398)+ot(0,-286)]),ct[7]=rt,ct[8]=this[ot(0,-284)+"y"];for(let r=0;r<8;r++)if(nt(0,0,R)!==nt(0,0,175)){this.updateShapes(_0x7d43f6);const{width:t,height:e}=_0x25f74e[ot(0,-456)];_0x14b56c.fillStyle=at[nt(0,0,617)],_0x53519e[nt(0,0,207)](0,0,t,e)}else{const t=at[nt(0,0,q)](12,at[ot(0,-751)](r,12)),e={x:-5,y:-5};e[ot(0,-490)]=0,e[ot(0,-670)]=[0,0,0],e[nt(0,0,401)]=0,e[ot(0,-632)]=-5,e[ot(0,-521)]=.1;const i=this[ot(0,-554)][r]||e;let s=0,n=0;if(i[ot(0,-372)])if(at[ot(0,-420)]===at.aOXcK)_0x3b9e4d.momentum=0,_0x21afe6[ot(0,-632)]=-5;else{s=at[nt(0,0,518)](i[nt(0,0,_)].x2,i[ot(0,-372)].x1),n=at.tLshd(i.path.y2,i[nt(0,0,_)].y1);const t=Math.hypot(s,n);if(at[ot(0,-727)](t,0)){if(!at[nt(0,0,I)](at.GmBda,"SazlR")){const t=_0x3268a5[ot(0,-320)](_0x52d113,arguments);return _0x435705=null,t}s/=t,n/=t}}ct[t]=i.x,ct[at[ot(0,-502)](t,1)]=i.y,ct[at[ot(0,-611)](t,2)]=i[ot(0,-490)]||0,ct[at[nt(0,0,m)](t,3)]=i.size||.1,ct[at[nt(0,0,Q)](t,4)]=i[nt(0,0,136)][0],ct[at[ot(0,-762)](t,5)]=i.color[1],ct[at[nt(0,0,368)](t,6)]=i[nt(0,0,tt)][2],ct[t+7]=i[ot(0,-405)]||0,ct[t+8]=at[ot(0,-524)](i.parentIdx,void 0)?-5:i.parentIdx,ct[at[ot(0,-593)](t,9)]=s,ct[at[nt(0,0,299)](t,10)]=n}this[nt(0,0,p)].queue[nt(0,0,et)+"r"](this["uniformBuf"+nt(0,0,it)],0,ct),t[ot(0,-644)+"e"](this[nt(0,0,x)]),t[ot(0,-690)+"up"](0,this.bindGroup),t.draw(4)}[r(0,0,569)+"onds"](t){const e=276,i=154,s=352,n=21,o=15,a=361,h=439,d=67,u=17,m=217,y=222,g=199,f=88,v=81,p=945,x=1021,G=168,w=276,b=123,C=689,B=632,L=437,z=745,I=909,S=964,k=1164,D=859,E=629,M=816,q=547,W=317,_=346,P=682,A=559,U=843,O=804,j=564,T=695,H=591,N=536,K=270,Y=355,J=422,Z=338,V=312,X=265,$=270,F=1235,R=1008,Q=1455,tt=1322,et=1157,it=106,st=1086,nt=1389,ot=351,at=1119,rt=1453,ct=383,lt=99,ht=1369,dt=1318,ut=616,mt={};function yt(t,e,i,s){return r(0,0,t- -954)}function gt(t,e,i,s){return c(0,0,t- -884)}mt[gt(88,306)]=function(t,e){return t*e},mt[gt(167,e)]=function(t,e){return t*e},mt[yt(-434)]=function(t,e){return t+e},mt[gt(i,205)]=gt(s,104),mt[gt(-168,26)]="LhtVs",mt.ZOrHq=function(t,e){return t>e},mt.qsWdT=function(t,e){return t!==e},mt[yt(-267)]=gt(-115,-47),mt[yt(-489)]=function(t,e){return t-e},mt[gt(-4,-141)]=function(t,e){return t+e},mt[gt(n,-89)]=function(t,e){return t*e},mt[gt(o,-161)]=function(t,e){return t<e},mt[gt(a,h)]=function(t,e){return t>e},mt[yt(-167)]=function(t,e){return t/e},mt[gt(-141,d)]=function(t,e){return t-e},mt[gt(-17,m)]=function(t,e){return t>=e},mt[yt(-373)]=function(t,e){return t+e},mt.XnqOw=function(t,e){return t+e},mt.rKTzf=gt(y,84),mt[yt(-376)]="becrx";const ft=mt;this[gt(17)][gt(-82)](t=>{function e(t,e,i,s){return gt(t-677)}t[e(843)]=0,t[e(ut)]=-5});const vt={x:.5,y:.5},pt=vt;this[gt(u)][gt(-82)](t=>{function e(t,e,i,s){return yt(t-1422)}function i(t,e,i,s){return yt(e-537)}if(ft[i(0,Z)]===ft[i(0,16)])return _0x32bfb3.toString()[i(0,lt)](i(0,181)+"+$")[e(ht)]()[e(dt)+"r"](_0x4ceb11).search("(((.+)+)+)+$");if(Math[i(0,V)](t.x-pt.x,t.y-pt.y)<.5&&ft[i(0,55)](t[i(0,X)],.2))if(ft[e(1214)](ft[i(0,$)],i(0,423)))t[e(F)]=1,t[e(R)]=-2;else{this[e(Q)+"r"]=_0x592dfd;const t=this[e(877)][_0xfc5960[e(tt)](ft[e(et)](_0x2f1baf[e(1453)](),this[i(0,-8)][i(0,it)]))];this[e(st)][e(nt)]({...t,size:ft[i(0,ot)](t[e(at)],ft.CSSwr(.8,1.5*_0x41a74f[e(rt)]())),startTime:_0x1809dd,opacity:0,active:!0,x:t[i(0,ct)].x1,y:t[i(0,383)].y1})}});for(let r=0;r<3;r++)if(ft[yt(-126)]===ft.TyxMv){const t=ft[gt(-136)](_0x5c011b,_0x1c1e2e.startTime)/_0x4f468d[yt(-212)];_0x5f150f.x=ft[yt(-357)](_0x119577[gt(g)].x1,ft.QAZcF(ft.CKDdh(_0x2ed080.path.x2,_0x2d0b79[yt(-154)].x1),t)),_0x7f8bec.y=ft[yt(-357)](_0x4bac29[gt(199)].y1,ft[gt(f)](ft[yt(-489)](_0x2072e3[yt(-154)].y2,_0x3436a0[gt(199)].y1),t)),ft[yt(-338)](t,.2)?_0x3d61d2[gt(v)]=t/.2:ft[gt(361)](t,.8)?_0xe31afb[yt(-272)]=ft[gt(-136)](1,ft[yt(-167)](ft[gt(-141)](t,.8),.2)):_0x4ba2c0[yt(-272)]=1,ft[yt(-370)](t,1)&&(_0x4e7795.active=!1)}else this[yt(-336)].forEach((t,e)=>{const i=584,s=40,n={IXQiU:function(t,e){return t===e},nMVgN:function(t,e){return ft.CKDdh(t,e)},pqVsC:function(t,e){return ft[(i=J,l(i-s))](t,e);var i},JSJNd:function(t,e){return ft[(i=194,l(i- -375))](t,e);var i},FaLAG:function(t,e){return ft.FkPru(t,e)},APfBE:function(t,e){return ft[(i=335,l(i- -98))](t,e);var i}};function o(t,e,i,s){return gt(s- -43)}function a(t,e,s,n){return gt(t-i)}ft[a(p,x)](t[o(G,265,w,b)],0)||this[o(0,0,0,-26)].forEach((i,s)=>{if(n[l(C,629,B,L)](i[l(z,I,S,k)],0)||n[l(D,E,M,q)](e,s))return;const r=Math[h(W,_)](t.x-i.x,n.nMVgN(t.y,i.y)),c=n[l(P,A,U,O)](.25,n[l(j,T,H,486)](i.momentum,.1));function l(t,e,i,s){return o(0,0,0,e-786)}function h(t,e,i,s){return a(t- -395)}n[h(N)](r,c)&&t[h(K)]>.2&&(t[l(0,I)]=n[h(63)](i[h(Y)],1),t.parentIdx=s)})})}[c(0,0,1048)](t,e){const i=806,s=832,n=658;this[l(1212,920,633)+"es"](e);const{width:o,height:a}=e.screen;function l(t,e,i,s){return c(0,0,e- -10)}var h;t.fillStyle=l(i,s,n),t[(h=-220,r(0,0,h- -793))](0,0,o,a)}updateShapes(t){const e=1188,i=1035,s=1446,n=97,o=90,a=173,l=427,h=942,d=824,u=802,m=1110,y=1e3,g=906,f=757,v=828,p=740,x=1498,G=820,w=739,b=568,C=997,B=1400,L=1214,z=1039,I=855,S=892,k=664,D=44,E=1256,M=370,q=219,W=1131,_=1301,P=1030,A=1112,U=372,O=254,j=743,T=753,H=1001,N=599,K=1058,Y=1174,J=976,Z=1192,V=372,X=1250,$=1170,F=1051,R=1419,Q=1467,tt=1553,et=765,it=725,st=613,nt=1232,ot=1213,at=1188,rt=995,ct=967,lt=1081,ht=1097,dt=1152,ut=785,mt=914,yt=1262,gt=1318,ft=1080,vt=1116,pt=1397,xt=944,Gt=934,wt=1302,bt=127,Ct=779,Bt=185,Lt=283,zt=1116,It=371,St=1182,kt=33,Dt={};function Et(t,e,i,s){return r(0,0,s- -615)}Dt[Et(337,75,251,325)]=function(t,e){return t+e},Dt[_t(1115,e,i,s)]=function(t,e){return t*e},Dt[Et(n,72,o,-152)]=function(t,e){return t+e},Dt[Et(327,a,l,219)]=function(t,e){return t*e},Dt[_t(h,d,u,867)]=function(t,e){return t>e},Dt.nRTAb=function(t,e){return t<e},Dt[_t(m,y,g,1069)]=function(t,e){return t*e},Dt[_t(806,f,v,p)]=function(t,e){return t/e},Dt[_t(1237,1302,1471,x)]=function(t,e){return t-e},Dt[_t(939,G,776,692)]=function(t,e){return t*e},Dt[_t(869,w,b,C)]=function(t,e){return t+e},Dt[_t(B,L,1044,974)]=function(t,e){return t*e},Dt[_t(z,I,S,k)]=function(t,e){return t<e},Dt[Et(0,0,0,-139)]=function(t,e){return t/e},Dt.ajjCv=function(t,e){return t/e},Dt.NTFIp=function(t,e){return t>=e};const Mt=Dt,qt=t.time,Wt=t[Et(0,0,0,D)]?Mt[_t(1251,E,983,1070)](.5,Mt.pCzNv(Math[Et(0,0,0,M)](),1)):Mt.bgfBV(4,Mt[Et(0,0,0,q)](Math[_t(W,_,P,A)](),2));if((!this[Et(0,0,0,U)+"r"]||Mt[Et(0,0,0,-107)](qt-this[Et(0,0,0,U)+"r"],Wt))&&Mt[Et(0,0,0,O)](this[_t(1016,934,j,T)][_t(H,839,852,N)],this[_t(K,Y,J,Z)])){this[Et(0,0,0,V)+"r"]=qt;const t=this[Et(0,0,0,-206)][Math[_t(X,$,F,1176)](Math[_t(R,1301,Q,tt)]()*this[_t(et,it,683,st)].length)];this.shapes[_t(nt,1237,1195,ot)]({...t,size:Mt[_t(1386,at,rt,1066)](t[_t(1261,ct,lt,ht)],.8+Mt[_t(dt,y,ut,mt)](Math[_t(yt,1301,gt,1035)](),1.5)),startTime:qt,opacity:0,active:!0,x:t.path.x1,y:t[_t(ft,vt,pt,xt)].y1})}function _t(t,e,i,s){return c(0,0,e-kt)}this.shapes=this[_t(0,Gt)][_t(0,980)](t=>t[_t(0,1182)]);for(let r of this[_t(0,Gt)]){const t=Mt[Et(0,0,0,-174)](Mt[_t(0,wt)](qt,r.startTime),r[Et(0,0,0,bt)]);r.x=Mt[_t(0,Ct)](r.path.x1,Mt.fxWby(r[_t(0,vt)].x2-r[Et(0,0,0,Bt)].x1,t)),r.y=Mt[_t(0,w)](r[Et(0,0,0,185)].y1,Mt[Et(0,0,0,Lt)](Mt[_t(0,1302)](r[Et(0,0,0,185)].y2,r[_t(0,zt)].y1),t)),Mt[_t(0,I)](t,.2)?r[_t(0,998)]=Mt[Et(0,0,0,-139)](t,.2):Mt.IMiGD(t,.8)?r.opacity=Mt[Et(0,0,0,It)](1,Mt.ajjCv(t-.8,.2)):r[Et(0,0,0,67)]=1,Mt.NTFIp(t,1)&&(r[_t(0,St)]=!1)}}}const u=new URL(import.meta.url).searchParams.get("h");if(u){const t=localStorage.getItem("dex_build_hash");t&&t!==u&&(console.warn(`New Build Detected [${u}]. Purging local storage...`),localStorage.clear()),localStorage.setItem("dex_build_hash",u)}const m=new class{constructor(t){this.canvas=document.getElementById(t),this.systems=[],this.isRunning=!1,this.lastTime=0,this.registry={dt:0,time:0,screen:{width:0,height:0,dpr:1},input:{mouse:[0,0],click:!1}},this._resize(),window.addEventListener("resize",()=>this._resize());const e=(t,e)=>{this.registry.input.mouse=[t*this.registry.screen.dpr/this.canvas.width,1-e*this.registry.screen.dpr/this.canvas.height]};window.addEventListener("mousemove",t=>e(t.clientX,t.clientY)),window.addEventListener("touchmove",t=>{t.touches.length>0&&e(t.touches[0].clientX,t.touches[0].clientY)})}async init(){console.log("Easter Engine: Initializing...");for(const t of this.systems)t.init&&await t.init(this.registry,this.canvas);this.isRunning=!0,requestAnimationFrame(t=>this._loop(t))}addSystem(t){return this.systems.push(t),this}_resize(){this.registry.screen.dpr=window.devicePixelRatio||1,this.canvas.width=window.innerWidth*this.registry.screen.dpr,this.canvas.height=window.innerHeight*this.registry.screen.dpr,this.registry.screen.width=this.canvas.width,this.registry.screen.height=this.canvas.height;for(const t of this.systems)t.resize&&t.resize(this.registry)}_loop(t){if(!this.isRunning)return;const e=(t-this.lastTime)/1e3;this.lastTime=t,this.registry.dt=e,this.registry.time=t/1e3;for(const i of this.systems)i.update(this.registry);requestAnimationFrame(t=>this._loop(t))}}("hero-canvas");m.addSystem(new class{constructor(){this.renderer=new n,this.renderer.addPass(new d)}async init(t,e){await this.renderer.init(t,e)}resize(t){this.renderer.resize(t)}update(t){this.renderer.update(t)}}),m.addSystem(new class{constructor(){this.isActive=!1,this.history=[],this.apiUrl="",this.wsUrl="",this.eventServiceUrl="",this.ws=null,this.sessionId=this.getOrCreateSessionId(),this.isProcessing=!1,this.isSleeping=!1,this.debugMode="true"===localStorage.getItem("dex_debug_mode"),this.version="12.1.0",this.emojis=["ðŸ‘","ðŸ‘Ž","â¤ï¸","ðŸ”¥","ðŸ˜‚","ðŸ˜®","ðŸ˜¢","ðŸ™","âœ¨","ðŸš€","âœ…","âŒ","ðŸ¤”","ðŸ‘€","ðŸ’¯"],this.activeReactionTarget=null,this.cancelAttempts=0}getOrCreateSessionId(){let t=localStorage.getItem("dex_session_id");return t||(t="web-"+Math.random().toString(36).substring(2,15),localStorage.setItem("dex_session_id",t)),t}async init(t){this.resolveUrls(),this.container=document.getElementById("chat-container"),this.historyEl=document.getElementById("chat-history"),this.historyEl&&this.historyEl.addEventListener("scroll",()=>{const t=this.historyEl.scrollTop>10;this.historyEl.classList.toggle("is-scrolled",t)}),this.input=document.getElementById("chat-input"),this.submitBtn=document.getElementById("chat-submit"),this.cancelBtn=document.getElementById("chat-cancel"),this.trigger=document.getElementById("dexter-chat-trigger"),this.closeBtn=document.getElementById("chat-close"),this.emojiBtn=document.getElementById("chat-emoji-btn"),this.emojiPicker=document.getElementById("emoji-picker-container"),this.emojiGrid=document.getElementById("emoji-grid"),this.emojiGrid&&this.emojis.forEach(t=>{const e=document.createElement("span");e.textContent=t,e.addEventListener("click",()=>this.pickEmoji(t)),this.emojiGrid.appendChild(e)}),this.emojiBtn&&this.emojiBtn.addEventListener("click",t=>{t.stopPropagation(),this.activeReactionTarget=null,this.toggleEmojiPicker()}),this.debugToggle=document.getElementById("setting-debug-mode"),this.debugToggle&&(this.debugToggle.checked=this.debugMode,this.debugToggle.addEventListener("change",t=>this.setDebugMode(t.target.checked))),this.deleteChatBtn=document.getElementById("setting-delete-chat"),this.deleteChatBtn&&this.deleteChatBtn.addEventListener("click",()=>this.deleteChat()),this.mainContent=document.getElementById("main"),this.footer=document.querySelector(".site-footer"),this.uiGroups=[document.querySelector(".game-ui-left-group"),document.querySelector(".game-ui-right-group")],this.trigger&&this.trigger.addEventListener("click",()=>this.enterChatMode()),this.submitBtn&&this.submitBtn.addEventListener("click",()=>this.sendMessage()),this.cancelBtn&&this.cancelBtn.addEventListener("click",()=>this.cancelProcess()),this.closeBtn&&this.closeBtn.addEventListener("click",()=>this.exitChatMode()),this.input&&this.input.addEventListener("keydown",t=>{"Enter"===t.key&&this.sendMessage()}),document.addEventListener("click",t=>{this.emojiPicker&&this.emojiPicker.classList.contains("active")&&(this.emojiPicker.contains(t.target)||t.target===this.emojiBtn||this.toggleEmojiPicker())}),console.log(`ChatSystem: Initializing session ${this.sessionId}`),this.syncOptions().then(()=>{this.setupObfuscation(),this.setupClickToCopy()}),this.startNetworkStatusSync(),console.log("Easter Engine: Chat System Online")}setupObfuscation(){document.querySelectorAll(".discord-configs .settings-item").forEach(t=>{const e=t.querySelector("input.obfuscated");if(!e)return;e.dataset.realValue=e.value;const i=()=>{const t=e.dataset.realValue||"";e.value=this.generateScrambledText(t.length)};i(),t.addEventListener("mouseenter",()=>{e.value=e.dataset.realValue}),t.addEventListener("mouseleave",i)})}setupClickToCopy(){document.querySelectorAll(".settings-input[readonly], .settings-select:disabled").forEach(t=>{t.title="Copy to clipboard",t.addEventListener("click",async e=>{const i=t.dataset.realValue||t.value;if(i&&"..."!==i)try{await navigator.clipboard.writeText(i),this.createCopyParticles(e.clientX,e.clientY);const s=t.style.background;t.style.background="rgba(0, 243, 255, 0.2)",setTimeout(()=>{t.style.background=s},200),console.log("ChatSystem: Copied value to clipboard.")}catch(s){console.error("ChatSystem: Failed to copy text: ",s)}})})}createCopyParticles(t,e){const i=["#00f3ff","#27c93f","#ffffff","#ffd600"];for(let s=0;s<8;s++){const n=document.createElement("div");n.className="copy-particle";const o=Math.random()*Math.PI*2,a=50+50*Math.random(),r=Math.cos(o)*a,c=Math.sin(o)*a;n.style.left=t+"px",n.style.top=e+"px",n.style.setProperty("--tx",`${r}px`),n.style.setProperty("--ty",`${c}px`),n.style.color=i[Math.floor(Math.random()*i.length)],s%2==0?n.textContent="COPIED":(n.textContent="âœ¦",n.style.fontSize="1rem"),document.body.appendChild(n),setTimeout(()=>n.remove(),800)}}generateScrambledText(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()";let i="";for(let s=0;s<t;s++)i+=e.charAt(Math.floor(72*Math.random()));return i}startNetworkStatusSync(){this.fetchNetworkStatus(),this.fetchServiceStatus(),this.syncProcessState(),setInterval(()=>{this.fetchNetworkStatus(),this.fetchServiceStatus(),this.syncProcessState()},2e4)}async fetchNetworkStatus(){const t=`${this.eventServiceUrl}/system/network`;try{const e=await fetch(t,{signal:AbortSignal.timeout(1e4)});if(!e.ok)return;const i=await e.json();i&&i.nodes&&this.renderNetworkStatus(i.nodes)}catch(e){}}async fetchServiceStatus(){const t=`${this.eventServiceUrl}/system/services`;try{const e=await fetch(t,{signal:AbortSignal.timeout(1e4)});if(!e.ok)return;const i=await e.json();i&&i.services&&this.renderServiceStatus(i.services)}catch(e){}}renderServiceStatus(t){const e=document.getElementById("service-status-body");e&&(t&&0!==t.length?e.innerHTML=t.map(t=>{const e=null!=t.cpu?`${t.cpu.toFixed(1)}%`:"--",i=null!=t.mem?`${t.mem.toFixed(0)}MB`:"--",s=t.version?t.version.split(".").slice(0,3).join("."):"N/A";return`\n        <tr>\n          <td><span class="node-name">${t.id}</span></td>\n          <td><span style="opacity: 0.6;">${s}</span></td>\n          <td>\n            <span class="status-pill ${"OK"===t.status?"online":"offline"}">\n              ${t.status}\n            </span>\n          </td>\n          <td><span style="opacity: 0.6; font-size: 0.65rem;">${t.uptime||"--"}</span></td>\n          <td><span style="color: var(--neon-blue); opacity: 0.8;">${e}</span></td>\n          <td><span style="color: #27c93f; opacity: 0.8;">${i}</span></td>\n        </tr>\n      `}).join(""):e.innerHTML='<tr><td colspan="6" style="text-align: center; opacity: 0.5; padding: 20px;">No services detected.</td></tr>')}renderNetworkStatus(t){const e=document.getElementById("network-status-body");e&&(t&&0!==t.length?e.innerHTML=t.map(t=>`\n      <tr>\n        <td><span class="node-name">${t.name}</span></td>\n        <td><span class="node-ip">${t.ip}</span></td>\n        <td>\n          <span class="status-pill ${t.online?"online":"offline"}">\n            ${t.online?"Online":"Offline"}\n          </span>\n        </td>\n        <td>\n          <div class="service-list">\n            ${(t.services||[]).map(t=>`<span class="service-tag">${t}</span>`).join("")}\n            ${t.services&&0!==t.services.length?"":'<span style="opacity: 0.3;">None</span>'}\n          </div>\n        </td>\n      </tr>\n    `).join(""):e.innerHTML='<tr><td colspan="4" style="text-align: center; opacity: 0.5; padding: 20px;">No nodes detected in network.</td></tr>')}async syncOptions(){var t;const e="dex_settings_cache",i=localStorage.getItem(e);if(i)try{const t=JSON.parse(i),e=Date.now()-t.timestamp;if(e<36e5)return console.log(`ChatSystem: Using cached settings (Age: ${Math.round(e/6e4)}m)`),void this.applyOptionsToUI(t.options);console.log("ChatSystem: Settings cache expired.")}catch(n){console.warn("ChatSystem: Failed to parse settings cache.")}const s=`${this.eventServiceUrl}/system/options`;try{console.log(`ChatSystem: Attempting to sync options from ${s}`);const i=await fetch(s,{signal:AbortSignal.timeout(5e3)});if(i.ok){const n=await i.json();if(null==(t=n["dex-discord-service"])?void 0:t.options)return this.applyOptionsToUI(n),localStorage.setItem(e,JSON.stringify({timestamp:Date.now(),options:n})),void console.log(`ChatSystem: Discord options synchronized from ${s}`)}else console.warn(`ChatSystem: Failed to fetch options from ${s} (Status: ${i.status})`)}catch(o){console.warn(`ChatSystem: Error syncing from ${s}:`,o.message)}console.error("ChatSystem: Failed to sync options from authoritative source.")}applyOptionsToUI(t){var e,i,s,n,o,a,r,c;const l=null==(e=t["dex-discord-service"])?void 0:e.options;if(!l)return;const h=document.getElementById("setting-discord-token"),d=document.getElementById("setting-discord-server-id"),u=document.getElementById("setting-discord-voice-channel"),m=document.getElementById("setting-discord-build-channel"),y=document.getElementById("setting-discord-debug-channel"),g=document.getElementById("setting-discord-master-user");h&&(h.value=l.token||"*************"),d&&(d.value=l.server_id||""),u&&(u.value=l.default_voice_channel||""),m&&(m.value=l.build_channel_id||""),y&&(y.value=l.debug_channel_id||""),g&&(g.value=l.master_user||"");const f=null==(i=t["dex-tts-model-service"])?void 0:i.options;if(f){const t=document.getElementById("setting-tts-gpu-enabled");t&&(t.checked="gpu"===f.device||"cuda"===f.device)}const v=null==(s=t["dex-stt-model-service"])?void 0:s.options;if(v){const t=document.getElementById("setting-stt-gpu-enabled");t&&(t.checked="gpu"===v.device||"cuda"===v.device)}const p=null==(n=t["dex-response-model-service"])?void 0:n.options;if(p){const t=document.getElementById("setting-response-gpu-enabled");t&&(t.checked="gpu"===p.device||"cuda"===p.device)}const x=null==(o=t["dex-summary-model-service"])?void 0:o.options;if(x){const t=document.getElementById("setting-summary-gpu-enabled");t&&(t.checked="gpu"===x.device||"cuda"===x.device)}const G=null==(a=t["dex-system"])?void 0:a.options;if(G){const t=document.getElementById("setting-system-orchestrator");t&&(t.value=G.orchestrator||"");const e=document.getElementById("setting-system-network-identifier");e&&(e.value=G.network_identifier||"Public Network")}const w=null==(r=t["dex-assistant-service"])?void 0:r.options;if(w){const t=document.getElementById("setting-assistant-first-name"),e=document.getElementById("setting-assistant-last-name"),i=document.getElementById("setting-assistant-restrictions");t&&(t.value=w.first_name||"Dexter"),e&&(e.value=w.last_name||"Easter"),i&&(i.value=null!=w.restrictions?w.restrictions.toString():"1")}const b=null==(c=t["dex-developer-service"])?void 0:c.options;if(b){const t=document.getElementById("setting-developer-first-name"),e=document.getElementById("setting-developer-last-name"),i=document.getElementById("setting-developer-restrictions");t&&(t.value=b.first_name||"Darwin"),e&&(e.value=b.last_name||"Easter"),i&&(i.value=null!=b.restrictions?b.restrictions.toString():"1")}}async fetchHistory(){if(this.historyEl)try{const t=this.debugMode?"":"&category=messaging",e=`${this.eventServiceUrl}/events?channel=${this.sessionId}${t}&order=desc&format=json&ml=50`;console.log(`ChatSystem: Fetching history from ${e}`);const i=await fetch(e);if(!i.ok)return void console.error(`ChatSystem: History fetch failed with status ${i.status}`);const s=await i.json();if(s&&s.events&&s.events.length>0){console.log(`ChatSystem: Fetched ${s.events.length} raw events`);const t=s.events.filter(t=>{try{const e="string"==typeof t.event?JSON.parse(t.event):t.event;return!!this.debugMode||("messaging.user.sent_message"===e.type||"messaging.bot.sent_message"===e.type||"messaging.assistant.sent_message"===e.type||"bot_response"===e.type||"messaging.user.reaction_added"===e.type||"messaging.bot.reaction_added"===e.type)}catch(e){return!1}});t.length>0?(console.log(`ChatSystem: Found ${t.length} valid items in history.`),this.historyEl.innerHTML="",this.history=[],t.reverse().forEach(t=>{const e="string"==typeof t.event?JSON.parse(t.event):t.event,i=e.type;if("messaging.user.sent_message"===i)this.addMessage("user","You",e.content,e.message_id,!1,new Date(1e3*t.timestamp));else if("messaging.bot.sent_message"===i||"messaging.assistant.sent_message"===i||"bot_response"===i){const i=e.user_name||"Dexter",s="terminal"===e.source?"pty":"assistant";this.addMessage(s,i,e.content||e.response,e.message_id,!1,new Date(1e3*t.timestamp))}else if("messaging.user.reaction_added"===i||"messaging.bot.reaction_added"===i)this.addOrUpdateReaction(e.message_id,e.emoji,e.user_name||"Dexter");else if(this.debugMode){const i={service:t.service||"system",event:e};this.addMessage("event","Event",i,null,!1,new Date(1e3*t.timestamp))}}),this.historyEl.scrollTop=this.historyEl.scrollHeight):console.log("ChatSystem: No valid messages found in event history.")}else console.log("ChatSystem: No history found for this session.")}catch(t){console.error("Failed to fetch history:",t)}}async syncProcessState(){try{const t=`${this.eventServiceUrl}/processes`,e=await fetch(t);if(!e.ok)return;const i=await e.json(),s=i.active||[],n=i.queue||[],o=[...s,...n].find(t=>t.channel_id===this.sessionId);o?(this.setProcessing(!0),this.updateProcessStatus(o.state)):this.setProcessing(!1),this.systemBusy=s.length+n.length>0}catch(t){console.error("Failed to sync process state:",t),this.systemBusy=!1}}toggleEmojiPicker(t=null){if(this.emojiPicker){if(this.emojiPicker.classList.contains("active"))this.emojiPicker.classList.remove("active");else if(this.emojiPicker.classList.add("active"),t&&t.element){const e=t.element.getBoundingClientRect(),i=350;e.top>i?(this.emojiPicker.style.bottom=window.innerHeight-e.top+10+"px",this.emojiPicker.style.top="auto"):(this.emojiPicker.style.top=e.bottom+10+"px",this.emojiPicker.style.bottom="auto"),this.emojiPicker.style.right=window.innerWidth-e.right+"px"}else this.emojiPicker.style.bottom="100px",this.emojiPicker.style.top="auto",this.emojiPicker.style.right="40px"}}pickEmoji(t){this.activeReactionTarget?(this.sendReaction(this.activeReactionTarget.messageId,t),this.toggleEmojiPicker()):this.input&&(this.input.value+=t,this.input.focus())}async sendReaction(t,e){const i={service:"easter.company",event:{type:"messaging.user.reaction_added",source:"web",user_id:"anonymous",user_name:"Web User",channel_id:this.sessionId,server_id:window.location.hostname,message_id:t,emoji:e,timestamp:(new Date).toISOString()}};this.addOrUpdateReaction(t,e,"Web User");try{await fetch(`${this.eventServiceUrl}/post`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})}catch(s){console.error("Error sending reaction:",s)}}addOrUpdateReaction(t,e,i){const s=document.querySelector(`[data-message-id="${t}"]`);if(!s)return;let n=s.querySelector(".message-reactions");n||(n=document.createElement("div"),n.className="message-reactions",s.querySelector(".message-bubble").appendChild(n));let o=n.querySelector(`[data-emoji="${e}"]`);if(o){const t=(o.dataset.users||"").split(",").filter(t=>t.length>0);if(!t.includes(i)){t.push(i),o.dataset.users=t.join(",");o.querySelector(".reaction-count").textContent=t.length,o.title=t.join(", "),o.classList.add("active")}}else o=document.createElement("div"),o.className="reaction-badge active",o.dataset.emoji=e,o.dataset.users=i,o.title=i,o.innerHTML=`<span>${e}</span><span class="reaction-count">1</span>`,n.appendChild(o)}async deleteChat(){var t,e;const i=null==(e=null==(t=window.easterEngine)?void 0:t.systems)?void 0:e.find(t=>"UISystem"===t.constructor.name);if(i){if(!(await i.confirm("Delete Chat","Are you sure you want to delete this chat instance? This will clear all history and kill any active processes for this session.")))return}else if(!confirm("Are you sure you want to delete this chat instance? This will clear all history and kill any active processes for this session."))return;await this._performChatDeletion()}async setDebugMode(t){var e,i;const s=null==(i=null==(e=window.easterEngine)?void 0:e.systems)?void 0:i.find(t=>"UISystem"===t.constructor.name);let n=!1;n=s?await s.confirm("Toggle Debug Mode","Enabling or disabling debug mode requires deleting the current chat instance. Are you sure you want to proceed?"):confirm("Enabling or disabling debug mode requires deleting the current chat instance. Are you sure you want to proceed?"),n?(this.debugMode=t,localStorage.setItem("dex_debug_mode",t),console.log("Easter Engine: Debug Mode "+(t?"Enabled":"Disabled")),await this._performChatDeletion()):this.debugToggle&&(this.debugToggle.checked=!t)}async _performChatDeletion(){var t,e,i,s;console.log(`ChatSystem: Deleting chat instance ${this.sessionId}`);try{await fetch(`${this.eventServiceUrl}/processes/${this.sessionId}`,{method:"DELETE"}),await fetch(`${this.eventServiceUrl}/events?channel=${this.sessionId}`,{method:"DELETE"}),this.history=[],this.historyEl&&(this.historyEl.innerHTML="");const i=this.sessionId;this.sessionId="web-"+Math.random().toString(36).substring(2,15),localStorage.setItem("dex_session_id",this.sessionId),console.log(`ChatSystem: Session reset from ${i} to ${this.sessionId}`),this.setProcessing(!1),this.isSleeping=!1,this.historyEl.innerHTML="",this.history=[];const s={service:"easter.company",event:{type:"greeting",channel_id:this.sessionId,channel_name:"Private Web Chat",timestamp:(new Date).toISOString()}};try{await fetch(`${this.eventServiceUrl}/post`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}catch(n){console.error("ChatSystem: Failed to emit initial greeting:",n)}const o=null==(e=null==(t=window.easterEngine)?void 0:t.systems)?void 0:e.find(t=>"UISystem"===t.constructor.name);o&&o.toggleOverlay("settings")}catch(n){console.error("ChatSystem: Failed to delete chat:",n);const t=null==(s=null==(i=window.easterEngine)?void 0:i.systems)?void 0:s.find(t=>"UISystem"===t.constructor.name);let e="Failed to delete chat instance. Please try again.";0!==this.history.length||this.isProcessing||(e="The chat instance could not be deleted because it appears to be empty or already non-existent. A new instance has been provisioned.",this.sessionId="web-"+Math.random().toString(36).substring(2,15),localStorage.setItem("dex_session_id",this.sessionId),this.addPlaceholderMessages()),t?await t.alert("Deletion Failed",e,!0):alert(e)}}resolveUrls(){const t=window.location.hostname;/^[0-9.]+$/.test(t);"127.0.0.1"===t||"localhost"===t||"::1"===t||"100.100.1.3"===t||"easter-us-3"===t||"100.100.1.0"===t||"easter-server"===t||t.startsWith("100.100."),console.log("ChatSystem: Cluster mode detected, using BFF Proxy paths."),this.apiUrl=window.location.origin+"/api/dashboard",this.wsUrl=("https:"===window.location.protocol?"wss:":"ws:")+"//"+window.location.host+"/api/dashboard/ws",this.eventServiceUrl=window.location.origin+"/api/event",console.log(`ChatSystem: API URL: ${this.apiUrl}`),console.log(`ChatSystem: WS URL: ${this.wsUrl}`),console.log(`ChatSystem: Event URL: ${this.eventServiceUrl}`)}toggleChatMode(){if(this.isActive)this.exitChatMode();else{const t=document.getElementById("game-overlay");t&&t.classList.contains("active")||this.enterChatMode()}}async enterChatMode(){if(this.isActive)return;this.isActive=!0;const t=document.getElementById("chat-loading-screen");if(t&&(t.style.display="flex",t.style.opacity="1"),this.mainContent&&(this.mainContent.style.visibility="visible",this.mainContent.style.transition="opacity 0.8s ease, visibility 0.8s ease",this.mainContent.style.opacity="0",setTimeout(()=>{this.isActive&&(this.mainContent.style.visibility="hidden")},800)),this.footer&&(this.footer.style.visibility="visible",this.footer.style.transition="opacity 0.8s ease, visibility 0.8s ease",this.footer.style.opacity="0",setTimeout(()=>{this.isActive&&(this.footer.style.visibility="hidden")},800)),this.uiGroups.forEach(t=>{t&&(t.style.transition="opacity 0.8s ease, transform 0.8s ease",t.style.opacity="0",t.style.pointerEvents="none",t.style.transform=t.classList.contains("game-ui-left-group")?"translateX(-40px)":"translateX(40px)")}),document.body.classList.add("no-scroll"),this.container&&this.container.classList.add("active"),this.connectWebSocket(),await this.fetchHistory(),await this.syncProcessState(),0===this.history.length){console.log("ChatSystem: History empty, requesting initial greeting.");const t={service:"easter.company",event:{type:"greeting",channel_id:this.sessionId,channel_name:"Private Web Chat",timestamp:(new Date).toISOString()}};try{await fetch(`${this.eventServiceUrl}/post`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(e){console.error("ChatSystem: Failed to emit initial greeting:",e)}}else{console.log(`ChatSystem: History resumed with ${this.history.length} messages.`);const t=this.history[this.history.length-1];if(Date.now()-t.timestamp.getTime()>6e5&&!this.isProcessing){this.isSleeping=!0,console.log("ChatSystem: Instance has been inactive for over 10 minutes. Putting to sleep.");this.historyEl.lastElementChild&&this.historyEl.lastElementChild.textContent.includes("Chat Instance Deactivated")||this.addMessage("system","System","Chat Instance Deactivated.\nSend a message to reactivate.",null,!0)}}t&&(t.style.opacity="0",setTimeout(()=>{t.style.display="none",this.isActive&&this.input&&!this.isProcessing&&this.input.focus()},500))}exitChatMode(){this.isActive&&(this.isActive=!1,this.ws&&(this.ws.close(),this.ws=null),this.mainContent&&(this.mainContent.style.visibility="visible",this.mainContent.style.opacity="1"),this.footer&&(this.footer.style.visibility="visible",this.footer.style.opacity="1"),this.uiGroups.forEach(t=>{t&&(t.style.opacity="1",t.style.pointerEvents="auto",t.style.transform="translateX(0)")}),document.body.classList.remove("no-scroll"),this.container&&this.container.classList.remove("active"),this.emojiPicker&&this.emojiPicker.classList.remove("active"))}connectWebSocket(){this.ws&&this.ws.close(),console.log(`Connecting to WebSocket: ${this.wsUrl}`),this.ws=new WebSocket(this.wsUrl),this.ws.onmessage=t=>{try{const e=JSON.parse(t.data);this.handleLiveEvent(e)}catch(e){console.error("Failed to parse WS message:",e)}},this.ws.onclose=()=>{console.log("WebSocket disconnected"),this.isActive&&setTimeout(()=>this.connectWebSocket(),3e3)},this.ws.onerror=t=>{console.error("WebSocket error:",t)}}handleLiveEvent(t){if(!t||!t.event)return;if(this.isSleeping&&!this.debugMode)return;const e=t.event,i=e.type,s=e.channel_id===this.sessionId;if("messaging.user.reaction_added"!==i)if(s){if("messaging.user.sent_message"===i)return;if("messaging.bot.sent_message"===i){if(e.is_debug&&!this.debugMode)return;const t=e.user_name||"Dexter";this.addMessage("assistant",t,e.content,e.message_id),this.setProcessing(!0)}else if("bot_response"===i){const t=e.user_name||"Dexter";this.addMessage("assistant",t,e.content||e.response||e.text,e.message_id),this.setProcessing(!1)}else"system.process.registered"===i?this.updateProcessStatus(e.state||"Processing..."):"system.process.unregistered"===i||"system.process.error"===i||"system.process.cancelled"===i?(console.log(`ChatSystem: Process ${i} for session ${this.sessionId}`),this.setProcessing(!1)):this.debugMode&&this.addMessage("event","Event",t)}else this.debugMode&&this.addMessage("event","Event",t);else s||this.addOrUpdateReaction(e.message_id,e.emoji,e.user_name)}async sendMessage(){if(this.isProcessing)return;if(!this.input||!this.input.value.trim())return;if(this.isSleeping){this.isSleeping=!1,console.log("ChatSystem: Reactivating from sleep mode.");this.historyEl.querySelectorAll(".message-system").forEach(t=>{t.textContent.includes("Chat Instance Deactivated")&&t.remove()}),this.history=this.history.filter(t=>!("system"===t.type&&t.content.includes("Chat Instance Deactivated")))}const t=this.input.value.trim();this.input.value="";const e=this.generateUUID();if(t.startsWith("/"))return void this.handleSlashCommand(t,e);this.addMessage("user","You",t,e),this.setProcessing(!0);const i={service:"easter.company",event:{type:"messaging.user.sent_message",source:"web",content:t,user_id:"anonymous",user_name:"Web User",channel_id:this.sessionId,channel_name:"Private Web Chat",server_id:window.location.hostname,server_name:"Easter Company Web",message_id:e,timestamp:(new Date).toISOString()}};try{const t=await fetch(`${this.eventServiceUrl}/post`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});t.ok||(console.error("Failed to send message:",await t.text()),this.setProcessing(!1))}catch(s){console.error("Error sending message:",s),this.setProcessing(!1)}}async cancelProcess(){if(!this.isProcessing)return;if(this.cancelAttempts++,this.cancelAttempts>=3)return console.log("ChatSystem: Force unlocking after multiple cancel attempts."),this.setProcessing(!1),void(this.cancelAttempts=0);this.input&&(this.input.placeholder=this.cancelAttempts>1?`Force Unlock (${3-this.cancelAttempts})...`:"Cancelling...");const t={service:"easter.company",event:{type:"system.process.cancel_request",source:"web",channel_id:this.sessionId,timestamp:(new Date).toISOString()}};try{await fetch(`${this.eventServiceUrl}/post`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(e){console.error("Error sending cancel request:",e),this.setProcessing(!1)}}async handleSlashCommand(t,e){const i=t.substring(1).split(" "),s=i[0].toLowerCase(),n=i.slice(1);if("clear"===s)return void(this.historyEl&&(this.historyEl.innerHTML="",this.addMessage("system","System","Visual history cleared.",null,!0)));this.addMessage("user","You",t,e),this.setProcessing(!0);const o=this.generateUUID();let a=null;try{const t=await fetch(`${this.eventServiceUrl}/cli/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:s,args:n,metadata:{channel_id:this.sessionId,channel_name:"Private Web Chat",user_id:"anonymous",user_name:"Web User",source:"web",server_id:window.location.hostname,server_name:"Easter Company Web"}})});if(!t.ok){const e=await t.text();return this.addMessage("system","System",`Error: ${e}`,null,!0),void this.setProcessing(!1)}const e=t.body.getReader(),i=new TextDecoder;let r="";for(;;){const{done:t,value:s}=await e.read();if(t)break;r+=i.decode(s,{stream:!0}),a||(a=this.addMessage("pty","Terminal","",o)),this.updatePtyContent(a,r)}this.setProcessing(!1)}catch(r){console.error("Slash command failed:",r),this.addMessage("system","System",`Command failed: ${r.message}`,null,!0),this.setProcessing(!1)}}updatePtyContent(t,e){const i=t.querySelector(".message-bubble");if(!i)return;let s=[""],n=0;const o=e.split(/(\x1b\[[0-9;]*[A-GJKSTm]|\r|\n)/g);for(const a of o)if(a)if("\n"===a)n++,void 0===s[n]&&(s[n]="");else if("\r"===a)s[n]="";else if(a.startsWith("[")){const t=a.charAt(a.length-1),e=parseInt(a.substring(2,a.length-1))||1;if("A"===t)n=Math.max(0,n-e);else if("B"===t)for(n+=e;s.length<=n;)s.push("");else"K"===t?s[n]="":"m"===t&&(s[n]+=a)}else void 0===s[n]&&(s[n]=""),s[n]+=a;for(;s.length>1&&""===s[s.length-1];)s.pop();i.innerHTML=this.parseAnsi(s.join("\n")),this.historyEl.scrollTop=this.historyEl.scrollHeight}parseAnsi(t){const e={30:"#000000",31:"#ff5f56",32:"#27c93f",33:"#ffbd2e",34:"#007aff",35:"#ff4081",36:"#00f3ff",37:"#ffffff",90:"#666666",91:"#ff5f56",92:"#27c93f",93:"#ffbd2e",94:"#007aff",95:"#ff4081",96:"#00f3ff",97:"#ffffff"};let i="",s=0,n=null,o=!1;for(;s<t.length;)if(""===t[s]&&"["===t[s+1]){let a=s+2,r="";for(;a<t.length&&"m"!==t[a];)r+=t[a],a++;r.split(";").forEach(t=>{"0"===t?(n=null,o=!1):"1"===t?o=!0:e[t]&&(n=e[t])}),i+=n||o?`<span style="${n?"color:"+n+";":""}${o?"font-weight:bold;":""}">`:"</span>",s=a+1}else{const e=t[s];i+="<"===e?"&lt;":">"===e?"&gt;":"&"===e?"&amp;":e,s++}return i}updateProcessStatus(t){this.input&&this.isProcessing&&(this.input.placeholder=`[Dexter] ${t}`)}setProcessing(t){this.isProcessing=t,t||(this.cancelAttempts=0),this.container&&(t?(this.container.classList.add("locked"),this.input&&(this.input.placeholder="Dexter is thinking...",this.input.blur())):(this.container.classList.remove("locked"),this.input&&(this.input.placeholder="Enter command or message...",setTimeout(()=>{this.isActive&&this.input.focus()},100))))}generateUUID(){return crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}addMessage(t,e,i,s=null,n=!0,o=null){const a=s||this.generateUUID(),r=document.querySelector(`[data-message-id="${a}"]`);if(r){const e=r.querySelector(".message-bubble");if(e&&"event"!==t){const s=e.querySelector(".message-action-btn"),n=e.querySelector(".message-reactions");"pty"===t?e.innerHTML=this.parseAnsi(i):e.textContent=i,s&&e.appendChild(s),n&&e.appendChild(n)}return r}const c=this.history.length>0?this.history[this.history.length-1]:null,l=c&&c.type===t&&c.sender===e,h={type:t,sender:e,content:i,id:a,timestamp:o||new Date};if(this.history.push(h),this.historyEl){const s=document.createElement("div");s.className=`chat-message message-${t}${l?" group-continuation":""}`,s.dataset.messageId=a;const o=document.createElement("span");o.className="message-label",o.textContent=e;const r=document.createElement("div");if(r.className="message-bubble","event"===t){const t=i,e=document.createElement("span");e.className="event-summary",e.textContent=`[EVENT] ${t.service}: ${t.event.type||"unknown"}`;const n=document.createElement("div");n.className="event-details",n.textContent=JSON.stringify(t.event,null,2),r.appendChild(e),r.appendChild(n),s.addEventListener("click",()=>{s.classList.toggle("expanded")})}else if("pty"===t)r.innerHTML=this.parseAnsi(i);else{r.textContent=i;let t=!1;try{const e=new Intl.Segmenter("en",{granularity:"grapheme"}),s=Array.from(e.segment(i.trim()));1===s.length&&new RegExp("\\p{Extended_Pictographic}","u").test(s[0].segment)&&(t=!0)}catch(d){const e=i.trim();t=e.length>0&&e.length<=10&&new RegExp("\\p{Extended_Pictographic}","u").test(e)&&!/[a-zA-Z0-9]/.test(e)}t&&r.classList.add("emoji-only");const e=document.createElement("div");e.className="message-action-btn",e.innerHTML="<i class='bx bx-smile'></i>",e.addEventListener("click",t=>{t.stopPropagation(),this.activeReactionTarget={element:s,messageId:a},this.toggleEmojiPicker(this.activeReactionTarget)}),r.appendChild(e)}return l||s.appendChild(o),s.appendChild(r),this.historyEl.appendChild(s),n&&(this.historyEl.scrollTop=this.historyEl.scrollHeight),s}return null}update(t){const e=t.time;if(t.isProcessing=this.isProcessing,t.systemBusy=this.systemBusy,this.historyEl){const t=this.historyEl.scrollHeight>this.historyEl.clientHeight;this.historyEl.classList.toggle("is-scrollable",t)}const i=e%2/2;let s=0;i<.25?s=i/.25:i<.5?s=1-(i-.25)/.25:i<.6?s=(i-.5)/.1*.4:i<.7&&(s=.4-(i-.6)/.1*.4),t.heartbeatIntensity=Math.max(.1,s);const n=document.getElementById("neural-core");if(n)if(this.systemBusy){n.classList.add("active");const t=n.querySelector("img");if(t){const e=1+.1*s,i=1+.5*s;t.style.transform=`scale(${e})`,t.style.filter=`drop-shadow(0 0 30px rgba(0, 243, 255, 0.4)) brightness(${i})`}}else n.classList.remove("active")}}),m.addSystem(new class{constructor(){this.phrases=["Chat with Dexter...","Turn off the lights...","Click here to chat!","Check system status...","Launch build pipeline...","Click here to chat!","Summarize current context...","Initialize neural kernel...","Click here to chat!","Optimize memory preloading..."],this.phraseIndex=0,this.charIndex=this.phrases[0].length,this.isDeleting=!1,this.lastUpdate=0,this.typeSpeed=.1,this.deleteSpeed=.05,this.pauseTime=3,this.state="PAUSE"}async init(t){this.element=document.getElementById("liquid-typewriter"),this.scrollIndicator=document.getElementById("scroll-indicator"),this.rightGroup=document.querySelector(".game-ui-right-group"),this.leftGroup=document.querySelector(".game-ui-left-group"),this.overlay=document.getElementById("game-overlay"),this.mainContent=document.getElementById("main"),this.footer=document.querySelector(".site-footer"),this.overlayTitle=document.getElementById("overlay-title"),this.startTime=t.time,this.viewTitles={spartan:"SPARTAN",market:"MARKET",user:"PROFILE & FAMILY",settings:"SETTINGS"},this.triggers={spartan:document.getElementById("spartan-trigger"),market:document.getElementById("market-trigger"),user:document.getElementById("user-trigger"),settings:document.getElementById("settings-trigger")},this.activeView=null,this.defaultWindow=localStorage.getItem("dex_default_window")||"chat",this.defaultHotkeys={cancel:{key:"Escape",ctrl:!1,alt:!1,shift:!1,label:"Cancel Process"},escape:{key:"Escape",ctrl:!1,alt:!1,shift:!1,label:"Close Windows"},default:{key:"Escape",ctrl:!1,alt:!1,shift:!1,label:"Default Window"},chat:{key:"`",ctrl:!1,alt:!0,shift:!1,label:"Toggle Chat"},spartan:{key:"1",ctrl:!1,alt:!0,shift:!1,label:"Toggle Spartan"},market:{key:"2",ctrl:!1,alt:!0,shift:!1,label:"Toggle Market"},user:{key:"3",ctrl:!1,alt:!0,shift:!1,label:"Toggle Profile"},settings:{key:"4",ctrl:!1,alt:!0,shift:!1,label:"Toggle Settings"}},this.hotkeys=this.loadHotkeys(),this.pendingHotkeys=null,this.recordingAction=null,this.setupListeners(),this.setupHotkeyUI(),window.addEventListener("keydown",t=>{var e,i,s;if(this.recordingAction)return t.preventDefault(),void this.handleHotkeyRecording(t);const n=e=>t.key===e.key&&t.ctrlKey===e.ctrl&&t.altKey===e.alt&&t.shiftKey===e.shift,o=this.hotkeys.escape,a=this.hotkeys.default,r=this.hotkeys.cancel,c=null==(i=null==(e=window.easterEngine)?void 0:e.systems)?void 0:i.find(t=>"ChatSystem"===t.constructor.name),l=n(o),h=n(a),d=n(r);if(l||h||d){const e=document.getElementById("game-overlay"),i=document.getElementById("chat-container"),n=document.getElementById("confirm-modal"),o=document.getElementById("alert-modal"),a=e&&e.classList.contains("active")||i&&i.classList.contains("active")||n&&n.classList.contains("active")||o&&o.classList.contains("active");if(d&&c&&c.isProcessing)return c.cancelProcess(),void t.stopImmediatePropagation();if(l&&a)return c&&c.isActive&&(null==(s=c.emojiPicker)?void 0:s.classList.contains("active"))?(c.toggleEmojiPicker(),void t.stopImmediatePropagation()):(this.activeView?this.toggleOverlay(this.activeView):c&&c.isActive&&c.exitChatMode(),void t.stopImmediatePropagation());if(h&&!a)return this.jumpTo("chat"===this.defaultWindow?null:this.defaultWindow,"chat"===this.defaultWindow),void t.stopImmediatePropagation()}Object.entries(this.hotkeys).forEach(([e,i])=>{"escape"!==e&&"default"!==e&&"cancel"!==e&&n(i)&&(t.preventDefault(),this.jumpTo("chat"===e?null:e,"chat"===e))})}),console.log("Easter Engine: UI System Online")}loadHotkeys(){const t=localStorage.getItem("dex_hotkeys");if(t)try{const e=JSON.parse(t);return Object.keys(e).forEach(t=>{this.defaultHotkeys[t]&&(e[t].label=this.defaultHotkeys[t].label)}),e}catch(e){console.warn("UISystem: Failed to parse saved hotkeys, using defaults.")}return JSON.parse(JSON.stringify(this.defaultHotkeys))}saveHotkeys(t){this.hotkeys=JSON.parse(JSON.stringify(t)),localStorage.setItem("dex_hotkeys",JSON.stringify(this.hotkeys))}setupHotkeyUI(){const t=document.getElementById("hotkeys-accept"),e=document.getElementById("hotkeys-discard"),i=document.getElementById("hotkeys-reset"),s=document.getElementById("setting-default-window");t&&t.addEventListener("click",()=>this.acceptHotkeyChanges()),e&&e.addEventListener("click",()=>this.discardHotkeyChanges()),i&&i.addEventListener("click",()=>this.resetHotkeys()),s&&(s.value=this.defaultWindow,s.addEventListener("change",t=>{this.defaultWindow=t.target.value,localStorage.setItem("dex_default_window",this.defaultWindow),console.log(`UISystem: Default window set to ${this.defaultWindow}`)})),this.renderHotkeys()}renderHotkeys(){const t=document.getElementById("hotkeys-status-body");if(!t)return;const e=this.pendingHotkeys||this.hotkeys;t.innerHTML=Object.entries(e).map(([t,e])=>{let i="";return e.ctrl&&(i+="CTRL+"),e.alt&&(i+="ALT+"),e.shift&&(i+="SHIFT+"),i+=e.key.toUpperCase(),`\n        <tr>\n          <td><span style="opacity: 0.8;">${e.label}</span></td>\n          <td style="text-align: right;">\n            <div class="hotkey-value ${this.recordingAction===t?"recording":""}" \n                 onclick="window.easterEngine.systems.find(s => s.constructor.name === 'UISystem').startRecordingHotkey('${t}')">\n              ${this.recordingAction===t?"...":i}\n            </div>\n          </td>\n        </tr>\n      `}).join("");const i=document.getElementById("hotkeys-actions"),s=document.getElementById("hotkeys-reset-container");i&&(i.style.display=this.pendingHotkeys?"block":"none"),s&&(s.style.display=this.pendingHotkeys?"none":"block")}startRecordingHotkey(t){this.pendingHotkeys||(this.pendingHotkeys=JSON.parse(JSON.stringify(this.hotkeys))),this.recordingAction=t,this.renderHotkeys()}handleHotkeyRecording(t){if(!this.recordingAction)return;["Tab","Control","Alt","Shift","Meta","CapsLock"].includes(t.key)||(this.pendingHotkeys[this.recordingAction]={...this.pendingHotkeys[this.recordingAction],key:t.key,ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey},this.recordingAction=null,this.renderHotkeys())}acceptHotkeyChanges(){this.pendingHotkeys&&(this.saveHotkeys(this.pendingHotkeys),this.pendingHotkeys=null,this.renderHotkeys())}discardHotkeyChanges(){this.pendingHotkeys=null,this.renderHotkeys()}resetHotkeys(){this.saveHotkeys(this.defaultHotkeys),this.renderHotkeys()}jumpTo(t,e=!1){var i,s;const n=null==(s=null==(i=window.easterEngine)?void 0:i.systems)?void 0:s.find(t=>"ChatSystem"===t.constructor.name);e?n&&(n.isActive?n.exitChatMode():(this.activeView&&this.toggleOverlay(this.activeView),n.enterChatMode())):t&&(this.activeView===t||n&&n.isActive&&n.exitChatMode(),this.toggleOverlay(t))}setupListeners(){Object.entries(this.triggers).forEach(([t,e])=>{e&&e.addEventListener("click",()=>this.toggleOverlay(t))})}toggleOverlay(t){const e=this.activeView===t;if(document.querySelectorAll(".overlay-view").forEach(t=>t.classList.remove("active")),Object.values(this.triggers).forEach(t=>{t&&t.classList.remove("highlighted","dimmed")}),e)this.activeView=null,this.overlay&&this.overlay.classList.remove("active"),this.overlayTitle&&(this.overlayTitle.textContent=""),document.body.classList.remove("no-scroll"),this.mainContent&&(this.mainContent.style.opacity="1",this.mainContent.style.visibility="visible"),this.footer&&(this.footer.style.opacity="1",this.footer.style.visibility="visible");else{this.activeView=t,Object.entries(this.triggers).forEach(([e,i])=>{i&&(e===t?i.classList.add("highlighted"):i.classList.add("dimmed"))}),this.overlayTitle&&(this.overlayTitle.textContent=this.viewTitles[t]||"");const e=document.getElementById(`overlay-view-${t}`);e&&e.classList.add("active"),this.overlay&&this.overlay.classList.add("active"),document.body.classList.add("no-scroll"),this.mainContent&&(this.mainContent.style.opacity="0",this.mainContent.style.visibility="hidden"),this.footer&&(this.footer.style.opacity="0",this.footer.style.visibility="hidden")}}confirm(t,e){return new Promise(i=>{const s=document.getElementById("confirm-modal"),n=document.getElementById("confirm-title"),o=document.getElementById("confirm-message"),a=document.getElementById("confirm-cancel"),r=document.getElementById("confirm-ok");if(!s)return void i(window.confirm(`${t}\n\n${e}`));n.textContent=t,o.textContent=e;const c=()=>{s.classList.remove("active"),a.removeEventListener("click",l),r.removeEventListener("click",h)},l=()=>{c(),i(!1)},h=()=>{c(),i(!0)};a.addEventListener("click",l),r.addEventListener("click",h),s.classList.add("active")})}alert(t,e,i=!1){return new Promise(s=>{const n=document.getElementById("alert-modal"),o=document.getElementById("alert-dialog"),a=document.getElementById("alert-title"),r=document.getElementById("alert-message"),c=document.getElementById("alert-ok");if(!n)return window.alert(`${t}\n\n${e}`),void s();a.textContent=t,r.textContent=e,i?o.classList.add("error"):o.classList.remove("error");const l=()=>{n.classList.remove("active"),c.removeEventListener("click",l),s()};c.addEventListener("click",l),n.classList.add("active")})}update(t){var e;const i=t.time,s=0===window.scrollY,n=this.overlay&&this.overlay.classList.contains("active");t.isOverlayActive=n;const o=null==(e=document.getElementById("chat-container"))?void 0:e.classList.contains("active");if(o&&(t.isOverlayActive=!0),this.scrollIndicator){i-this.startTime>6&&s&&!n&&!o?(this.scrollIndicator.style.opacity="1",this.scrollIndicator.style.pointerEvents="auto"):(this.scrollIndicator.style.opacity="0",this.scrollIndicator.style.pointerEvents="none")}if(this.rightGroup&&(!s&&!n||o?(this.rightGroup.style.opacity="0",this.rightGroup.style.pointerEvents="none",this.rightGroup.style.transform="translateX(20px)"):(this.rightGroup.style.opacity="1",this.rightGroup.style.pointerEvents="auto",this.rightGroup.style.transform="translateX(0)")),this.leftGroup&&(!s&&!n||o?(this.leftGroup.style.opacity="0",this.leftGroup.style.pointerEvents="none",this.leftGroup.style.transform="translateX(-20px)"):(this.leftGroup.style.opacity="1",this.leftGroup.style.pointerEvents="auto",this.leftGroup.style.transform="translateX(0)")),!this.element)return;const a=i-this.lastUpdate;switch(this.state){case"TYPING":a>this.typeSpeed&&(this.charIndex++,this.element.textContent=this.phrases[this.phraseIndex].substring(0,this.charIndex),this.lastUpdate=i,this.charIndex>=this.phrases[this.phraseIndex].length&&(this.state="PAUSE"));break;case"DELETING":a>this.deleteSpeed&&(this.charIndex--,this.element.textContent=this.phrases[this.phraseIndex].substring(0,this.charIndex),this.lastUpdate=i,this.charIndex<=0&&(this.state="TYPING",this.phraseIndex=(this.phraseIndex+1)%this.phrases.length));break;case"PAUSE":let t=this.pauseTime;"Click here to chat!"===this.phrases[this.phraseIndex]&&(t*=2),a>t&&(this.state="DELETING",this.lastUpdate=i)}}}),window.easterEngine=m,m.init().catch(t=>{console.error("Easter Engine Verification Failed:",t)});
